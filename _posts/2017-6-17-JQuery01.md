---
layout: post
title: JQuery
tags:
- java

categories: java
description:JQuery
---


## jQuery介绍

###### JS类库
```
JavaScript 库封装了很多预定义的对象和实用函数。能帮助使用者建立有高难度交互客户端页面, 并且兼容各大浏览器。
```

###### 当前流行的 JavaScript 库有：
```document
jQuery ，最流行
EXT_JS，2.0开始收费
Dojo ，很多js单独文件，优化：打包。（常见：开发小图标，一张图片）
Prototype，对js扩展，框架开发。
YUI(Yahoo! User Interface) ，taobao之前使用。
淘宝UI：http://docs.kissyui.com/
Bootstrap，来自 Twitter，是目前很受欢迎的前端框架Bootstrap 是基于 HTML、CSS、JAVASCRIPT 的，它简洁灵活，使得 Web 开发更加快捷。基于jQuery 一个UI工具
```
######	jQuery介绍
```doc
JQuery是继prototype之后又一个优秀的Javascript库。它是轻量级的js库 ，它兼容CSS3，还兼容各种浏览器（IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+），jQuery2.0及后续版本将不再支持IE6/7/8浏览器。jQuery使用户能更方便地处理HTML（标准通用标记语言下的一个应用）、events、实现动画效果，并且方便地为网站提供AJAX交互。jQuery还有一个比较大的优势是，它的文档说明很全，而且各种应用也说得很详细，同时还有许多成熟的插件可供选择。jQuery能够使用户的html页面保持代码和html内容分离，也就是说，不用再在html里面插入一堆js来调用命令了，只需要定义id即可。

轻量级：依赖程序少，占用的资源的少
特点：js代码和html代码分离
jQuery已经成为最流行的javascript库，在世界前10000个访问最多的网站中，有超过55%在使用jQuery。
由美国人John Resig在2006年1月发布
jQuery是免费、开源的
jQuery分类：
	WEB版本：我们主要学习研究
	UI版本：集成了UI组件
	mobile版本：针对移动端开发
	qunit版本：用于js测试的
```






######	优点
```text
核心理念是write less,do more(写得更少,做得更多)
轻量级：源码1.11.js大小是286kb，压缩班1.11.min.js大小是94.1k。如果使用GZIP压缩更小。
兼容各种浏览器 (IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+）
jQuery的语法设计可以使开发者更加便捷
例如操作文档对象、选择DOM元素、制作动画效果、事件处理、使用Ajax以及其他功能
jQuery能够使用户的html页面保持代码和html内容分离
不用再在html里面插入一堆js来调用命令了，只需要定义id即可
jQuery提供API让开发者编写插件，有许多成熟的插件可供选择
文档说明很全
```

## 基本语法
```JavaScript
//jQuery语法
	<script type="text/javascript">
		//js 执行时，有加载顺序

		/* jQuery获得数据
		 * * 语法：$("选择器")   == jQuery("选择器")
		 *
		 */

		var username = $("#username");
		// * val()函数 用于获得 value属性的值
		alert(username.val());

	</script>

// jQuery对象和dom对象转换
<script type="text/javascript">
		//1 使用javascript获得value值
		var username = document.getElementById("username");
		//alert(username.value);

		//2 将 dom对象 转换 jQuery对象
		// * 语法：$(dom对象)
		// * 建议：jQuery对象变量名，建议为$开头
		var $username = $(username);
//		alert($username.val());

		//3 将 jQuery对象 转换 dom对象
		//3.1 jQuery对象内部使用【数组】存放所有的数据，可以数组的下标获取（索引）
		var username2 = $username[0];
		alert(username2.value);
		//3.2 jQuery提供函数 get() 转换成dom对象
		var username3 = $username.get(0);
		alert(username3.value);
	</script>
```
## 选择器
###### 基本选择器
```
基本选择器
		|
		|--#id
		|		|--id选择器
		|		|--<xxx id=""> 通过id值获得元素
		|
		|--element
		|		|--标签选择器，
		|		|--<xxx> 通过标签名获得元素
		|
		|--.class
		|		|--类选择器，
		|		|--<xxx class=""> 通过class值获得元素
		|
		|--s1,s2,...
		|		|--多选择器
		|		|--将多个选择器的结果添加一个数组中
		|
		|-- *
		|	 |--所有

```

```javascript
<script type="text/javascript">
			 //javascript 通过页面加载成功 window.onload = function (){}
			 //jquery onload方法
			 $(document).ready(function(){
					 $("#btn1").click(function () {
							 $("#one").css("background-color","#cc33aa")
					 })
					 $("#btn2").click(function () {
							 $(".mini").css("background-color","#d6ffe1")
					 })
					 $("#btn3").click(function () {
							 $("div").css("background-color","#7a6bff")
					 })
					 $("#btn4").click(function () {
							 $("*").css("background-color","#fcff58")
					 })
					 $("#btn5").click(function () {
							 $("span,#two").css("background-color","#4098a9")
					 })
			 })
 </script>
```


###### 层级

```
A  B ，获得A元素内部所有的B后代元素。（爷孙）
A > B ，获得A元素内部所有的B子元素。（父子）
A + B ，获得A元素后面的第一个兄弟B。（兄弟）
A ~ B ，获得A元素后面的所有的兄弟B。（兄弟）
```

```javascript
<script type="text/javascript">
		 $(document).ready(function(){
				 //选择 body内的所有div元素.
				 $("#btn1").click(function(){
						 $("body div").css("background-color","#ff9599")
				 })
				 //在body内,选择子元素是div的
				 $("#btn2").click(function(){
						 $("body > div").css("background-color","#7a6bff")
				 })
				 //选择 id为one 的下一个div元素.
				 $("#btn3").click(function () {
						 $("#one+div").css("background-color","#328baa")
				 })
				 //选择 id为two的元素后面的所有div兄弟元素.
				 $("#btn4").click(function () {
						 $("#two~div").css("background-color","#d6ffe1")
				 })
				 //选择 id为two的元素的所有div兄弟元素
				 $("#btn5").click(function () {
						 $("#two").siblings("div").css("background-color","#fcff58")
				 })

		 })
 </script>
```


###### 基本过滤
> 过滤选择器格式 “：关键字”

|表达式|说明|
|-----|----|
|:first		| 第一个|
|:last		|最后一个|
|:eq(index) |获得指定索引|
|:gt(index) |大于|
|:lt(index)| 小于|
|:even |偶数，从 0 开始计数。例如：查找表格的1、3、5...行（即索引值0、2、4...）|
|:odd | 奇数|
|:not(selector) |去除所有与给定选择器匹配的元素|
|: header |获得所有标题元素。例如|
|: &lt;h1>...&lth6>|获得标签元素|
|:animated | 获得所有动画|
|:focus	|获得焦点|

```javascript
<script type="text/javascript">
      $(document).ready(function () {
          //选择第一个div元素
          $("#btn1").click(function () {
              $("div:first").css("background-color","#fcff58")
          })
          //选择最后一个div元素
          $("#btn2").click(function () {
              $("div:last").css("background-color","#ff9599")
          })
          //选择class不为one的 所有div元素
          $("#btn3").click(function () {
              $("div:not(.one)").css("background-color","#4098a9")
          })
          //选择索引值为偶数 的div元素
          $("#btn4").click(function () {
              $("div:even").css("background-color","#96ffb8")
          })
          //选择索引值为奇数 的div元素
          $("#btn5").click(function () {
              $("div:odd").css("background-color","#ff6da2")
          })
          //选择索引值等于3的元素
          $("#btn6").click(function () {
              $("div:eq(3)").css("background-color","#fdff2d")
          })
          //选择索引值大于3的元素
          $("#btn7").click(function () {
              $("div:gt(3)").css("background-color","#d6ffe1")
          })
          //选择索引值小于3的元素
          $("#btn8").click(function () {
              $("div:lt(3)").css("background-color","#525f97")
          })
          //选择所有的标题元素
          $("#btn9").click(function () {
              $(":header").css("background-color","#90fdff")
          })
          //选择当前正在执行动画的所有元素
          $("#btn10").click(function () {
              $(":animated").css("background-color","#eca7ff")
          })

          $("input[type='text']").on("blur focus",function () {
              //this 当前执行的对象，是一个dom对象
              var dv = $(this).attr("defaultValue");
              //判断当前对象是否获得焦点
              if($(this).is(":focus")){
                  if($(this).val()==dv) {
                      $(this).val("");
                  }
              }else {
                  if($(this).val()==""){
                      $(this).val(dv)
                  }
              }
          })
      })
  </script>
```
3.4	内容过滤
|表达式|备注|
|-----|----|
|:empty | 当前元素是否为空（是否有标签体--子元素、文本）|
|:has(...) | 当前元素，是否含有指定的子元素|
|:parent|	当前元素是否是父元素|
|:contains( text )| 标签体是否含有指定的文本|

```javascript
<script type="text/javascript">
		 $(document).ready(function () {
				 //选取含有文本“di”的div元素.
				 $("#btn1").click(function () {
						 $("div:contains('di')").css("background-color","#4098a9")
				 })
				 //选取不包含子元素(或者文本元素)的div空元素
				 $("#btn2").click(function () {
							$("div:empty").css("background-color","#ff6da2")
				 })
				 //选取含有子元素(或者文本元素)的div元素.
				 $("#btn4").click(function () {
						 $("div:parent").css("background-color","#6eff3f")
				 })
				 //选取含有class为mini元素 的div元素
				 $("#btn3").click(function () {
						 $("div:has('.mini')").css("background-color","#fcff58")
				 })
		 })
 </script>
```

######	可见性过滤
```
:hidden	隐藏。特指 <xxx style="display:none;">  ，获得 <input type="hidden">
:visible	可见（默认）
```

```javascript
<script type="text/javascript">
		$(document).ready(function () {
				//选取所有可见的div元素
				$("#b1").click(function () {
						$("div:visible").css("background-color","#fdff2d")
				})
				//选取所有不可见的元素, 利用 jQuery 中的 show() 方法将它们显示出来
				$("#b2").click(function () {
						$("div:hidden").css("background-color","#7a6bff").show(1000)
				})
				//选取所有的文本隐藏域, 并打印它们的值
				$("#b3").click(function () {
						$("input:hidden").each(function () {
								alert($(this).val())
						})
				})
				//选取所有的文本隐藏域, 并打印它们的值
				$("#b4").click(function () {
						//index 遍历的索引 domEle遍历的元素
						$.each($("input:hidden"),function (index,domEle) {
								alert($(this).val())
						})
				})
		})
</script>
```

######	属性
|表达式|备注|
|-----|----|
|[属性名]	|			获得指定的属性名的元素|
|[属性名=值]		|	获得属性名 等于 指定值的 的元素【1】|
|[属性名!=值]	| 获得属性名 不等于 指定值的 的元素
|[属性名^=值]	|		获得以属性值 开头 的元素|
|[属性名$=值]	|		获得以属性值 结尾 的元素|
|[属性名*=值]	| 	获得 含有属性值  的元素 |
|[as1][as2][as3]....|		复合选择器，多个条件同时成立。类似 where ...and...and【2】|

```javascript
<script type="text/javascript">
     $(document).ready(function () {
         //选取含有 属性title 的div元素
         $("#btn1").click(function () {
             $("div[title]").css("background-color","#7a6bff")
         })
         //选取 属性title值等于“test”的div元素
         $("#btn2").click(function () {
             $("div[title='test']").css("background-color","#96ffb8")
         })
         //选取 属性title值不等于“test”的div元素(没有属性title的也将被选中).
         $("#btn3").click(function () {
             $("div[title!='test']").css("background-color","#4098a9")
         })
         //选取 属性title值 以“te”开始 的div元素
         $("#btn4").click(function () {
             $("div[title^='te']").css("background-color","#ff6da2")
         })
         //选取 属性title值 以“est”结束 的div元素
         $("#btn5").click(function () {
             $("div[title$=est]").css("background-color","#fdff2d")
         })
         //选取 属性title值 含有“es”的div元素.
         $("#btn6").click(function () {
             $("div[title*='es']").css("background-color","#ff023a")
         })
         //组合属性选择器,首先选取有属性id的div元素，然后在结果中 选取属性title值 含有“es”的元素.
         $("#btn7").click(function () {
             $("div[id][title*='es']").css("background-color","#ff6da2")
         })
     })
  </script>
```


###### 子元素过滤

|表达式|备注|
|-----|----|
|:nth-child(index) | 获得第几个孩子，从1开始|
|:first-child | 获得第一个孩子|
|:last-child | 获得最后孩子|
|:only-child | 获得独生子|

```javascript
<script type="text/javascript">
		$(document).ready(function () {
				//选取每个class为one的div父元素下的第2个子元素
				$("#btn1").click(function () {
						//子元素使用前提 表达式前面必须是元素 如果元素添加条件必须使用空格
//             $("div[class='one'] :nth-child(2)").css("background-color","#ff023a")
						//div .one 所有div中后代class为one
						//div.one 所有的class的one的div
						$("div.one :nth-child(2)").css("background-color","#679755")
				})
				//选取每个class为one的div父元素下的第一个子元素
				$("#btn2").click(function () {
						$("div.one :first-child").css("background-color","#7a6bff")
				})
				//选取每个class为one的div父元素下的最后一个子元素
				$("#btn3").click(function () {
						$("div.one :last-child").css("background-color","#fdff2d")
				})
				//如果class为one的div父元素下的仅仅只有一个子元素，那么选中这个子元素.
				$("#btn4").click(function () {
						$("div.one :only-child").css("background-color","#ff9599")
				})
		})
 </script>
```

######	表单过滤
|表达式|备注|
|-----|----|
|:input | 所有的表单元素。（input select textarea button）|
|:text	|		文本框&lt;input type="text">|
|:password	|	密码框&lt;input type=" password ">|
|:radio		|	单选&lt;input type="radio">|
|:checkbox	|	复选框&lt;input type="checkbox">|
|:submit	|		提交按钮&lt;input type="submit">|
|:image		|	图片按钮&lt;input type="image" src="">|
|:reset		|	重置按钮&lt;input type="reset">|
|:file		|	文件上传&lt;input type="file"> |
|:hidden	|		隐藏域&lt;input type="hidden">  ,还可以获得<xxx style="display:none">|
|其他值：|&lt;br> &lt;option>  ,存在浏览器兼容问题|
|:button		|	所有普通按钮。 &lt;button >  或 &lt;input type="button">|

```javascript
<script type="text/javascript">
//<![CDATA[
$(document).ready(function(){

	var $alltext = $("#form1 :text");
	var $allpassword= $("#form1 :password");
	var $allradio= $("#form1 :radio");
	var $allcheckbox= $("#form1 :checkbox");

var $allsubmit= $("#form1 :submit");
var $allimage= $("#form1 :image");
var $allreset= $("#form1 :reset");
var $allbutton= $("#form1 :button"); // <input type=button />  和 <button ></button>都可以匹配
var $allfile= $("#form1 :file");
	var $allhidden= $("#form1 :hidden"); // <input type="hidden" />和<div style="display:none">test</div>都可以匹配.
	var $allselect = $("#form1 select");
	var $alltextarea = $("#form1 textarea");

var $AllInputs = $("#form1 :input");
var $inputs = $("#form1 input");
</script>
```


###### 表单对象属性过滤

|表达式|备注|
|-----|----|
|:enabled	|	可用|
|:disabled	|	不可用。<xxx disabled="disabled"> 或<xxx disabled="">  或  <xxx disabled>|
|:checked		|选中（单选框radio、复选框 checkbox）|
|:selected	|	选择（下拉列表 select option）|

```javascript
<script type="text/javascript">
      $(document).ready(function () {
          //对表单内 可用input 赋值操作.
          $("#btn1").click(function () {
              $("input:enabled").val("aaaaaa")
          })
          //对表单内 不可用input 赋值操作.
          $("#btn2").click(function () {
              $("input:disabled").val("bbbbb")
          })
          //获取多选框选中的个数
          $("#btn3").click(function () {
              var length = $("[name='newsletter']:checked").length;
              $("#checkboxDivId").append(length)
              alert(length)
          })

          //获取下拉框选中的内容
          $("#btn4").click(function () {
              $("select :selected").each(function () {
                  //option 没有value时取text内容，有value取value的值
                  //直接取text内容 $(this).html()
                  $("#selectDivId").append($(this).val())
                  alert($(this).val())
              })
          })
      })
  </script>
```
###### 案例
```javascript
<script type="text/javascript">
    $(document).ready(function () {
        //从第5个开始,不包括最后一个，控制显示或隐藏
        var $allLi=$("li:gt(4):not(:last)");
        $("span").click(function () {
            //$allLi.toggle()
            if($allLi.is(":hidden")){
                $allLi.show()
                $(this).html("显示全部品牌")
            }else {
                $allLi.hide()
                $(this).html("隐藏部分品牌")
            }
        })
    })
</script>
```

4	属性、CSS和HTML代码/文本/值
|表达式|备注|
|-----|---|
|attr(name) |  获得指定属性名的值|
|attr(key ,val ) |给一个指定属性名设置值|
|attr(prop ) |给多个属性名设置值。参数：prop  json数据|
|removeAttr(name)|  移除指定属性|
|addClass("my") | 追加一个类 |
|removeClass("my") | 将指定类移除|
|toggleClass("my") | 如果有my将移除，如果没有将添加|
|val()		|获得value的值|
|val(text) | 设置value的值|
|html() | 获得html代码，含有标签|
|html(...) |设置html代码，如果有标签，将进行解析。|
|text() |获得文本值，将标签进行过滤|
|text(...) |设置文本值，如果有标签，将被转义 |
|css(name) | 获得指定名称的css值|
|css(name ,value) | 设置一对值| 
|css(prop) 设置一组值 |
|offset()  |获得坐标 ， 返回JSON对象，{"top":200, "left" : 100}|
|offset(...) |设置坐标。例如：$(this).offset({"top":0 , "left" : 0})|
|scrollTop() | 垂直滚动条 滚过的距离|
|scrollLeft() |  水平滚动条 滚过的距离|
|height([...]) | 获得 或 设置 高度 |
|width([...]) | 获得 或 设置 宽度 |

```javascript 
	<script type="text/javascript">
		jQuery(document).ready(function(){
		    //属性
			$("[name='username']").attr("disabled","disabled")
			$("[name='username']").removeAttr("disabled")

			$("[name='username']").addClass("textClass")
			$("[name='username']").removeClass("textClass")
			$("[name='username']").toggleClass("textClass")

			$("#buttonId").click(function () {
				$("[name='username']").toggleClass("textClass")
            })

			//html,text
			alert($("div").text())
			alert($("div").html())
            $("div").html("<a href='http://www.baidu.com'>你点我啊</a>")
			$("div").text("<a href='http://www.baidu.com'>你点我啊</a>")

			//css
			$("div").text("未满18岁慎入");
			$("div").css("border","1px solid #999")
			$("div").css({
				"width":"200px",
				"height":"200px",
				"font-size":"60px",
				"color":"#90ffa1"
			})
		});
	</script>
```

###### 文档处理

* 内部插入
|表达式|备注|
|------|---|
|A.append(B)  | 将B插入到A的内部后面（之后的串联操作，操作A）|
|A.prepend(B) | 将B插入到A的内部前面 |
|A.appendTo(B)| 将A插入到B的内部后面 （之后的串联操作，操作A）|
|A.prependTo(B) | 将A插入到B的内部前面 |

```javascript
  <script type="text/javascript">
		  $(document).ready(function () {
				var $tj=$("#tj")
			  	var $love=$("#love")
			    $love.append($tj)
			  	$tj.appendTo($love)

			  	$love.prepend($tj)
			  	$tj.prependTo($love)
          })
	  </script>
```

* 外部插入
|表达式|备注|
|-----|----|
|A.after(B)  | 将B插入到A后面（同级）|
|A.before(B) | 将B插入到A前面 |
|A.insertAfter(B) | 将A插入到B后面（同级）|
|A.insertBefore(B) | 将A插入到B前面|

```javascript
 <script type="text/javascript">
		  $(document).ready(function () {
              var $city=$("#city")
			  var $p2=$("#p2")
			  $p2.after($city)
			  $city.insertAfter($p2)
			  $p2.before($city)
			  $city.insertBefore($p2)
          })
	  </script>
```


* 删除

empty()  清空标签体
remove() 删除当前对象。如果之后再使用，元素本身保留，绑定事件 或 绑定数据 都会被移除
detach() 删除当前对象。如果之后再使用，元素本身保留，绑定事件 或 绑定数据 都保留

绑定数据
	data(name) 获得
	data(name,value) 设置

```javascript
<script type="text/javascript">
	$("#city").click(function () {
	    alert("嘿嘿")
    })
	//绑定数据
	$("#city").data("itheima","就是屌")
	//移除绑定事件和绑定的数据
	//var $city = $("#city").remove();
	//保留事件和绑定的数据
    var $city = $("#city").detach();
	$("body").append($city)
	//获得绑定数据
	alert($city.data("itheima"))
</script>
```


* 复制

clone() 克隆
	even ：指示事件处理函数是否会被复制。V1.5以上版本默认值是：false

* 替换
|表达式|备注|
|-----|----|
|A.replaceWith(B) | 使用A将B替换掉 |
|A.replaceAll(B) | 使用B将A替换掉 |

```javascript
<script type="text/javascript">
		//$("p").replaceWith("<a href='#'>点我啊</a><br/>")
		$("<a href='#'>点我啊</a><br/>").replaceAll("p")
</script>
```


* 包裹

|表达式|备注|
|-----|----|
|A.wrap(B) | 使用B将每一个A进行包裹（多个B）|	
|A.wrapAll(B) |使用B将所有A进行包裹（一个B）|
|A.wrapInner(B) |使用B将每一个A的标签体包裹 |
|A.unwrap() | 将A的父元素删除，自己留着 |

```javascript
<script type="text/javascript">
		//$("strong").wrap("<div style='background-color: #96ffb8; width: 100px;height: 100px'></div>")
		//$("strong").wrapAll("<div style='background-color: #96ffb8; width: 100px;height: 100px'></div>")
		$("strong").wrapInner("<div style='background-color: #96ffb8; width: 100px;height: 100px'></div>")
	</script>
```
