---
layout: post
title: IO流其他流
tags:
- life

categories: life
description:
---
## 序列流SequenceInputStream
 序列流可以把多个字节输入流整合成一个,按顺序读取
  SequenceInputStream(InputStream, InputStream)
```java
		FileInputStream fis1 = new FileInputStream("a.txt");
		FileInputStream fis2 = new FileInputStream("b.txt");
		FileInputStream fis3 = new FileInputStream("c.txt");
		Vector<InputStream> v = new Vector<>();					
		v.add(fis1);											
		v.add(fis2);
		v.add(fis3);
		Enumeration<InputStream> en = v.elements();				
		SequenceInputStream sis = new SequenceInputStream(en);
		FileOutputStream fos = new FileOutputStream("d.txt");
		int b;
		while((b = sis.read()) != -1) {
			fos.write(b);
		}
```

## 内存输出流ByteArrayOutputStream
向内存中写数据, 把内存当作一个缓冲区, 写出之后可以一次性获取出所有数据
```java
			FileInputStream fis = new FileInputStream("a.txt");
			ByteArrayOutputStream baos = new ByteArrayOutputStream();
			int b;
			while((b = fis.read()) != -1) {
				baos.write(b);
			}
			//byte[] newArr = baos.toByteArray();			
			//System.out.println(new String(newArr));
			System.out.println(baos);
			fis.close();
```
## 对象操作流ObjecOutputStream,ObjectInputStream
可以将一个对象写出, 或者读取一个对象到程序中. 也就是执行了序列化和反序列化的操作.
要写出的对象必须实现Serializable接口才能被序列化
```java
	Person p1 = new Person("张三", 23);
	Person p2 = new Person("李四", 24);
	ArrayList<Person> list = new ArrayList<>();
	list.add(p1);
	list.add(p2);
	ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("f.txt"));
	oos.writeObject(list);										
	oos.close();
	ObjectInputStream ois = new ObjectInputStream(new FileInputStream("f.txt"));
      ArrayList<Person> list = (ArrayList<Person>)ois.readObject();
```
## 打印流PrintStream, printWriter
可以很方便的将对象的toString()结果输出, 并且自动加上换行, 而且可以使用自动刷出
System.out就是一个PrintStream, 其默认向控制台输出信息
```java
			PrintStream ps = System.out;
			ps.println(97);					
			ps.println("xxx");
			ps.println(new Person("张三", 23));
			Person p = null;
			ps.println(p);					//如果是null,就返回null,如果不是null,就调用对象的toString()
                        printWriter pw = new PrintWriter(new FileOutputStream("g.txt"), true);
			pw.write(97);
			pw.print("大家好");
			pw.println("你好");				//自动刷出,只针对的是println方法
```

## 标准输入输出流 System.in System.out
 System.in是InputStream, 标准输入流, 默认可以从键盘输入读取字节数据
 System.out是PrintStream, 标准输出流, 默认可以向Console中输出字符和字节数据
修改输入流: System.setIn(InputStream)
 修改输出流: System.setOut(PrintStream)
```java
			System.setIn(new FileInputStream("a.txt"));				
			System.setOut(new PrintStream("b.txt"));				
			InputStream in = System.in;								
			PrintStream ps = System.out;							
			int b;
			while((b = in.read()) != -1) {							
				ps.write(b);										
			}
```

## RandomAccessFile随机访问流概述和读写数据
RandomAccessFile类不属于流，是Object类的子类。但它融合了InputStream和OutputStream的功能。
支持对随机访问文件的读取和写入。
```java
RandomAccessFile raf=new RandomAccessFile("g.txt","rw");
raf.writeInt(97);
raf.writeBoolean(true);
raf.seek(raf.getFilePointer()+2);
raf.writeUTF("中文");
raf.seek(0);
System.out.println(raf.readInt());
System.out.println(raf.readBoolean());
raf.seek(raf.getFilePointer()+2);
System.out.println(raf.readUTF());
```

## 数据输入输出流DataInputStream, DataOutputStream
可以按照基本数据类型大小读写数据
例如按Long大小写出一个数字, 写出时该数据占8字节. 读取的时候也可以按照Long类型读取, 一次读取8个字节.
```java
DataOutputStream dos=new DataOutputStream(new FileOutputStream("h.txt"));
dos.writeInt(997);
dos.writeBoolean(true);
dos.writeUTF("中文");
dos.close();
DataInputStream dis=new DataInputStream(new FileInputStream("h.txt"));
System.out.println(dis.readInt());
System.out.println(dis.readBoolean());
System.out.println(dis.readUTF());
dis.close();
```

## Properties
 Properties 类表示了一个持久的属性集。
 Properties 可保存在流中或从流中加载。
属性列表中每个键及其对应值都是一个字符串。
```java
Properties prop=new Properties();
prop.load(new FileInputStream("config.properties"));
prop.setProperty("name","张三");
prop.put("name","李四");
Enumeration<String>enumeration= (Enumeration<String>) prop.propertyNames();
while(enumeration.hasMoreElements()){
    String key=enumeration.nextElement();
    String value=prop.getProperty(key);
    System.out.println(key+"="+value);
}
prop.store(new FileOutputStream("config.properties"),null);
```
