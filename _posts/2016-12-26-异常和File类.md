---
layout: post
title: Lesson10-20
tags:
- life

categories: life
description:
---
## 异常
###### 异常的继承体系

```{mermaid}
graph TB
Throwable --- Error
Throwable --- Exception
Exception --- RuntimeException
```
## finally关键字的特点及作用
###### 被finally控制的语句体一定会执行
###### 特殊情况：在执行到finally之前jvm退出了(比如System.exit(0))
###### 用于释放资源
## 异常练习
###### 如果catch里面有return语句，finally的代码会在return前执行。
```java
public static void main(String[] args) {
    Demo demo = new Demo();
    System.out.println(demo.method());//输出30
    System.out.println(demo.x);//输出40
}
static class  Demo{
    public int x;
    public int method(){
        try {
            x=20;
            System.out.println(1/0);
            return x;
        }catch (Exception e){
            x=30;
            return x;//先建立返回通道,然后看有木有finally
        }finally {
            x=40;
            //return 会覆盖
        }
    }
}
```
###### 练习键盘录入一个int类型的整数,对其求二进制表现形式
```java
Scanner sc=new Scanner(System.in);
System.out.println("请输入一个整数");
while(true) {
    String s=sc.nextLine();
    try {
        int num = Integer.parseInt(s);
        System.out.println(Integer.toBinaryString(num));
        break;
    } catch (Exception e) {
        try {
            new BigInteger(s);
            System.out.println("录入错误，您录入的是一个过大整数，请重新输入一个整数:");
        } catch (Exception e2) {
            try {
                new BigDecimal(s);
                System.out.println("录入错误，您录入的是一个小数，请重新输入一个整数");
            } catch (Exception e3) {
                System.out.println("录入错误，您录入的是一个非法字符，请重新录入一个整数");
            }
        }
    }
}
```





## File类
| 方法 | 备注     |
| :------------- | :------------- |
| File(String pathname) | 根据一个路径得到File对象 |
| File(String parent, String child) |根据一个目录和一个子文件/目录得到File对象|
| File(File parent, String child) | 根据一个父File对象和一个子文件/目录得到File对象 |
| createNewFile() |创建文件 如果存在这样的文件，就不创建了|
| mkdir() | 创建文件夹 如果存在这样的文件夹，就不创建了 |
| mkdirs() | 创建文件夹,如果父文件夹不存在，会帮你创建出来 |
| renameTo(File dest) | 把文件重命名为指定的文件路径 如果路径名相同，就是改名。如果路径名不同，就是改名并剪切|
| delete() | 删除文件或者文件夹 |
| isDirectory() | 判断是否是目录 |
| isFile() | 判断是否是文件|
| exists() | 判断是否存在 |
| canRead() | 判断是否可读|
| canWrite() | 判断是否可写 |
| isHidden() | 判断是否隐藏 |
| getAbsolutePath() | 获取绝对路径 |
| getPath() | 获取路径 |
| getName() | 获取名称 |
| length() | 获取长度。字节数 |
| lastModified() | 获取最后一次的修改时间，毫秒值|
| String[] list() |获取指定目录下的所有文件或者文件夹的名称数组|
| File[] listFiles() | 获取指定目录下的所有文件或者文件夹的File数组|

## File类文件名称过滤器的概述及使用

###### public String[] list(FilenameFilter filter)
###### public File[] listFiles(FileFilter filter)

## File练习
###### 判断是否有.jpg文件 如果有就输出该文件名
```java
File dir = new File("aaa");
       String[] arr = dir.list();
       for(String name:arr){
           if(name.endsWith(".jpg")){
               System.out.println(name);
           }
       }
       File[] files = dir.listFiles();
       for (File file:files){
           if(file.isFile()&&file.getName().endsWith(".jpg")){
               System.out.println(file);
           }
       }
       String[]arr2=dir.list(new FilenameFilter() {
           @Override
           public boolean accept(File dir, String name) {
               if(name.endsWith(".jpg")){
                   return true;
               }
               return false;
           }
       });
       System.out.println(Arrays.toString(arr2));
```
