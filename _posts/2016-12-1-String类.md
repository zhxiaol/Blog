---
layout: post
title: String类
tags:
- java

categories: java
description:
---
##主题介绍
String 类有final修饰，不能被继承，不能被改变。使用++进行字符串串联底层会创建一个StringBuild或则StringBuffer,通过append()方法串联，最后在通过toString转换成String类
String 类中有一个私有的final的char数组value。
字符串字面值“abc”也可以看成一个字符串对象（存储在方法区的常量池中）
```
String s1="abc"
String s2=s1+"d";
1.会在常量池创建"abc"类
2.在堆内存创建StringBuild类或StringBuffer类
3.通过toString 在堆内存创建新的类
低效且消耗内存
```

<!-- more -->
##常量池优先
```
String s1="abc";
String s2="ab"+"c";
s1==s2(true)
常量会在编译的时候就计算出来，如果常量池有这个对象就不会创建，所以s1==s2;
```

##new String("abc")
```
String s1="abc";
String s2=new String("abc")
s1==s2(flase)
"abc"在常量池创建对象，s2:"abc"因为常量池中有不会创建，s2:new String("abc")会在堆内存中创建对象，并保存一份"abc"的副本
```
##String类常用方法
###int length()
return value.length;
###int chatAt(int index)
1.判断下标是否越界，2.return value[index]
###int indexOf(char c)
遍历char数组比对每个char,没有返回-1，如果是str 先取出第一个比对，如果找到就逐位比对
###String substring(int index)
从指定位置开始截取子串
return new Stirng(value,index,value.length);
new String底层调用的是本地方法System.arrayCopy();从指定位置复制到新数组
###byte[] getBytes()
先获得编码方式，然后比较复杂，没详细看=  =
###char[] toCharArray()
创建一个长度和value一样的char数组result
调用System.arrcopy(value,0,result,0,value.length)
###String valueOf(char data[])
return new String(data)
如果参数是Object return obj.toString();
###String toLowerCase() toUpperCase()
会先循环看是否有大写字母，如果有跳出循环遍历数组转换
###replace(String odl,String new)
正则表达式
###String trim();
1.很机智，从2边while循环看是否是‘ ’，遇见跳出循环
2.substring(start,end)
###compareTo(String str);
依次比较两个字符串ASC码。如果两个字符的ASC码相等则继续后续比较,否则直接返回两个ASC的差值
"321"compareTo("1234")会返回2 如果是比较数字大小要先比较长度
###getChars(int start,int end,char c[],int offset)
当前字符串从start到end-1位置上的字符复制到字符数组c中，并从c的offset处开始存放
