<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>zhxiaol</title>
 <link href="" rel="self"/>
 <link href=""/>
 <updated>2017-07-07T11:59:37+08:00</updated>
 <id></id>
 <author>
   <name>zhxiaol</name>
   <email></email>
 </author>

 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-7-7-%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-7-7-项目管理</id>
   <content type="html">&lt;h5 id=&quot;项目与日常运作的区别&quot;&gt;项目与日常运作的区别&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;项目是一次性的，日常运作是重复进行的。&lt;/li&gt;
&lt;li&gt;项目是以目标为导向的，日常运作是通过效率和有效性体现的。&lt;/li&gt;
&lt;li&gt;项目是通过项目经理及其团队工作完成的，而日常运作是职能式的线性管理。&lt;/li&gt;
&lt;li&gt;项目存在大量的变更管理，而日常运作则基本保持连贯性的。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;项目的特征&quot;&gt;项目的特征&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;有明确的目标性&lt;/li&gt;
&lt;li&gt;明确的时限性 资源成本的约束性&lt;/li&gt;
&lt;li&gt;项目的不确定性 唯一性(一次性)&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;项目的定义&quot;&gt;项目的定义&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;日常运作：连续不断、周而复始的活动&lt;/li&gt;
&lt;li&gt;项 目：是为了创造一个唯一的产品或提供一个唯一的服务而进行的临时性的活动。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;项目管理的定义&quot;&gt;项目管理的定义&lt;/h5&gt;

&lt;p&gt;使项目能够按照预定的成本、进度、质量顺利完成并让所有干系人得到满意，而对成本、人员、进度、质量、风险等进行分析和管理的活动。&lt;/p&gt;

&lt;h5 id=&quot;项目管理框架&quot;&gt;项目管理框架&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;五大标准化过程组&lt;/li&gt;
&lt;li&gt;十大知识领域&lt;/li&gt;
&lt;li&gt;四十七个过程&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;五个标准化过程组&quot;&gt;五个标准化过程组&lt;/h5&gt;

&lt;p&gt;启动阶段&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;项目的可行性分析、立项、招投标、合同签署。
计划阶段&lt;/li&gt;
&lt;li&gt;范围定义、进度安排、资源计划、成本估计、质量保证计划、风险计划、实施计划等。
实施及控制阶段&lt;/li&gt;
&lt;li&gt;项目实施、进度控制、费用控制、质量控制、变更控制等。
结束阶段&lt;/li&gt;
&lt;li&gt;范围确认、质量验收、费用结算与审计、项目资料验收、项目交接与清算、项目审计与评估、项目总结等&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;项目启动&quot;&gt;项目启动&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;初始项目分析&lt;/li&gt;
&lt;li&gt;生存期模型&lt;/li&gt;
&lt;li&gt;项目立项&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;项目类型&quot;&gt;项目类型&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;合同项目&lt;br&gt;
招投标、合同谈判、合同签署，甲乙双方有合同约束。&lt;/li&gt;
&lt;li&gt;内部项目
确定任务范围和相关各人员进行有效地配合，无合同约束。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;初始化项目分析&quot;&gt;初始化项目分析&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;项目可行性分析
根据市场、技术、人员等各资源分析项目的可行性，对分析结果进行认证讨论。&lt;/li&gt;
&lt;li&gt;项目范围分析
确定项目的功能模块、边界范围等。&lt;/li&gt;
&lt;li&gt;项目干系人分析
分析确定项目相关人员，包括：项目发起人、项目开发人员、测试人员、维护人员、客户等。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;常用的项目生存期模型&quot;&gt;常用的项目生存期模型&lt;/h5&gt;

&lt;p&gt;瀑布模型 原型模型 增量模型&lt;/p&gt;

&lt;h5 id=&quot;瀑布模型&quot;&gt;瀑布模型&lt;/h5&gt;

&lt;p&gt;瀑布模型（Waterfall Model） 是通过设计一系列阶段顺序展开的，从系统需求分析开始直到产品发布和维护，每个阶段都会产生循环反馈，因此，如果有信息未被覆盖或者发现了问题，那么最好 “返回”上一个阶段并进行适当的修改，项目开发进程从一个阶段“流动”到下一个阶段，这也是瀑布模型名称的由来。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;项目的需求很明确&lt;/li&gt;
&lt;li&gt;解决方案也很明确&lt;/li&gt;
&lt;li&gt;类似的项目如： 库存管理系统 短期项目&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;原型模型&quot;&gt;原型模型&lt;/h5&gt;

&lt;p&gt;原型模型即样品模型，先借用已有系统作为原型模型，通过“样品”不断改进，使得最后的产品就是用户所需要的。     原型模型采用逐步求精的方法完善原型，使得原型能够“快速”开发，避免了像瀑布模型一样在冗长的开发过程中难以对用户的反馈作出快速的响应。 常用的原型工具：Axure&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;在项目开始前,项目的需求不明确&lt;/li&gt;
&lt;li&gt;需要减少项目需求的不确定性&lt;/li&gt;
&lt;li&gt;类似的项目如： 第一次开发的产品，验证可行性&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;增量模型&quot;&gt;增量模型&lt;/h5&gt;

&lt;p&gt;增量模型融合了瀑布模型的基本成分（重复应用）和原型实现的迭代特征，该模型采用随着日程时间的进展而交错的线性序列，每一个线性序列产生软件的一个可发布的“增量”。当使用增量模型时，第1个增量往往是核心的产品，即第1个增量实现了基本的需求，但很多补充的特征还没有发布。客户对每一个增量的使用和评估都作为下一个增量发布的新特征和功能，这个过程在每一个增量发布后不断重复，直到产生了最终的完善产品。&lt;/p&gt;

&lt;h5 id=&quot;项目规划&quot;&gt;项目规划&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;范围计划&lt;/li&gt;
&lt;li&gt;进度计划&lt;/li&gt;
&lt;li&gt;成本计划&lt;/li&gt;
&lt;li&gt;质量计划&lt;/li&gt;
&lt;li&gt;人力资源计划&lt;/li&gt;
&lt;li&gt;沟通计划&lt;/li&gt;
&lt;li&gt;风险计划&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;项目范围&quot;&gt;项目范围&lt;/h5&gt;

&lt;p&gt;项目范围的管理也就是对项目应该包括什么和不 应该包括什么进行相应的定义和控制。它包括用 以保证项目能按要求的范围完成所涉及的所有过 程，包括：确定项目的需求、定义规划项目的范 围、范围管理的实施、范围的变更控制管理以及 范围核实等。&lt;/p&gt;

&lt;h5 id=&quot;wbs任务分解&quot;&gt;WBS任务分解&lt;/h5&gt;

&lt;p&gt;工作分解结构（Work Breakdown Structure，简称WBS）就是把一个项目按一定的原则分解，项目分解成任务，任务再分解成一项项工作，再把一项项工作分配到每个人的日常活动中，直到分解不下去为止。 　　即：项目→任务→工作→日常活动 　　工作分解结构以可交付成果为导向对项目要素进行的分组，它归纳和定义了项目的整个工作范围，每下降一层代表对项目工作的更详细定义。 　　WBS总是处于计划过程的中心，也是制定进度计划、资源需求、成本预算、风险管理计划和采购计划等的重要基础。&lt;/p&gt;

&lt;h5 id=&quot;工作包&quot;&gt;工作包&lt;/h5&gt;

&lt;p&gt;WBS的最低层次的项目可交付成果称为工作包(Work Package)，具有以下特点： •工作包可以分配给另一位项目经理进行计划和执行。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;工作包可以通过子项目的方式进一步分解为子项目的WBS。&lt;/li&gt;
&lt;li&gt;工作包可以在制定项目进度计划时，进一步分解为活动。&lt;/li&gt;
&lt;li&gt;工作包可以由惟一的一个部门或承包商负责。
用于在组织之外分包时，称为委托包(Commitment Package)。 　　工作包的定义应考虑80小时法则(80-HourRule)或两周法则(Two Week Rule)，即任何工作包的完成时间应当不超过80小时。在每个80小时或少于80小时结束时，只报告该工作包是否完成。通过这种定期检查的方法，可以控制项目的变化。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;任务分解原则&quot;&gt;任务分解原则&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;将主体目标逐步细化分解，最底层的日常活动可直接分派到个人去完成；&lt;/li&gt;
&lt;li&gt;每个任务原则上要求分解到不能再细分为止；&lt;/li&gt;
&lt;li&gt;日常活动要对应到人、时间和资金投入&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;任务分解方法&quot;&gt;任务分解方法&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;采用树状结构进行分解；&lt;/li&gt;
&lt;li&gt;以团队为中心，自上而下与自下而上的充分沟通，一对一个别交流与讨论，分解单项工作。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;任务分解标准&quot;&gt;任务分解标准&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;分解后的活动结构清晰，从树根到树叶，一目了然，尽量避免盘根错节；&lt;br&gt;&lt;/li&gt;
&lt;li&gt;逻辑上形成一个大的活动，集成了所有的关键因素包含临时的里程碑和监控点，所有活动全部定义清楚，要细化到人、时间和资金投入。 在我们日常管理项目时，要学会分解任务，只有将任务分解得足够细，足够明了，才能统筹全局，安排人力和财力资源，把握项目的进度。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;进度计划&quot;&gt;进度计划&lt;/h5&gt;

&lt;p&gt;进度是对执行的活动和里程碑制定的工作计划日期表 进度管理是为了确保项目按期完成所需要的过程 按时完成项目是项目经理最大的挑战之一 时间是项目规划中灵活性最小的因素 进度问题是项目冲突的主要原因，尤其在项目的后期。&lt;/p&gt;

&lt;h5 id=&quot;进度计划管理过程&quot;&gt;进度计划管理过程&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;活动定义&lt;br&gt;
确定为完成项目的各个交付成果所必须进行的诸项具体活动&lt;/li&gt;
&lt;li&gt;活动排序&lt;br&gt;
确定任务依赖、前置任务、里程碑（里程碑显示项目进展中的重大工作完成）&lt;/li&gt;
&lt;li&gt;活动历时估计&lt;br&gt;
每个任务的历时估计、项目总历时估计，可采用定额算法、经验算法。&lt;/li&gt;
&lt;li&gt;任务资源估计&lt;br&gt;
每个任务需要的资源类型和数量有一定的考虑，这些资源包括，人力资源，设备资源，以及其它资料资源&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;关键路径与里程碑&quot;&gt;关键路径与里程碑&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;关键路径&lt;br&gt;
关键路径是项目计划中最长的路线。它决定了项目的总实耗时间。项目经理必须把注意力集中于那些优先等级最高的任务，确保它们准时完成，关键路径上的任何活动的推迟将使整个项目推迟。向关键路径要时间，向非关键路径要资源。所以在进行项目操作的时候确定关键路径并进行有效的管理是至关重要的。&lt;/li&gt;
&lt;li&gt;里程碑&lt;br&gt;
在进度时间表上设立一些重要的时间检查点，这样一来，就可以在项目执行过程中利用这些重要的时间检查点来对项目的进度进行检查和控制。这些重要的时间检查点被称作项目的里程碑&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;制定mpp&quot;&gt;制定MPP&lt;/h5&gt;

&lt;p&gt;使用MPP工具制定进度计划。 参考：软件项目计划.mpp&lt;/p&gt;

&lt;h5 id=&quot;成本计划&quot;&gt;成本计划&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;资源计划编制:
确定项目需要的资源种类和数量，参考计划书&lt;/li&gt;
&lt;li&gt;成本估算：
编制一个为完成项目各活动所需要的资源成本的近似估算&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;软件项目规模&quot;&gt;软件项目规模&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;软件项目规模即工作量，是从软件项目范围中抽出的软件功能，然后确定每个软件功能所必须执行的一系列软件工程任务&lt;/li&gt;
&lt;li&gt;包括：软件规划，软件管理，需求，设计，编码，测试，以及后期的维护等任务。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;规模的单位&quot;&gt;规模的单位&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;LOC(Line of Code)
源代码程序长度的测量，单位K代码行&lt;/li&gt;
&lt;li&gt;FP(Function Point)
用系统的功能数量来测量&lt;/li&gt;
&lt;li&gt;人月&lt;/li&gt;
&lt;li&gt;人天&lt;/li&gt;
&lt;li&gt;人年&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;估算&quot;&gt;估算&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;算法不是很准确的，有误差的&lt;/li&gt;
&lt;li&gt;经验（历史）数据非常重要&lt;/li&gt;
&lt;li&gt;不要太迷信数学模型&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;成本估算&quot;&gt;成本估算&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;直接成本&lt;br&gt;
与具体项目相关的成本&lt;/li&gt;
&lt;li&gt;间接成本&lt;br&gt;
不能具体到某个项目中的成本，可以分摊到各个具体项目中的成本，例如：培训、房租水电、员工福利、市场费用、管理费、其他等等&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;质量计划&quot;&gt;质量计划&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;符合目的或者用途&lt;/li&gt;
&lt;li&gt;用户的感觉就是质量&lt;/li&gt;
&lt;li&gt;符合顾客在其合理价格下对产品的要求&lt;/li&gt;
&lt;li&gt;产品或者服务满足明确和隐含需要能力的性能特性的总体&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;质量定义&quot;&gt;质量定义&lt;/h5&gt;

&lt;p&gt;质量是满足要求的程度,包括符合规定的要求和满足顾客的需求.&lt;br&gt;&lt;br&gt;
软件质量是软件满足明确说明或者隐含的需求的程度 明确说明：查询功能 隐含说明：查询速度&lt;/p&gt;

&lt;h5 id=&quot;质量的重要性&quot;&gt;质量的重要性&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;软件危机的主要矛盾&lt;/li&gt;
&lt;li&gt;低质量的软件就像定时炸弹&lt;/li&gt;
&lt;li&gt;低质量的产品，增加成本&lt;/li&gt;
&lt;li&gt;质量是生命也是信誉&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;质量保证&quot;&gt;质量保证&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;确定项目应达到的质量标准&lt;/li&gt;
&lt;li&gt;决定如何满足质量标准的计划安排和方法&lt;/li&gt;
&lt;li&gt;通过评价项目整体绩效,建立对质量要求的信任&lt;/li&gt;
&lt;li&gt;提供项目和产品可视化的管理报告&lt;/li&gt;
&lt;li&gt;例如：《总体设计规格》质量审计&lt;/li&gt;
&lt;li&gt;这个任务本身并不能提高产品的质量&lt;/li&gt;
&lt;li&gt;一般由质量保证部门人员实施&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;代码质量活动&quot;&gt;代码质量活动&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;静态分析
不实际运行程序，而是通过检查和阅读等手段来发现错误并评估代码质量的软件测试技术。也称为静态测试技术。&lt;/li&gt;
&lt;li&gt;动态测试(Test)
单元测试、集成测试、系统测试&lt;/li&gt;
&lt;li&gt;缺陷追踪
使用项目管理工具(如ClearQuest)跟踪缺陷解决程度&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;人力资源计划&quot;&gt;人力资源计划&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;职能型&lt;/li&gt;
&lt;li&gt;项目型&lt;/li&gt;
&lt;li&gt;矩阵型&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;项目实施与控制&quot;&gt;项目实施与控制&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;项目实施与控制&lt;/li&gt;
&lt;li&gt;配置管理&lt;/li&gt;
&lt;li&gt;需求分析&lt;/li&gt;
&lt;li&gt;系统设计&lt;/li&gt;
&lt;li&gt;系统开发&lt;/li&gt;
&lt;li&gt;系统测试&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;进度管理&quot;&gt;进度管理&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;工作任务明确&lt;/li&gt;
&lt;li&gt;合理的工作分配&lt;/li&gt;
&lt;li&gt;减少外部干扰&lt;/li&gt;
&lt;li&gt;正确有效的激励机制&lt;/li&gt;
&lt;li&gt;有效的沟通&lt;/li&gt;
&lt;li&gt;及时监督与检查&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;配置管理&quot;&gt;配置管理&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;记录软件产品的演化过程。&lt;/li&gt;
&lt;li&gt;确保软件开发者在软件生命周期中的各个阶段都能得到精确的产品配置。&lt;/li&gt;
&lt;li&gt;最终保证软件产品的完整性、一致性、追溯性、可控性。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;配置项&quot;&gt;配置项&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;系统规格说明书&lt;/li&gt;
&lt;li&gt;软件需求规格说明书&lt;/li&gt;
&lt;li&gt;设计规格说明书&lt;/li&gt;
&lt;li&gt;源代码&lt;/li&gt;
&lt;li&gt;测试规格说明书 等&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;工具&quot;&gt;工具&lt;/h5&gt;

&lt;p&gt;IBM的ClearCase，SVN等&lt;/p&gt;

&lt;h5 id=&quot;配置管理委员会&quot;&gt;配置管理委员会&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;配置项标识、跟踪&lt;/li&gt;
&lt;li&gt;配置管理环境建立&lt;/li&gt;
&lt;li&gt;变更管理&lt;/li&gt;
&lt;li&gt;配置状态统计&lt;/li&gt;
&lt;li&gt;配置管理计划&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;需求分析&quot;&gt;需求分析&lt;/h5&gt;

&lt;p&gt;需求是指用户对软件的功能和性能的要求，就是用户希望软件能做什么事情，完成什么样的功能，达到什么性能。&lt;/p&gt;

&lt;h5 id=&quot;软件需求规格说明书&quot;&gt;软件需求规格说明书&lt;/h5&gt;

&lt;p&gt;需求分析工作完成的一个基本标志是形成了一份完整的、规范的需求规格说明书 需求规格说明书的编制是为了使用户和软件开发者双方对该软件的初始规定有一个共同的理解，使之成为整个开发工作的基础。&lt;/p&gt;

&lt;h5 id=&quot;软件需求规格参考&quot;&gt;软件需求规格参考&lt;/h5&gt;

&lt;p&gt;软件需求规格说明书的内容也是根据公司的项目管理水平而定。 内容基本包括：系统概述、运行环境、功能模块图、功能用例、性能需求、接口需求、其它需求等。 参考需求规格说明书。&lt;/p&gt;

&lt;h5 id=&quot;系统设计&quot;&gt;系统设计&lt;/h5&gt;

&lt;p&gt;系统设计是新系统的物理设计阶段。根据系统分析阶段所确定的新系统的逻辑模型、功能要求，建立新系统的物理模型。&lt;/p&gt;

&lt;h5 id=&quot;系统设计概述&quot;&gt;系统设计概述&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;设计软件系统的模块层次结构&lt;/li&gt;
&lt;li&gt;设计数据库的结构&lt;/li&gt;
&lt;li&gt;设计模块的控制流程，其目的是明确软件系统&amp;quot;如何做&amp;quot;。&lt;/li&gt;
&lt;li&gt;这个阶段又分两个步骤：概要设计和详细设计。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;概要设计&quot;&gt;概要设计&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;功能模块&lt;/li&gt;
&lt;li&gt;模块间的接口关系&lt;/li&gt;
&lt;li&gt;技术构架&lt;/li&gt;
&lt;li&gt;设计准则及共通处理方针&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;详细设计&quot;&gt;详细设计&lt;/h5&gt;

&lt;p&gt;定义各功能模块的功能单元的详细实现&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;接口的物理定义&lt;/li&gt;
&lt;li&gt;数据库/数据文件的物理定义&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;设计评审&quot;&gt;设计评审&lt;/h5&gt;

&lt;p&gt;设计评审是对一项设计进行正式的、按文件规定的、系统的评估活动，由不直接涉及开发工作的人执行。设计评审可采用向设计组提建议或帮助的形式，或就设计是否满足客户所有要求进行评估。在产品开发阶段通常进行不只一次的设计评审。&lt;/p&gt;

&lt;h5 id=&quot;系统开发&quot;&gt;系统开发&lt;/h5&gt;

&lt;p&gt;系统开发阶段是把系统设计的结果翻译成某种程序设计语言编写的程序。 软件编码的作用是将系统分析和系统设计的结果和内容转换为用户需要的实际应用的过程。&lt;/p&gt;

&lt;h5 id=&quot;团队管理的要点&quot;&gt;团队管理的要点&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;合理的人员结构&lt;/li&gt;
&lt;li&gt;明确的职责及工作分工&lt;/li&gt;
&lt;li&gt;适度的激励政策&lt;/li&gt;
&lt;li&gt;集体责任感和荣誉感的培养和加强&lt;/li&gt;
&lt;li&gt;共同提高的指导思想&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;编码的基本原则&quot;&gt;编码的基本原则&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;严格按照系统设计说明书完成软件的编码工作。&lt;/li&gt;
&lt;li&gt;执行制定的软件编码规范&lt;/li&gt;
&lt;li&gt;提炼公用代码，加强公共模块的开发，提高开发效率。&lt;/li&gt;
&lt;li&gt;注重软件阶段性成果及文档资料的管理工作，加强版本控制&lt;/li&gt;
&lt;li&gt;标示符的命名规范
（1）符号的名字应尽量能反映它所代表的类型、含义、功能、调用特点等 （ 2）应有一定的实际意义，使非本程序编写的同行能够见名知意。这有助于加强对程序功能的理解，增加程序的可读性。&lt;/li&gt;
&lt;li&gt;注释规范
（1）序言性注释 类、方法名之前，对定义、输入、输出、参数、功能、调用形式等整体说明。 （2）功能性注释 方法内部实现过程的段落性注释。描述其语句说明、程序段或变量完成的功能及意义&lt;/li&gt;
&lt;li&gt;程序的书写格式
（1）在程序的编写中应学会使用使用空行和缩进，以增强程序代码的段落性和可读性。 （2）循环、分支嵌套层次不要太深&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&quot;公共代码的抽取及开发&quot;&gt;公共代码的抽取及开发&lt;/h6&gt;

&lt;p&gt;软件开发过程中往往存在大量的公共代码，在进行任务分解的时候要善于抽取出较多的公共代码，并安排技术能力较强、开发经验丰富的软件工程师承担公共模块的开发任务，降低软件开发中的重复劳动，提高软件编码的工作效率及软件质量。&lt;/p&gt;

&lt;h5 id=&quot;代码质量管理&quot;&gt;代码质量管理&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;正确理解设计说明书&lt;/li&gt;
&lt;li&gt;强制要求所有开发人员的代码符合编码规范&lt;/li&gt;
&lt;li&gt;定期和不定期的代码走查(code walkthrough)&lt;/li&gt;
&lt;li&gt;编码规范模板&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;系统测试&quot;&gt;系统测试&lt;/h5&gt;

&lt;p&gt;在规定的条件下对程序进行操作，以发现程序错误，衡量软件质量，并对其是否能满足设计要求进行评估的过程。&lt;/p&gt;

&lt;h5 id=&quot;单元测试&quot;&gt;单元测试&lt;/h5&gt;

&lt;p&gt;单元测试是针对软件设计的功能方法，进行正确性检验的测试工作。其目的在于发现各模块内部可能存在的各种差错。 单元测试需要从程序的内部结构出发设计测试用例。多个模块可以平行地独立进行单元测试。&lt;/p&gt;

&lt;h5 id=&quot;集成测试&quot;&gt;集成测试&lt;/h5&gt;

&lt;p&gt;将所有模块按照设计要求组装成为系统。这时需要考虑的问题是：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;模块接口的数据是否会丢失&lt;/li&gt;
&lt;li&gt;模块之间的功能是否产生不利的影响&lt;/li&gt;
&lt;li&gt;模块组合起来能否达到预期要求&lt;/li&gt;
&lt;li&gt;全局数据结构是否有问题&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;系统测试&quot;&gt;系统测试&lt;/h5&gt;

&lt;p&gt;是将已经确认的软件、计算机硬件、外设、网络等其他元素结合在一起，进行信息系统的各种组装测试和确认测试，系统测试是针对整个产品系统进行的测试。对象不仅仅包括需测试的软件，还要包含软件所依赖的硬件、外设甚至包括某些数据、某些支持软件及其接口等&lt;/p&gt;

&lt;h5 id=&quot;验收测试&quot;&gt;验收测试&lt;/h5&gt;

&lt;p&gt;验收测试是以用户为主的测试。软件开发人员和QA（质量保证）人员也应参加。&lt;br&gt;
由用户参加设计测试用例，使用生产中的实际数据进行测试。&lt;br&gt;
在测试过程中，除了考虑软件的功能和性能外，还应对软件的可移植性、兼容性、可维护性、错误的恢复功能等进行确认&lt;/p&gt;

&lt;h5 id=&quot;项目结束&quot;&gt;项目结束&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;项目结束&lt;/li&gt;
&lt;li&gt;系统维护&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;成功与失败的标准&quot;&gt;成功与失败的标准&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;可交付成果如何&lt;/li&gt;
&lt;li&gt;质量是否达标&lt;/li&gt;
&lt;li&gt;是否超出成本&lt;/li&gt;
&lt;li&gt;是否达到项目业主的期望&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;制定结束要作的工作&quot;&gt;制定结束要作的工作&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;项目计划的一部分&lt;/li&gt;
&lt;li&gt;与客户一同评审项目结束计划&lt;/li&gt;
&lt;li&gt;细化并实施项目结束计划&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;软件开发职业路线&quot;&gt;软件开发职业路线&lt;/h5&gt;

&lt;p&gt;技术路线： 程序员高级程序员系统分析员(系统设计)系统架构师技术主管&lt;br&gt;&lt;br&gt;
业务路线： 程序员高级程序员系统分析员(需求分析) 项目经理产品经理&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-7-4-Maven"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-7-4-Maven</id>
   <content type="html">&lt;h2 id=&quot;maven&quot;&gt;Maven&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;项目管理工具&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&quot;什么是maven&quot;&gt;什么是maven&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;Maven是基于POM（工程对象模型），通过一小段描述来对项目的代码、报告、文件进管理的工具。&lt;/li&gt;
&lt;li&gt;Maven是一个跨平台的项目管理工具，它是使用java开发的，它要依赖于jdk1.6及以上&lt;/li&gt;
&lt;li&gt;Maven主要有两大功能：管理依赖、项目构建。&lt;/li&gt;
&lt;li&gt;依赖指的就是jar包。&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;什么是构建&quot;&gt;什么是构建&lt;/h5&gt;

&lt;blockquote&gt;
&lt;p&gt;清理 编译 测试 报告 打包 部署&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&quot;项目构建的方式&quot;&gt;项目构建的方式&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;Eclipse
使用eclipse进行项目构建，相对来说，步骤比较零散，不好操作&lt;/li&gt;
&lt;li&gt;Ant
它是一个专门的项目构建工具，它可以通过一些配置来完成项目构建，这些配置要明确的告诉ant，源码包在哪？目标class文件应该存放在哪？资源文件应该在哪&lt;/li&gt;
&lt;li&gt;Maven
它是一个项目管理工具，他也是一个项目构建工具，通过使用maven，可以对项目进行快速简单的构建，它不需要告诉maven很多信息，但是需要安装maven去的规范去进行代码的开发。也就是说maven是有约束的。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;maven的安装配置&quot;&gt;Maven的安装配置&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;下载maven
官方网站：&lt;a href=&quot;http://maven.apache.org&quot;&gt;http://maven.apache.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;安装maven
第一步：安装jdk1.6及以上
第二步：将maven下载的压缩包进行解压缩
第三步：配置maven的环境变量MAVEN_HOME
第四步：配置maven的环境变量PATH
第五步：测试maven是否安装成功，在系统命令行中执行命令：mvn –v&lt;/li&gt;
&lt;li&gt;配置maven
在maven中有两个配置文件：用户配置、全局配置（默认）&lt;/li&gt;
&lt;li&gt;&lt;p&gt;全局配置&lt;br&gt;
在maven安装目录的conf里面有一个settings.xml文件，这个文件就是maven的全局配置文件。&lt;br&gt;
该文件中配置来maven本地仓库的地址&lt;br&gt;
默认在系统的用户目录下的${user.home}/.m2/repository中，该目录是本地仓库的目录。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;用户配置&lt;br&gt;
用户配置文件的地址：~/.m2/settings.xml(Mac一致)，该文件默认是没有，需要将全局配置文件拷贝一份到该目录下。&lt;br&gt;
重新指定本地仓库地址，如果不指定，则默认是~/.m2/repository目录，如果用户配置文件不存在，则使用全局配置文件的配置。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;创建maven工程&quot;&gt;创建maven工程&lt;/h4&gt;

&lt;h5 id=&quot;maven工程结构&quot;&gt;Maven工程结构&lt;/h5&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;Project
   |--src（源码包）
   |   |--main（正常的源码包）
   |   |   |--java（.java文件的目录）
   |   |   |--resources（资源文件的目录）
   |   |
   |   |--test（测试的源码包）
   |       |--java
   |       |--resources
   |       
   |--target（class文件、报告等信息存储的地方）
   |--pom.xml（maven工程的描述文件）
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;创建hellomaven工程&quot;&gt;创建HelloMaven工程&lt;/h5&gt;

&lt;p&gt;第一步：安装maven的工程结构创建helloMaven工程&lt;br&gt;
第二步：创建HelloMaven.java&lt;br&gt;
第三步：创建TestHelloMaven.java&lt;br&gt;
第四步：编辑pom.xml文件&lt;/p&gt;

&lt;h4 id=&quot;maven命令&quot;&gt;Maven命令&lt;/h4&gt;

&lt;p&gt;Maven的命令要在pom.xml所在目录中去执行&lt;br&gt;
|命令|说明|&lt;br&gt;
|----|----|&lt;br&gt;
|Mvn compile|编译的命令|&lt;br&gt;
|Mvn clean|清除命令，清除已经编译好的class文件，具体说清除的是target目录中的文件|&lt;br&gt;
|Mvn test|测试命令，该命令会将test目录中的源码进行编译|&lt;br&gt;
|Mvn package|打包命令|&lt;br&gt;
|Mvn install|安装命令，会将打好的包，安装到本地仓库|&lt;br&gt;
|Mvn clean compile|先清空再编译|&lt;br&gt;
|mvn clean test|先执行clean，再执行test，通常应用于测试环节|&lt;br&gt;
|mvn clean package|先执行clean，再执行package，将项目打包，通常应用于发布前|&lt;br&gt;
|mvn clean install|先执行clean，再执行install，将项目打包，通常应用于发布前|&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;mvn clean package
    执行过程：
      清理————清空环境
      编译————编译源码
      测试————测试源码
      打包————将编译的非测试类打包

cmd mvn clean install
   执行过程：
      清理————清空环境
      编译————编译源码
      测试————测试源码
      打包————将编译的非测试类打包
      部署————将打好的包发布到资源仓库中
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;m2eclipse&quot;&gt;M2Eclipse&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;安装M2Eclipse
第一步：将目录中的m2e,m2e-extras文件拷贝
第二步：拷贝到eclipse中的dropins目录
第三步：查看eclipse中是否安装成功
第四步：设置maven的安装路径
第五步：设置maven的用户配置&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;创建mavenfirst工程-idea&quot;&gt;创建MavenFirst工程(IDEA)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;New Project选择Maven 勾选Create from archetype&lt;/li&gt;
&lt;li&gt;选择maven-archetype-quickstart next&lt;/li&gt;
&lt;li&gt;填写groupid(com.itheima.maven) artifactId(MevanFirst)&lt;/li&gt;
&lt;li&gt;shift+commend+a 搜索Maven Project 点击m按钮 输入指令complie test package install
###### pom.xml
```xml
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;groupId&gt;com.itheima.maven&lt;/groupId&gt;&lt;br&gt;
  &lt;artifactId&gt;MavenFirst&lt;/artifactId&gt;&lt;br&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;br&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;&lt;/p&gt;

&lt;p&gt;&lt;name&gt;MavenFirst&lt;/name&gt;&lt;br&gt;
  &lt;url&gt;&lt;a href=&quot;http://maven.apache.org&quot;&gt;http://maven.apache.org&lt;/a&gt;&lt;/url&gt;&lt;/p&gt;

&lt;p&gt;&lt;properties&gt;&lt;br&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;&lt;br&gt;
  &lt;/properties&gt;&lt;/p&gt;

&lt;p&gt;&lt;dependencies&gt;&lt;br&gt;
    &lt;dependency&gt;&lt;br&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
      &lt;version&gt;4.9&lt;/version&gt;&lt;br&gt;
      &lt;scope&gt;test&lt;/scope&gt;&lt;br&gt;
    &lt;/dependency&gt;&lt;br&gt;
    &lt;dependency&gt;&lt;br&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
      &lt;version&gt;RELEASE&lt;/version&gt;&lt;br&gt;
    &lt;/dependency&gt;&lt;br&gt;
    &lt;dependency&gt;&lt;br&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
      &lt;version&gt;RELEASE&lt;/version&gt;&lt;br&gt;
    &lt;/dependency&gt;&lt;br&gt;
    &lt;dependency&gt;&lt;br&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
      &lt;version&gt;4.12&lt;/version&gt;&lt;br&gt;
    &lt;/dependency&gt;&lt;br&gt;
  &lt;/dependencies&gt;&lt;br&gt;
&lt;/project&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;

#### 创建MavenSecond工程
* New Project选择Maven 不勾选Create from archetype
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//pom.xml&lt;br&gt;
&lt;dependency&gt;&lt;br&gt;
    &lt;groupId&gt;com.itheima.maven&lt;/groupId&gt;&lt;br&gt;
    &lt;artifactId&gt;MavenFirst&lt;/artifactId&gt;&lt;br&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;br&gt;
&lt;/dependency&gt;&lt;/p&gt;

&lt;p&gt;//MavenSecond&lt;br&gt;
public class MavenSecond {&lt;br&gt;
    public String sayHello(String name){&lt;br&gt;
        MavenFirst first = new MavenFirst();&lt;br&gt;
        return first.sayHello(name);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
#### Maven的核心概念
##### 坐标
在平面几何中坐标（x,y）可以标识平面中唯一的一点。在maven中坐标就是为了定位一个唯一确定的jar包。
Maven世界拥有大量构建，我们需要找一个用来唯一标识一个构建的统一规范
拥有了统一规范，就可以把查找工作交给机器

##### Maven坐标主要组成
* groupId：定义当前Maven组织名称
* artifactId：定义实际项目名称
* version：定义当前项目的当前版本

#### 依赖管理
##### 依赖范围
其中依赖范围scope 用来控制依赖和编译，测试，运行的classpath的关系. 主要的是三种依赖关系如下：
* compile： 默认编译依赖范围。对于编译，测试，运行三种classpath都有效
* test：测试依赖范围。只对于测试classpath有效
* provided：已提供依赖范围。对于编译，测试的classpath都有效，但对于运行无效。因为由容器已经提供，例如servlet-api
* runtime:运行时提供。例如:jdbc驱动
|依赖范围|主代码有效|测试代码有效|运行时有效|例子|
|-------|-----------------|----------|---------|---|
|complie|有|有|有|log4j|
|test|无|有|无|junit|
|provided|有|有|无|servlet-api|
|runtime|无|无|有|JDBC DRIVER Implementation|

#### 依赖传递
B工程依赖A工程，C工程依赖B工程，那么B工程是C工程的直接依赖，A工程是C工程的间接依赖

##### 创建MavenThird工程
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//pom.xml&lt;br&gt;
&lt;dependency&gt;&lt;br&gt;
    &lt;groupId&gt;com.itheima.maven&lt;/groupId&gt;&lt;br&gt;
    &lt;artifactId&gt;MavenSecond&lt;/artifactId&gt;&lt;br&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;br&gt;
&lt;/dependency&gt;&lt;br&gt;
//MavenThird&lt;br&gt;
public class MavenThird {&lt;br&gt;
    public String sayHello(String name){&lt;br&gt;
        MavenSecond second = new MavenSecond();&lt;br&gt;
        return second.sayHello(name);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
#### 依赖范围传递
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;MavenThird-------MavenSecond------------MavenFirst&lt;br&gt;&lt;br&gt;
    |        |               |           |&lt;br&gt;
    |        |                   |           |&lt;br&gt;
    |    第一直接依赖         第二直接依赖       |&lt;br&gt;
    |                                        |&lt;br&gt;
    |                                        |&lt;br&gt;
    ----------------  间接依赖  ---------------     &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
总结：
* 当第二依赖的范围是compile的时候，传递性依赖的范围与第一直接依赖的范围一致。
* 当第二直接依赖的范围是test的时候，依赖不会得以传递。
* 当第二依赖的范围是provided的时候，只传递第一直接依赖范围也为provided的依赖，且传递性依赖的范围同样为 provided；
* 当第二直接依赖的范围是runtime的时候，传递性依赖的范围与第一直接依赖的范围一致，但compile例外，此时传递的依赖范围为runtime；



##### 依赖冲突
在maven中存在两种冲突方式：一种是跨pom文件的冲突，一致是同一个pom文件中的冲突。

* 跨pom文件的冲突
MavenFirst的pom文件中依赖来junit的4.9版本，那边MavenSecond和MavenThird中都是使用了4.9版本。
如果MavenSecond中重新依赖junit的4.8版本，那么MavenSecond和MavenThird中都是使用了4.8本
这体现来依赖的就近使用原则。

* 同一个pom文件的冲突 加载从上往下,后面覆盖前面


##### 可选依赖
Optional标签标示该依赖是否可选，默认是false。可以理解为，如果为true，则表示该依赖不会传递下去，如果为false，则会传递下去。



##### 排除依赖
Exclusions标签可以排除依赖


#### 生命周期
* Maven有三个生命周期：clean生命周期、default生命周期、site生命周期
* 生命周期可以理解为项目构建的步骤集合。
* 生命周期是由多个阶段（Phase）组成。每个阶段都是一个完整的功能，比如mvn clean中的clean就是一个阶段。

##### Clean生命周期
* pre-clean 执行一些需要在clean之前完成的工作
* clean 移除所有上一次构建生成的文件
* post-clean 执行一些需要在clean之后立刻完成的工作
mvn clean命令，等同于 mvn pre-clean clean。只要执行后面的命令，那么前面的命令都会执行，不需要再重新去输入命令。
有Clean生命周期，在生命周期又有clean阶段。

##### Default生命周期（重点）
validate
generate-sources
process-sources
generate-resources
process-resources 复制并处理资源文件，至目标目录，准备打包。
compile 编译项目的源代码。
process-classes
generate-test-sources
process-test-sources
generate-test-resources
process-test-resources 复制并处理资源文件，至目标测试目录。
test-compile 编译测试源代码。
process-test-classes
test 使用合适的单元测试框架运行测试。这些测试代码不会被打包或部署。
prepare-package
package 接受编译好的代码，打包成可发布的格式，如 JAR 。
pre-integration-test
integration-test
post-integration-test
verify
install 将包安装至本地仓库，以让其它项目依赖。
deploy 将最终的包复制到远程的仓库，以让其它开发人员与项目共享。
在maven中，只要在同一个生命周期，你执行后面的阶段，那么前面的阶段也会被执行，而且不需要额外去输入前面的阶段，这样大大减轻了程序员的工作。

##### Site生命周期
* pre-site 执行一些需要在生成站点文档之前完成的工作
* site 生成项目的站点文档
* post-site 执行一些需要在生成站点文档之后完成的工作，并且为部署做准备
* site-deploy 将生成的站点文档部署到特定的服务器上



#### 插件
插件（plugin），每个插件都能实现一个阶段的功能。Maven的核心是生命周期，但是生命周期相当于主要指定了maven命令执行的流程顺序，而没有真正实现流程的功能，功能是有插件来实现的。
比如：compile就是一个插件实现的功能。
##### 编译插件
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;build&gt;&lt;br&gt;
    &lt;plugins&gt;&lt;br&gt;
        &lt;plugin&gt;&lt;br&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;br&gt;
            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&lt;br&gt;
            &lt;configuration&gt;&lt;br&gt;
                &lt;source&gt;1.7&lt;/source&gt;&lt;br&gt;
                &lt;target&gt;1.7&lt;/target&gt;&lt;br&gt;
                &lt;encoding&gt;UTF-8&lt;/encoding&gt;&lt;br&gt;
            &lt;/configuration&gt;&lt;br&gt;
        &lt;/plugin&gt;&lt;br&gt;
    &lt;/plugins&gt;&lt;br&gt;
&lt;/build&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;

##### Tomcat插件
如果使用maven的tomcat插件的话，那么本地则不需要安装tomcat。
## 创建maven的web工程
* 第一步：创建maven工程
* 第二步：main下面创建webapp/WEB-INF/web.xml
* 第三步: 在pom.xml中配置&amp;amp;lt;packaging&amp;gt;war&amp;amp;lt;/packaging&amp;gt;

##### 使用tomcat插件运行web工程
默认输入tomcat:run去使用tomcat插件来启动web工程，但是默认的tomcat插件使用的tomcat版本是tomcat6
而目前主流的tomcat，是使用的tomcat7，需要手动配置tomcat插件
使用tomcat7来运行web工程，它的命令是：tomcat7:run

##### 继承
在maven中的继承，指的是pom文件的继承

* 创建父工程
父工程的packaging为pom
* 创建子工程
创建子工程有两种方式：一种是创建一个新的工程为子工程，另一种是修改老的工程为子工程。
子工程的pom文件
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;parent&gt;&lt;br&gt;
    &lt;groupId&gt;com.itheima.maven&lt;/groupId&gt;&lt;br&gt;
    &lt;artifactId&gt;MavenParent&lt;/artifactId&gt;&lt;br&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;br&gt;
&lt;/parent&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;##### 父工程统一依赖jar包
在父工程中对jar包进行依赖，在子工程中都会继承此依赖。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;packaging&gt;pom&lt;/packaging&gt;&lt;br&gt;
&lt;dependencies&gt;&lt;br&gt;
    &lt;dependency&gt;&lt;br&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
        &lt;version&gt;4.9&lt;/version&gt;&lt;br&gt;
    &lt;/dependency&gt;&lt;br&gt;
&lt;/dependencies&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;##### 父工程统一管理版本号
dependencyManagement标签管理的依赖，其实没有真正依赖，它只是管理依赖的版本。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//父工程&lt;br&gt;
&lt;dependencyManagement&gt;&lt;br&gt;
    &lt;dependencies&gt;&lt;br&gt;
        &lt;dependency&gt;&lt;br&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
            &lt;version&gt;4.9&lt;/version&gt;&lt;br&gt;
        &lt;/dependency&gt;&lt;br&gt;
    &lt;/dependencies&gt;&lt;br&gt;
&lt;/dependencyManagement&gt;&lt;/p&gt;

&lt;p&gt;//子工程&lt;br&gt;
&lt;dependencies&gt;&lt;br&gt;
    &lt;dependency&gt;&lt;br&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
    &lt;/dependency&gt;&lt;br&gt;
&lt;/dependencies&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
##### 父工程抽取版本号
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;properties&gt;&lt;br&gt;
    &lt;junit.vsersion&gt;4.9&lt;/junit.vsersion&gt;&lt;br&gt;
&lt;/properties&gt;&lt;br&gt;
&lt;dependencyManagement&gt;&lt;br&gt;
    &lt;dependencies&gt;&lt;br&gt;
        &lt;dependency&gt;&lt;br&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;&lt;br&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;br&gt;
            &lt;version&gt;${junit.vsersion}&lt;/version&gt;&lt;br&gt;
        &lt;/dependency&gt;&lt;br&gt;
    &lt;/dependencies&gt;&lt;br&gt;
&lt;/dependencyManagement&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;


#### 聚合
在真实项目中，一个项目有表现层、业务层、持久层，
对于业务层和持久层，它们可以在多个工程中被使用，
所以一般会将业务层和持久单独创建为java工程，为其他工程依赖。

##### 创建一个聚合工程
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//MavenWeb2&lt;br&gt;
&lt;modules&gt;&lt;br&gt;
    &lt;module&gt;../MavenDao&lt;/module&gt;&lt;br&gt;
    &lt;module&gt;../MavenService&lt;/module&gt;&lt;br&gt;
    &lt;module&gt;../MavenController&lt;/module&gt;&lt;br&gt;
&lt;/modules&gt;&lt;/p&gt;

&lt;!--聚合工程打包方式必须是pom--&gt;

&lt;p&gt;&lt;packaging&gt;pom&lt;/packaging&gt;&lt;/p&gt;

&lt;p&gt;//MavenDao&lt;br&gt;
&lt;parent&gt;&lt;br&gt;
    &lt;artifactId&gt;MavenWeb2&lt;/artifactId&gt;&lt;br&gt;
    &lt;groupId&gt;com.itheima.maven&lt;/groupId&gt;&lt;br&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;br&gt;
    &lt;relativePath&gt;../MavenWeb2/pom.xml&lt;/relativePath&gt;&lt;br&gt;
&lt;/parent&gt;&lt;br&gt;
//MavenService&lt;br&gt;
&lt;parent&gt;&lt;br&gt;
    &lt;artifactId&gt;MavenWeb2&lt;/artifactId&gt;&lt;br&gt;
    &lt;groupId&gt;com.itheima.maven&lt;/groupId&gt;&lt;br&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;br&gt;
    &lt;relativePath&gt;../MavenWeb2/pom.xml&lt;/relativePath&gt;&lt;br&gt;
&lt;/parent&gt;&lt;br&gt;
//MavenController&lt;br&gt;
&lt;parent&gt;&lt;br&gt;
    &lt;artifactId&gt;MavenWeb2&lt;/artifactId&gt;&lt;br&gt;
    &lt;groupId&gt;com.itheima.maven&lt;/groupId&gt;&lt;br&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;br&gt;
    &lt;relativePath&gt;../MavenWeb2/pom.xml&lt;/relativePath&gt;&lt;br&gt;
&lt;/parent&gt;&lt;br&gt;
&lt;packaging&gt;war&lt;/packaging&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;

#### Maven仓库管理
用来统一存储所有Maven共享构建的位置就是仓库。根据Maven坐标定义每个构建在仓库中唯一
存储路径大致为：groupId/artifactId/version/artifactId-version.packaging

##### 仓库的分类
* 本地仓库
默认在~/.m2/repository，如果在用户配置中有配置，则以用户配置的地址为准
* 远程仓库
  中央仓库（不包含有版本的jar包）
  http://repo1.maven.org/maven2
  私服
  本地有使用本地,没有私服去中央仓库下载




##### Maven私服安装
安装Nexus
为所有来自中央仓库的构建安装提供本地缓存。
下载网站：http://nexus.sonatype.org/

* 第一步：安装tomcat
* 第二步：将nexus的war包拷贝到tomcat的webapps下
* 第三步：启动tomcat
* 第四步：nexus的本地目录 ~/.m2/

##### 访问Nexus
访问URL: http://localhost:8080/nexus-2.7.0-06/

默认账号:
用户名： admin
密码： admin123

##### Nexus的仓库和仓库组

仓库有4种类型 :
* group(仓库组)：一组仓库的集合
* hosted(宿主)：配置第三方仓库 （包括公司内部私服 ）
* proxy(代理)：私服会对中央仓库进行代理，用户连接私服，私服自动去中央仓库下载jar包或者插件
* virtual(虚拟)：兼容Maven1 版本的jar或者插件

##### Nexus的仓库和仓库组介绍:
3rd party: 一个策略为Release的宿主类型仓库，用来部署无法从公共仓库获得的第三方发布版本构建
Apache Snapshots: 一个策略为Snapshot的代理仓库，用来代理Apache Maven仓库的快照版本构建
Central: 代理Maven中央仓库
Central M1 shadow: 代理Maven1 版本 中央仓库
Codehaus Snapshots: 一个策略为Snapshot的代理仓库，用来代理Codehaus Maven仓库的快照版本构件
Releases: 一个策略为Release的宿主类型仓库，用来部署组织内部的发布版本构件
Snapshots: 一个策略为Snapshot的宿主类型仓库，用来部署组织内部的快照版本构件
Public Repositories:该仓库组将上述所有策略为Release的仓库聚合并通过一致的地址提供服务



##### 配置所有构建均从私服下载
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在本地仓库(~/.m2)的setting.xml中配置如下：&lt;br&gt;
&lt;mirrors&gt;&lt;br&gt;
    &lt;mirror&gt;&lt;br&gt;
       &amp;lt;!--此处配置所有的构建均从私有仓库中下载 &lt;em&gt;代表所有，也可以写central --&amp;gt;&lt;br&gt;
       &lt;id&gt;nexus&lt;/id&gt;&lt;br&gt;
       &lt;mirrorOf&gt;&lt;/em&gt;&lt;/mirrorOf&gt;&lt;br&gt;
       &lt;url&gt;&lt;a href=&quot;http://localhost:8080/nexus-2.7.0-06/content/groups/public/&quot;&gt;http://localhost:8080/nexus-2.7.0-06/content/groups/public/&lt;/a&gt;&lt;/url&gt;&lt;br&gt;
    &lt;/mirror&gt;&lt;br&gt;
 &lt;/mirrors&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;




##### 部署构建到Nexus
* 第一步：Nexus的访问权限控制
在本地仓库的setting.xml中配置如下：
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;server&gt;&lt;br&gt;
      &lt;id&gt;releases&lt;/id&gt;&lt;br&gt;
      &lt;username&gt;admin&lt;/username&gt;&lt;br&gt;
      &lt;password&gt;admin123&lt;/password&gt;&lt;br&gt;
   &lt;/server&gt;&lt;br&gt;
   &lt;server&gt;&lt;br&gt;
      &lt;id&gt;snapshots&lt;/id&gt;&lt;br&gt;
      &lt;username&gt;admin&lt;/username&gt;&lt;br&gt;
      &lt;password&gt;admin123&lt;/password&gt;&lt;br&gt;
   &lt;/server&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;* 第二步：配置pom文件
在需要构建的项目中修改pom文件
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;distributionManagement&gt;&lt;br&gt;
      &lt;repository&gt;&lt;br&gt;
         &lt;id&gt;releases&lt;/id&gt;&lt;br&gt;
         &lt;name&gt;Internal Releases&lt;/name&gt;&lt;br&gt;
         &lt;url&gt;&lt;a href=&quot;http://localhost:8080/nexus-2.7.0-06/content/repositories/releases/&quot;&gt;http://localhost:8080/nexus-2.7.0-06/content/repositories/releases/&lt;/a&gt;&lt;/url&gt;&lt;br&gt;
      &lt;/repository&gt;&lt;br&gt;
      &lt;snapshotRepository&gt;&lt;br&gt;
         &lt;id&gt;snapshots&lt;/id&gt;&lt;br&gt;
         &lt;name&gt;Internal Snapshots&lt;/name&gt;&lt;br&gt;
         &lt;url&gt;&lt;a href=&quot;http://localhost:8080/nexus-2.7.0-06/content/repositories/snapshots/&quot;&gt;http://localhost:8080/nexus-2.7.0-06/content/repositories/snapshots/&lt;/a&gt;&lt;/url&gt;&lt;br&gt;
      &lt;/snapshotRepository&gt;&lt;br&gt;
   &lt;/distributionManagement&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
* 第三步：执行maven的deploy命令
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-7-2-webService02"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-7-2-webService02</id>
   <content type="html"></content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-7-1-webService01"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-7-1-webService01</id>
   <content type="html">&lt;h2 id=&quot;webservice&quot;&gt;Webservice&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Webservice就是一种远程调用技术，他的作用就是从远程系统中获取业务数据&lt;/li&gt;
&lt;li&gt;Webservice是使用Http发送SOAP协议的数据的一种远程调用技术&lt;/li&gt;
&lt;li&gt;Webservice客户端开发需要阅读服务端的使用说明书（WSDL）&lt;/li&gt;
&lt;li&gt;UUID 提高webservice服务端的注册和搜索功能&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;webservice的入门程序-天气查询&quot;&gt;Webservice的入门程序 天气查询&lt;/h4&gt;

&lt;h5 id=&quot;服务端：&quot;&gt;服务端：&lt;/h5&gt;

&lt;p&gt;开发步骤：&lt;br&gt;
第一步：创建SEI（Service Endpoint Interface）接口，本质上就是Java接口&lt;br&gt;
第二步：创建SEI实现类，在实现类上加入@WebService&lt;br&gt;
第三步：发布服务，Endpoint发布服务，publish方法，两个参数：1.服务地址；2.服务实现类&lt;br&gt;
第四步：测试服务是否发布成功，通过阅读使用说明书，确定客户端调用的接口、方法、参数和返回值存在，证明服务发布成功&lt;/p&gt;

&lt;p&gt;WSDL地址：服务地址+”?wsdl”&lt;br&gt;
WSDL阅读方式：从下往上&lt;/p&gt;

&lt;h6 id=&quot;服务器&quot;&gt;服务器&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WeatherInterface&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;queryWeather&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cityName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@WebService&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//表示该类是一个服务 发布public 方法&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WeatherInterfaceImpl&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WeatherInterface&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;queryWeather&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cityName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;from client...&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cityName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weather&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;晴&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weather&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WeatherServer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//发布服务&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//1.服务地址,2.实现类&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://127.0.0.1:12345/weather&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WeatherInterfaceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;客户端：&quot;&gt;客户端：&lt;/h5&gt;

&lt;p&gt;开发步骤&lt;br&gt;
第一步：wsimport命令生成客户端代码&lt;br&gt;
wsimport -s . &lt;a href=&quot;http://127.0.0.1:12345/weather?wsdl&quot;&gt;http://127.0.0.1:12345/weather?wsdl&lt;/a&gt;&lt;br&gt;
wsimport -p cn.itcast.weather -s . file:///zhxiaol/WeatherWS.asmx.xml //本地文件&lt;br&gt;
第二步：根据使用说明书，使用客户端代码调用服务端&lt;br&gt;
               创建服务视图，视图是从service标签的name属性获取&lt;br&gt;
               获取服务实现类，实现类从portType的name属性获取&lt;br&gt;
第三步：获取查询方法，从portType的operation标签获取&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WeatherClient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;WeatherInterfaceImplService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WeatherInterfaceImplService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;WeatherInterfaceImpl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WeatherInterfaceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;queryWeather&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;北京&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;webservice的优缺点&quot;&gt;Webservice的优缺点&lt;/h4&gt;

&lt;h5 id=&quot;优点：&quot;&gt;优点：&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;发送方式采用http的post发送，http的默认端口是80，防火墙默认不拦截80，所以跨防火墙&lt;/li&gt;
&lt;li&gt;采用XML格式封装数据，XML是跨平台的，所以webservice也可以跨平台。&lt;/li&gt;
&lt;li&gt;Webservice支持面向对象
##### 缺点：&lt;/li&gt;
&lt;li&gt;采用XML格式封装数据，所以在传输过程中，要传输额外的标签，随着SOAP协议的不断完善，标签越来越大，导致webservice性能下降&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;webservice应用场景&quot;&gt;Webservice应用场景&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;软件集成和复用&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;适用场景&lt;br&gt;
发布一个服务（对内/对外），不考虑客户端类型，不考虑性能，建议使用webservice&lt;br&gt;
服务端已经确定使用webservice，客户端不能选择，必须使用webservice&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;不适用场景&lt;br&gt;
考虑性能时不建议使用webservice&lt;br&gt;
同构程序下不建议使用webservice，比如java 用RMI，不需要翻译成XML的数据&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;wsdl&quot;&gt;WSDL&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;定义&lt;br&gt;
WSDL及web服务描述语言，他是webservice服务端使用说明书，说明服务端接口、方法、参数和返回值，WSDL是随服务发布成功，自动生成，无需编写&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;文档结构&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;service&amp;gt;    服务视图，webservice的服务结点，它包括了服务端点
&amp;lt;binding&amp;gt;     为每个服务端点定义消息格式和协议细节
&amp;lt;portType&amp;gt;   服务端点，描述 web service可被执行的操作方法，以及相关的消息，通过binding指向portType
&amp;lt;message&amp;gt;   定义一个操作（方法）的数据参数(可有多个参数)
&amp;lt;types&amp;gt;        定义 web service 使用的全部数据类型
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;阅读方式：从下往上&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;soap&quot;&gt;SOAP&lt;/h4&gt;

&lt;h5 id=&quot;定义：&quot;&gt;定义：&lt;/h5&gt;

&lt;p&gt;SOAP即简单对象访问协议，他是使用http发送的XML格式的数据，它可以跨平台，跨防火墙，SOAP不是webservice的专有协议。SOAP=http+xml&lt;/p&gt;

&lt;h5 id=&quot;协议格式&quot;&gt;协议格式&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;必需有 Envelope 元素，此元素将整个 XML 文档标识为一条 SOAP 消息&lt;/li&gt;
&lt;li&gt;可选的 Header 元素，包含头部信息&lt;/li&gt;
&lt;li&gt;必需有Body 元素，包含所有的调用和响应信息&lt;/li&gt;
&lt;li&gt;可选的 Fault 元素，提供有关在处理此消息所发生错误的信息&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;soap1-1和soap1-2区别&quot;&gt;SOAP1.1和SOAP1.2区别&lt;/h4&gt;

&lt;h5 id=&quot;相同点：&quot;&gt;相同点：&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;请求发送方式相同：都是使用POST&lt;/li&gt;
&lt;li&gt;协议内容相同：都有Envelope和Body标签
##### 不同点：&lt;/li&gt;
&lt;li&gt;数据格式不同：content-type不同
SOAP1.1：text/xml;charset=utf-8
SOAP1.2：application/soap+xml;charset=utf-8&lt;/li&gt;
&lt;li&gt;命名空间不同：
SOAP1.1：&lt;a href=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;http://schemas.xmlsoap.org/soap/envelope/&lt;/a&gt;
SOAP1.2：&lt;a href=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;http://www.w3.org/2003/05/soap-envelope&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;uddi&quot;&gt;UDDI&lt;/h5&gt;

&lt;p&gt;UDDI 是一种目录服务，企业可以使用它对 Web services 进行注册和搜索。UDDI，英文为 &amp;quot;Universal Description, Discovery and Integration&amp;quot;，可译为“通用描述、发现与集成服务”。&lt;br&gt;
UDDI 并不像 WSDL 和 SOAP 一样深入人心，因为很多时候，使用者知道 Web 服务的位置（通常位于公司的企业内部网中）。&lt;/p&gt;

&lt;h4 id=&quot;webservice的四种客户端调用方式&quot;&gt;Webservice的四种客户端调用方式&lt;/h4&gt;

&lt;h5 id=&quot;公网服务地址：&quot;&gt;公网服务地址：&lt;/h5&gt;

&lt;p&gt;&lt;a href=&quot;http://www.webxml.com.cn/zh_cn/index.aspx&quot;&gt;http://www.webxml.com.cn/zh_cn/index.aspx&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;第一种生成客户端调用方式&quot;&gt;第一种生成客户端调用方式&lt;/h4&gt;

&lt;h5 id=&quot;wsimport命令介绍&quot;&gt;Wsimport命令介绍&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;Wsimport就是jdk提供的的一个工具，他作用就是根据WSDL地址生成客户端代码&lt;/li&gt;
&lt;li&gt;Wsimport位置JAVA_HOME/bin&lt;/li&gt;
&lt;li&gt;Wsimport常用的参数：
-s，生成java文件的
-d，生成class文件的，默认的参数
-p，指定包名的，如果不加该参数，默认包名就是wsdl文档中的命名空间的倒序&lt;/li&gt;
&lt;li&gt;Wsimport仅支持SOAP1.1客户端的生成&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&quot;调用公网手机号归属地查询服务&quot;&gt;调用公网手机号归属地查询服务&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//第一步：wsimport生成客户端代码&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//wsimport -p cn.itcast.mobile -s . http://webservice.webxml.com.cn/WebServices/MobileCodeWS.asmx?wsdl&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//第二步：阅读使用说明书，使用生成客户端代码调用服务端&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MobileClient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//创建服务视图&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;MobileCodeWS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mobileCodeWS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MobileCodeWS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//获取服务实现类&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;MobileCodeWSSoap&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mobileCodeWSSoap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mobileCodeWS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MobileCodeWSSoap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//调用查询方法&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reuslt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mobileCodeWSSoap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMobileCodeInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;13888888&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reuslt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;公网天气服务端查询&quot;&gt;公网天气服务端查询&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//第一步：wsimport生成客户端代码&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;wsimport&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;itcast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;weather&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;file:&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;///zhxiaol/WeatherWS.asmx.xml&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//第二步：阅读使用说明书，使用生成客户端代码调用服务端&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WeatherClient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;WeatherWS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weatherWS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WeatherWS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;WeatherWSSoap&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weatherWSSoap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weatherWS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WeatherWSSoap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;ArrayOfString&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;arrayOfString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weatherWSSoap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getWeather&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;北京&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arrayOfString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;第二种：service编程调用方式&quot;&gt;第二种：service编程调用方式&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;该种方式可以自定义关键元素，方便以后维护，是一种标准的开发方式&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServiceClient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IOException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//创建WSDL的URL，注意不是服务地址&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://webservice.webxml.com.cn/WebServices/MobileCodeWS.asmx?wsdl&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//创建服务名称&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//1.namespaceURI - 命名空间地址&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//2.localPart - 服务视图名&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;QName&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;qname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;QName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://WebXml.com.cn/&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;MobileCodeWS&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//创建服务视图&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//参数解释：&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//1.wsdlDocumentLocation - wsdl地址&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//2.serviceName - 服务名称&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Service&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;qname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//获取服务实现类&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;MobileCodeWSSoap&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mobileCodeWSSoap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MobileCodeWSSoap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//调用查询方法&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mobileCodeWSSoap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMobileCodeInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1866666666&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
#### 第三种：HttpURLConnection调用方式
开发步骤：
* 第一步：创建服务地址
* 第二步：打开一个通向服务地址的连接
* 第三步：设置参数
   设置POST，POST必须大写，如果不大写，报如下异常 Invalid Http method:post
   如果不设置输入输出，会报异常 cannot write to a UrlConncetion if doOutput=false
* 第四步：组织SOAP数据，发送请求
* 第五步：接收服务端响应，打印

```java
public class HttpClient {
    public static void main(String[] args) throws IOException {
        //第一步：创建服务地址，不是WSDL地址
        URL url = new URL(&quot;http://webservice.webxml.com.cn/WebServices/MobileCodeWS.asmx&quot;);
        //第二步：打开一个通向服务地址的连接
        HttpURLConnection connection = (HttpURLConnection) url.openConnection();
        //第三步：设置参数
        //3.1发送方式设置：POST必须大写
        connection.setRequestMethod(&quot;POST&quot;);
        //3.2设置数据格式：content-type
        connection.setRequestProperty(&quot;content-type&quot;, &quot;text/xml;charset=utf-8&quot;);
        //3.3设置输入输出，因为默认新创建的connection没有读写权限，
        connection.setDoInput(true);
        connection.setDoOutput(true);

        //第四步：组织SOAP数据，发送请求
        String soapXML = getXML(&quot;15226466316&quot;);
        OutputStream os = connection.getOutputStream();
        os.write(soapXML.getBytes());
        //第五步：接收服务端响应，打印
        int responseCode = connection.getResponseCode();
        if(200 == responseCode){//表示服务端响应成功
            InputStream is = connection.getInputStream();
            InputStreamReader isr = new InputStreamReader(is);
            BufferedReader br = new BufferedReader(isr);

            StringBuilder sb = new StringBuilder();
            String temp = null;
            while(null != (temp = br.readLine())){
                sb.append(temp);
            }
            System.out.println(sb.toString());

            br.close();
        }
        os.close();
    }
    public static String getXML(String phoneNum){
        String soapXML = &quot;&amp;lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;utf-8\&quot;?&amp;gt;&quot;
        +&quot;&amp;lt;soap:Envelope xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot; xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:soap=\&quot;http://schemas.xmlsoap.org/soap/envelope/\&quot;&amp;gt;&quot;
            +&quot;&amp;lt;soap:Body&amp;gt;&quot;
            +&quot;&amp;lt;getMobileCodeInfo xmlns=\&quot;http://WebXml.com.cn/\&quot;&amp;gt;&quot;
                +&quot;&amp;lt;mobileCode&amp;gt;&quot;+phoneNum+&quot;&amp;lt;/mobileCode&amp;gt;&quot;
              +&quot;&amp;lt;userID&amp;gt;&amp;lt;/userID&amp;gt;&quot;
            +&quot;&amp;lt;/getMobileCodeInfo&amp;gt;&quot;
          +&quot;&amp;lt;/soap:Body&amp;gt;&quot;
        +&quot;&amp;lt;/soap:Envelope&amp;gt;&quot;;
        return soapXML;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;ajax调用方式&quot;&gt;Ajax调用方式&lt;/h4&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!doctype html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;lang=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Document&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryMobile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//创建XMLHttpRequest对象&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//打开连接&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://webservice.webxml.com.cn/WebServices/MobileCodeWS.asmx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//设置数据类型&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setRequestHeader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;content-type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/xml;charset=utf-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//设置回调函数&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onreadystatechange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//判断是否发送成功和判断服务端是否响应成功&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;readyState&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;responseText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//组织SOAP协议数据&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;soapXML&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;utf-8\&quot;?&amp;gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;soap:Envelope xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot; xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:soap=\&quot;http://schemas.xmlsoap.org/soap/envelope/\&quot;&amp;gt;&quot;&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;soap:Body&amp;gt;&quot;&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;getMobileCodeInfo xmlns=\&quot;http://WebXml.com.cn/\&quot;&amp;gt;&quot;&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;mobileCode&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;phoneNum&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;/mobileCode&amp;gt;&quot;&lt;/span&gt;
              &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;userID&amp;gt;&amp;lt;/userID&amp;gt;&quot;&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;/getMobileCodeInfo&amp;gt;&quot;&lt;/span&gt;
          &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;/soap:Body&amp;gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;/soap:Envelope&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;soapXML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//发送数据&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;xhr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;soapXML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
  手机号查询：&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;phoneNum&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;查询&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;onclick=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;javascript:queryMobile();&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;深入开发：用注解修改wsdl内容&quot;&gt;深入开发：用注解修改WSDL内容&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;WebService的注解都位于javax.jws包下:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;@WebService-定义服务，在public class上边
targetNamespace：指定命名空间
name：portType的名称
portName：port的名称
serviceName：服务名称
endpointInterface：SEI接口地址，如果一个服务类实现了多个接口，只需要发布一个接口的方法，可通过此注解指定要发布服务的接口。&lt;/li&gt;
&lt;li&gt;@WebMethod-定义方法，在公开方法上边
operationName：方法名
exclude：设置为true表示此方法不是webservice方法，反之则表示webservice方法，默认是false&lt;/li&gt;
&lt;li&gt;@WebResult-定义返回值，在方法返回值前边
name：返回结果值的名称&lt;/li&gt;
&lt;li&gt;@WebParam-定义参数，在方法参数前边
name：指定参数的名称&lt;/li&gt;
&lt;li&gt;作用：
通过注解，可以更加形像的描述Web服务。对自动生成的wsdl文档进行修改，为使用者提供一个更加清晰的wsdl文档。
当修改了WebService注解之后，会影响客户端生成的代码。调用的方法名和参数名也发生了变化
&lt;code&gt;java
@WebService(targetNamespace = &amp;quot;http://service.cn.itcast&amp;quot;,
name = &amp;quot;WeatherWSSoap&amp;quot;,
portName = &amp;quot;WeatherWSSoapPort&amp;quot;,
serviceName = &amp;quot;WeatherWS&amp;quot;) //表示该类是一个服务 发布public 方法
public class WeatherInterfaceAnnotation implements WeatherInterface {
@WebMethod(operationName = &amp;quot;getWeather&amp;quot;,
exclude = false)
@Override
public @WebResult(name = &amp;quot;result&amp;quot;) String queryWeather(@WebParam(name = &amp;quot;cityName&amp;quot;) String cityName) {
    System.out.println(&amp;quot;from client...&amp;quot;+cityName);
    String weather=&amp;quot;晴&amp;quot;;
    return weather;
}
}
&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-9-svn"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-9-svn</id>
   <content type="html">&lt;h2 id=&quot;svn&quot;&gt;SVN&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;版本控制&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;版本控制（Revision Control）：是维护工程蓝图的标准做法，能追踪工程蓝图从诞生一直到定案的过程。是一种记录若干文件内容变化，以便将来查阅特定版本修订情况的系统。也是一种软体工程技巧，籍以在开发的过程中，确保由不同人所编辑的同一档案都得到更新。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;h6 id=&quot;版本控制软件&quot;&gt;版本控制软件&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;CVS（Concurrent Versions System）代表协作版本系统或者并发版本系统，是一种版本控制系统，方便软件的开发和使用者协同工作。
VSS （ Visual Source Safe ）只能在windows下,作为 Microsoft Visual Studio 的一名成员，它主要任务就是负责项目文件的管理
Git是用于Linux内核开发的版本控制工具。它采用了分布式版本库的方式，不必服务器端软件支持，使源代码的发布和交流极其方便。Git的速度很快，这对于诸如Linux kernel这样的大项目来说自然很重要。Git最为出色的是它的合并跟踪（merge tracing）能力。
SVN（Subversion ），是一个开放源代码的版本控制系统，采用了分支管理系统，它的设计目标就是取代CVS。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;svn特点&quot;&gt;SVN特点&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;统一的版本号。CVS是对每个文件顺序编排版本号，在某一时间各文件的版本号各不相同。而Subversion下，任何一次提交都会对所有文件增加到同一个新版本号，即使是提交并不涉及的文件。所以，各文件在某任意时间的版本号是相同的。版本号相同的文件构成软件的一个版本。
原子提交。一次提交不管是单个还是多个文件，都是作为一个整体提交的。在这当中发生的意外例如传输中断，不会引起数据库的不完整和数据损坏。
重命名、复制、删除文件等动作都保存在版本历史记录当中。
 对于二进制文件，使用了节省空间的保存方法。（简单的理解，就是只保存和上一版本不同之处）
目录也有版本历史。整个目录树可以被移动或者复制，操作很简单，而且能够保留全部版本记录。
分支的开销非常小。
优化过的数据库访问，使得一些操作不必访问数据库就可以做到。这样减少了很多不必要的和数据库主机之间的网络流量。
支持元数据（Metadata）管理。每个目录或文件都可以定义属性（Property），它是一些隐藏的键值对，用户可以自定义属性内容，而且属性和文件内容一样在版本控制范围内。
支持FSFS和Berkeley DB两种资料库格式。
不足：只能设置目录的访问权限，无法设置单个文件的访问权限。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;创建仓库&quot;&gt;创建仓库&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;格式：cmd&amp;gt;  svnadmin create 路径&lt;br&gt;
注意：创建仓库时，目录必须是空的 ，及新建文件夹&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h6 id=&quot;启动&quot;&gt;启动&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;格式：cmd&amp;gt;  svnserve  -d  -r  仓库的路径
    -d后台执行
    -r版本库的根目录


启动时，指定“仓库路径”不同，分类：多仓库和单仓库

多仓库

    启动：svnserve -d -r 仓库父目录  ，表示启动时多仓库
    例如：svnserve -d -r G:\repository\svn
    访问：svn://localhost:3690/bbs
单仓库

    启动：svnserve -d -r 仓库的根  ，表示启动时单仓库
    例如：svnserve -d -r G:\repository\svn\bbs
    访问：svn://localhost:3690

将操作注册成操作系统的“服务”，开机启动。
1.“运行”，services.msc 打开“服务”
2. 删除“服务”

3. 注册“服务”

sc create svn binpath= &quot;D:\java\Subversion\bin\svnserve.exe --service -r G:\repository\svn&quot; displayname= &quot;SVN-Service&quot; start= auto depend= Tcpip

4. 启动或停止“服务”

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;操作&quot;&gt;操作&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;checkout
格式：svn  checkout  服务器地址  下载地址


commit
格式：svn commit  资源

问题1：没有纳入版本控制

    使用add子命令 添加到本地版本库

问题2：没有编写日志

    采用 -m  参数设置日志信息

问题3：没有权限

    修改权限，设置匿名访问
        G:\repository\svn\bbs\conf\svnserve.conf
        匿名访问 anon-access = write

update
格式： svn update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;图形化：tortoisesvn-安装&quot;&gt;图形化：TortoiseSVN 安装&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;安装成功之后，所有的操作都是“右键”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h6 id=&quot;svn权限&quot;&gt;svn权限&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;权限需要3个配置文件

svnserve.conf
    开启认证

    确定账号配置文件位置

    确定认证配置文件位置

passwd  账号配置 （一行一个账号，账号用户名和密码组成，使用等号分隔）

authz 认证配置文件
    配置组 ， 格式：组名 = 用户1 ，用户2，....

    认证细节配置
        多仓库
            [bbs:/]             --&amp;gt; 确定仓库名称 。[bbs:/doc]  给bbs仓库的doc目录配置权限
            @itheima = rw   --&amp;gt; 给itheima组设置权限。
                                read ('r') ，read-write ('rw') ，or no access ('').
            user3 = r           --&amp;gt; 给user3 指定权限
            *=              --&amp;gt; 其他用户没有权限

        单仓库
            [/]             --&amp;gt;当仓库的根  [/doc]  单仓库doc目录

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.10    TortoiseSVN 常见图标&lt;/p&gt;

&lt;p&gt;2.11    myeclipse svn 插件&lt;br&gt;
2.11.1  安装插件&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    如果3个都不能使用，直接换eclipse
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装方式1：直接复制&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;eclipse插件规范
    eclipse 目录
        | -- features目录
        | -- plugins 目录
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;方式2：使用link文件&lt;br&gt;
    将插件解压到任意目录（不含中文、空格），在myeclipse/dropins目录添加一个link文件&lt;br&gt;
        文件名：自定义&lt;br&gt;
        文件扩展名：link&lt;br&gt;
        文件内容：&lt;br&gt;
            path = 插件完整目录，需要指定到eclipse，及可以看到（features 、 plugins）&lt;br&gt;
            例如：&lt;br&gt;
                path=D:\java\MyEclipse\MyEclipse 10\svn\eclipse&lt;br&gt;
                path=D:/java/MyEclipse/MyEclipse 10/svn/eclipse&lt;br&gt;
方式3：在线安装&lt;br&gt;
安装成功标志&lt;/p&gt;

&lt;p&gt;2.11.2  操作&lt;/p&gt;

&lt;p&gt;2.12    svn目录规范&lt;/p&gt;

&lt;p&gt;trunk  ，主线，用于存放程序整个进度&lt;br&gt;
branches ，分支，例如：bug修复、特殊功能等&lt;br&gt;
tags，标签（版本），此目录下的内容不能修改&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-26-Oracle03"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-26-Oracle03</id>
   <content type="html">&lt;h2 id=&quot;pl-sql&quot;&gt;PL/SQL&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;PL/SQL是一种块结构的语言。一个PL/SQL包含了一个或多个逻辑快，逻辑块中可以声明变量、写程序主体、
还可以捕获异常和异常处理。每个逻辑快分为三个部分declare begin exception
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;变量和常量&quot;&gt;变量和常量&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;变量和说明变量中间添加 constant就是常量&lt;br&gt;
|变量|说明变量|&lt;br&gt;
|-----|----------|&lt;br&gt;
|var1|char(15)|&lt;br&gt;
|married|boolean:=true|&lt;br&gt;
|psal|number(7,2)|&lt;br&gt;
|my_name|emp.ename%type 引用型变量|&lt;br&gt;
|emp_rec|emp%rowtype 记录型变量 一行可以当做一个数组|&lt;/p&gt;

&lt;h5 id=&quot;引用型变量&quot;&gt;引用型变量&lt;/h5&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--查询7839的姓名和薪水&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;--打开输出&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;declare&lt;br&gt;
  --定义变量保存姓名和薪水&lt;br&gt;
  --pename varchar2(20);&lt;br&gt;
  --psal   number;&lt;br&gt;
  pename emp.ename%type;&lt;br&gt;
  psal   emp.sal%type;&lt;br&gt;
begin&lt;br&gt;
  --得到姓名和薪水&lt;br&gt;
  select ename,sal into pename,psal from emp where empno=7839;&lt;/p&gt;

&lt;p&gt;dbms_output.put_line(pename||&amp;#39;的薪水是&amp;#39;||psal);&lt;br&gt;
end;&lt;br&gt;
/&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;##### 记录型变量
```sql
--查询7839的姓名和薪水
set serveroutput on

declare
  --定义记录型变量：代表一行
  emp_rec emp%rowtype;
begin
  select * into emp_rec from emp where empno=7839;
  dbms_output.put_line(emp_rec.ename||'的薪水是'||emp_rec.sal);
end;
/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;if语句&quot;&gt;IF语句&lt;/h2&gt;

&lt;h6 id=&quot;格式&quot;&gt;格式&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;if 条件 then 语句1; 语句2;end if;

if 条件 then  语句序列1:esle 语句序列2; end if;

if 条件 then 语句; elsif 语句 then 语句; else 语句; end if;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;if案例&quot;&gt;if案例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;--判断用户从键盘输入的数字

set serveroutput on

--接收键盘输入
--num: 地址值，在该地址上 保存了输入的值
accept num prompt '请输入一个数字';

declare
  --定义变量保存输入的数字
  pnum number := &amp;amp;num;
begin
  if pnum = 0 then dbms_output.put_line('您输入的是0');
    elsif pnum = 1 then dbms_output.put_line('您输入的是1');
    elsif pnum = 2 then dbms_output.put_line('您输入的是2');
    else dbms_output.put_line('其他数字');
  end if;
end;
/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;循环语句&quot;&gt;循环语句&lt;/h5&gt;

&lt;h6 id=&quot;格式&quot;&gt;格式&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-plsql&quot; data-lang=&quot;plsql&quot;&gt;//第一种
while total &amp;lt;=25000
loop
...
total:=total+salary;
end loop;


//第二种
loop
exit[when 条件];
...
end loop;


//第三种
for i in 1..3
loop
语句序列
end loop;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;循环案例&quot;&gt;循环案例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-plsql&quot; data-lang=&quot;plsql&quot;&gt;
set serveroutput on

declare
  pnum number := 1;
begin
  loop

    exit when pnum &amp;gt; 10;

    dbms_output.put_line(pnum);

    pnum := pnum + 1;
  end loop;
end;
/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;光标-cursor-resultset&quot;&gt;光标(Cursor)==ResultSet&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;定义&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;语法&lt;/td&gt;
&lt;td&gt;cursor 光标名[(参数名 数据类型[,参数名 数据类型]...)] is select 语句:&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;用于&lt;/td&gt;
&lt;td&gt;用于存储一个查询返回的多行数据&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;示例&lt;/td&gt;
&lt;td&gt;cursor c1 is select ename from emp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;打开光标&lt;/td&gt;
&lt;td&gt;open c1;(打开光标执行查询)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;取一行光标的值&lt;/td&gt;
&lt;td&gt;fetch c1 into pename;(取一行到变量中,取完光标下移,pename类型必须和ename类型一致);&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;关闭光标&lt;/td&gt;
&lt;td&gt;close c1;(关闭游标释放资源)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;光标的属性&lt;/td&gt;
&lt;td&gt;c1%属性&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%isopen&lt;/td&gt;
&lt;td&gt;是否打开&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%rowcount&lt;/td&gt;
&lt;td&gt;影响的行数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%found&lt;/td&gt;
&lt;td&gt;是否取到数据&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%notfound&lt;/td&gt;
&lt;td&gt;是否没取到数据&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;h6 id=&quot;示例&quot;&gt;示例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--查询并打印员工的姓名和薪水&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;默认，一个会话中只能打开&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;个光标&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SQL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;show&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;parameter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;修改&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;alter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;system&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_cursors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--定义光标&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--打开光标&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--取一条记录&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--退出条件&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--exit when 没有取到记录;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notfound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'的薪水是'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;--关闭光标&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;涨工资&quot;&gt;涨工资&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--涨工资，总裁1000 经理800 其他400&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--alter table &quot;SCOTT&quot;.&quot;EMP&quot; rename column &quot;JOB&quot; to empjob&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empjob&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pjob&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empjob&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;rollback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--取一条记录&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pjob&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notfound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;--判断职位&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pjob&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'PRESIDENT'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;elsif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pjob&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'MANAGER'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;800&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;--why?  ---&amp;gt; ACID&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'完成'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;带参数的光标&quot;&gt;带参数的光标&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--查询某个部门的员工姓名&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notfound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;例外&quot;&gt;例外&lt;/h2&gt;

&lt;p&gt;例外是程序设计语言提供的一种功能,用来增强程序的健壮性和容错性&lt;/p&gt;

&lt;h6 id=&quot;系统定义例外&quot;&gt;系统定义例外&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;例外&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;No_data_found&lt;/td&gt;
&lt;td&gt;没有找到数据&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Too_many_rows&lt;/td&gt;
&lt;td&gt;select..into语句匹配多行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Zero_Divide&lt;/td&gt;
&lt;td&gt;被零除&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Value_error&lt;/td&gt;
&lt;td&gt;算术或转换错误&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Timeout_on_resource&lt;/td&gt;
&lt;td&gt;在等待资源时发生超时&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;h6 id=&quot;字体定义例外&quot;&gt;字体定义例外&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--被0除&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pnum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pnum&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;exception&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zero_divide&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1:0不能做分母'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                         &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'2:0不能做分母'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value_error&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'算术或者转换错误'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;others&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'其他例外'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;自定义实例&quot;&gt;自定义实例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--查询50号部门的员工姓名&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;--自定义例外&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;no_emp_found&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exception&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;--取第一条记录&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notfound&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--抛出例外&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;no_emp_found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;--pmon: process monitor&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;exception&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;no_emp_found&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'没有找到员工'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;others&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'其他例外'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;案例1&quot;&gt;案例1&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;cm&quot;&gt;/*
SQL语句：
select to_char(hiredate,'yyyy') from emp;
---&amp;gt; 集合 ---&amp;gt; 光标 ---&amp;gt; 循环  ---&amp;gt; 退出条件:notfound

变量：1. 初始值  2. 最终得到
每年入职的员工人数:
count80 number := 0;
count81 number := 0;
count82 number := 0;
count87 number := 0;
*/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;phiredate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;--每年入职的员工人数:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;count80&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;count81&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;count82&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;count87&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--取一个员工的入职年份&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--退出条件:notfound&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notfound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;--判断年份&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phiredate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1980'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count80&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;elsif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phiredate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1981'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count81&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count81&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;elsif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;phiredate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1982'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count82&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count87&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count87&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Total:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count80&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count81&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count82&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count87&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1980:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1981:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count81&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1982:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1987:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count87&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;案例二&quot;&gt;案例二&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;cm&quot;&gt;/*
SQL语句：
select empno,sal from emp order by sal;
---&amp;gt; 光标 ---&amp;gt; 退出：1. 总额 &amp;gt; 5w   2. notfound

变量：1. 初始值  2. 最终得到
涨工资的人数: countEmp number := 0;
涨后的工资总额: salTotal number;
1. select sum(sal) into salTotal from emp;
2. 涨后=涨前 + sal * 0.1

练习： 人数:7   总额:50205.325
*/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serveroutput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--涨工资的人数:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;countEmp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--涨后的工资总额:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;salTotal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--得到初始的工资总额&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;salTotal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--1. 总额 &amp;gt; 5w&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;salTotal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--取一个员工&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--2. notfound&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notfound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;--涨工资&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pempno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--人数+1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;countEmp&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;countEmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;--2. 涨后=涨前 + sal * 0.1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;salTotal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;salTotal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cemp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'人数:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countEmp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'   总额:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;salTotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;触发器&quot;&gt;触发器&lt;/h2&gt;

&lt;p&gt;数据库触发器是一个与表相关联、存储的PL/SQL程序.每当一个特定的数据操作语句(insert,update,delete)在指定的表上发出时,Oracle自动的执行触发器中定义的语句序列&lt;/p&gt;

&lt;h5 id=&quot;触发器类型&quot;&gt;触发器类型&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;语句级触发器
在指定的操作语句操作之前或之后执行一次,不管这条语句影响了多少行&lt;/li&gt;
&lt;li&gt;行级触发器
触发语句作用的每一条记录都被触发,在行级触发器中使用:old和:new伪记录变量,识别值的状态.
###### 第一个触发器
&lt;code&gt;sql
--每当成功插入新员工后，自动打印&amp;quot;成功插入新员工&amp;quot;
create trigger abcd
after insert
on emp
declare
begin
dbms_output.put_line(&amp;#39;成功插入新员工&amp;#39;);
end;
/
&lt;/code&gt;
##### 触发器作用&lt;/li&gt;
&lt;li&gt;数据确认&lt;/li&gt;
&lt;li&gt;实施复杂的安全性检查&lt;/li&gt;
&lt;li&gt;做审计,跟踪表上所做的数据操作&lt;/li&gt;
&lt;li&gt;数据备份和同步&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;查询触发器、过程及函数&quot;&gt;查询触发器、过程及函数&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;select * from user_trggers;&lt;/li&gt;
&lt;li&gt;select * from user_source;&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;创建触发器&quot;&gt;创建触发器&lt;/h5&gt;

&lt;p&gt;create [or replace] trigger  触发器名&lt;br&gt;
{before|after}&lt;br&gt;
{delete|insert|update [of 列名]}&lt;br&gt;
on 表名&lt;br&gt;
[for each row[when(条件)]]   //行级触发 :new 触发后该行数据 :old触发前该行数据&lt;br&gt;
plsal语句&lt;/p&gt;

&lt;h6 id=&quot;触发器应用一-实施复杂的安全性验证&quot;&gt;触发器应用一:实施复杂的安全性验证&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;cm&quot;&gt;/*
触发器应用一：实施复杂的安全性检查
禁止在非工作时间插入新员工

周末:to_char(sysdate,'day') in ('星期六','星期日')
上班前 下班后：to_number(to_char(sysdate,'hh24')) not between 9 and 17
*/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;trigger&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;securityemp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'day'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'星期六'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'星期日'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'星期三'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;to_number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'hh24'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;between&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
     &lt;span class=&quot;c1&quot;&gt;--禁止insert&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;raise_application_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'禁止在非工作时间插入新员工'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;     
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;触发器应用二-数据确认&quot;&gt;触发器应用二:数据确认&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;cm&quot;&gt;/*
触发器应用二： 数据的确认
涨后的工资不能少于涨前的工资
*/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;trigger&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checksalary&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;update&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;row&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--if 涨后的薪水  &amp;lt; 涨前的薪水 then&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;old&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;raise_application_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20002&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'涨后的工资不能少于涨前的工资。涨前:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;old&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'  涨后:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;练习一-查询当前员工money1是前一名员工工资&quot;&gt;练习一 查询当前员工money1是前一名员工工资&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;money&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;money&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;money1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;练习二-按课程id查出所有学生姓名&quot;&gt;练习二 按课程id查出所有学生姓名&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ci_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wm_concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stu_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ci_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stu_name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pm_ci&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pm_stu&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;instr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stu_ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stu_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ci_id&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;wm_concat&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;字符串链接&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;instr&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;字符串&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;在字符&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;中的位置&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;存储过程和存储函数&quot;&gt;存储过程和存储函数&lt;/h5&gt;

&lt;p&gt;指存储在数据库中提供所用用户程序调用的子程序叫存储过程、存储函数&lt;/p&gt;

&lt;h5 id=&quot;创建存储过程&quot;&gt;创建存储过程&lt;/h5&gt;

&lt;p&gt;用create procedure命令建立存储过程&lt;br&gt;
语法: create[or replace] procedure 过程名(参数列表) as plsql子程序体&lt;/p&gt;

&lt;h6 id=&quot;第一个存储过程&quot;&gt;第一个存储过程&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--打印Hello World&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*
调用存储过程：
1. exec sayHelloWorld();
2. begin
     sayHelloWorld();
     sayHelloWorld();
   end;
   /

*/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;procedure&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sayHelloWorld&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;--说明部分&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;执行存储过程&quot;&gt;执行存储过程&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--方式一&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sayHelloWorld&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;--方式二&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;declare&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sayHelloWorld&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sayHelloWorld&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;带参数的存储过程&quot;&gt;带参数的存储过程&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--给指定的员工涨100，并且打印涨前和涨后的薪水&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;procedure&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raisesalary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;--定义变量保存涨前的薪水&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;--得到涨前的薪水&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;c1&quot;&gt;--涨100&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;--要不要commit？&lt;/span&gt;

   &lt;span class=&quot;n&quot;&gt;dbms_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;put_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'涨前:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'   涨后:'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;存储函数&quot;&gt;存储函数&lt;/h5&gt;

&lt;p&gt;函数(Function)为一命名的存储程序,可带参数,并返回一计算值,函数和过程的结构类似,单必须有一个return子句,用于返回函数值.函数说明要指定函数名,结果值的类型,以及参数类型等&lt;/p&gt;

&lt;h5 id=&quot;建立存储函数的语法&quot;&gt;建立存储函数的语法&lt;/h5&gt;

&lt;p&gt;create [or replace] function 函数名(参数列表)&lt;br&gt;
return 函数值类型 as plsql子程序体;&lt;/p&gt;

&lt;h6 id=&quot;存储函数&quot;&gt;存储函数&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--查询某个员工的年收入&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queryempincome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;--定义变量保存月薪和奖金&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;pcomm&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pcomm&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;c1&quot;&gt;--返回年收入&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nvl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pcomm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;过程和函数中的in和out&quot;&gt;过程和函数中的in和out&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;一般来讲,函数可以有一个返回值,过程没有&lt;/li&gt;
&lt;li&gt;但过程和函数都可以通过out指定一个或多个输出参数&lt;/li&gt;
&lt;li&gt;原则:如果只有一个返回值使用函数,否则使用过程&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&quot;out参数&quot;&gt;out参数&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;c1&quot;&gt;--查询某个员工的姓名 月薪 职位&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/*
思考：
1. 查询某个员工的所有信息 ---&amp;gt; out参数太多
2. 查询某个部门中的所有员工信息 ---&amp;gt; 返回集合

*/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;procedure&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queryempinfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                            &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                            &lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                            &lt;span class=&quot;n&quot;&gt;pjob&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empjob&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;psal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pjob&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;声明包结构&quot;&gt;声明包结构&lt;/h5&gt;

&lt;p&gt;&lt;b&gt;create [or replace] package&lt;/b&gt; myPackage &lt;b&gt;as&lt;/b&gt;&lt;br&gt;
&lt;b&gt;type&lt;/b&gt; empcurosr &lt;b&gt;is ref cursor&lt;/b&gt;;&lt;br&gt;
&lt;b&gt;procedure&lt;/b&gt; queryEmpList(dno &lt;b&gt;in number&lt;/b&gt;,empList &lt;b&gt;out&lt;/b&gt; empcusor);&lt;br&gt;
&lt;b&gt;end&lt;/b&gt; myPackage;&lt;/p&gt;

&lt;h6 id=&quot;创建包体&quot;&gt;创建包体&lt;/h6&gt;

&lt;p&gt;&lt;b&gt;create [or replace] package body&lt;/b&gt; myPackage &lt;b&gt;as&lt;/b&gt;&lt;br&gt;
&lt;b&gt;procedure &lt;/b&gt; queryEmpList(dno &lt;b&gt;in number&lt;/b&gt;,empList &lt;b&gt;out&lt;/b&gt; empcurosr)&lt;b&gt; as&lt;/b&gt;&lt;br&gt;
&lt;b&gt;begin&lt;/b&gt;&lt;br&gt;
&lt;b&gt;open &lt;/b&gt; emplist &lt;b&gt;for select &lt;/b&gt;* &lt;b&gt;from&lt;/b&gt; emp &lt;b&gt;where&lt;/b&gt; deptno=dno;&lt;br&gt;
&lt;b&gt;end &lt;/b&gt;queryEmpList;&lt;br&gt;
&lt;b&gt;end&lt;/b&gt; myPackage;&lt;/p&gt;

&lt;h6 id=&quot;out参数中使用光标&quot;&gt;out参数中使用光标&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;查询某个部门中的所有员工信息&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;---&amp;gt; 返回集合&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;包头&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;OR&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REPLACE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PACKAGE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MYPAKCAGE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empcursor&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;procedure&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queryEmpList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empList&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empcursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MYPAKCAGE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;err&quot;&gt;包体&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;OR&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REPLACE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PACKAGE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BODY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MYPAKCAGE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;procedure&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queryEmpList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empList&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empcursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;BEGIN&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empList&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queryEmpList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MYPAKCAGE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;jdbc&quot;&gt;JDBC&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;JDBCUtils&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;oracle.jdbc.OracleDriver&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;jdbc:oracle:thin:@192.168.56.101:1521:orcl&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;scott&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tiger&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;forName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ClassNotFoundException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ExceptionInInitializerError&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//DriverManager.registerDriver(driver)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getConnection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DriverManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getConnection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SQLException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;cm&quot;&gt;/*
     * 运行Java程序
     * java -Xms100M -Xmx200M HelloWorld
     *
     * 技术方向:
     * 1. 性能调优  ---&amp;gt; tomcat
     * 2. 故障诊断  ---&amp;gt; 死锁
     */&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Statement&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;st&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ResultSet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SQLException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// ----&amp;gt; java GC&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;st&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;st&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SQLException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;st&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SQLException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TestOracle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*
 * create or replace procedure queryempinfo(eno in number,
                                            pename out varchar2,
                                            psal   out number,
                                            pjob   out varchar2)
 */&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;testProcedure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//{call &amp;lt;procedure-name&amp;gt;[(&amp;lt;arg1&amp;gt;,&amp;lt;arg2&amp;gt;, ...)]}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;{call queryempinfo(?,?,?,?)}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;CallableStatement&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;JDBCUtils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getConnection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;prepareCall&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//对于in参数，赋值&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7839&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//对于out参数，申明&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerOutParameter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OracleTypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;VARCHAR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerOutParameter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OracleTypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;NUMBER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerOutParameter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OracleTypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;VARCHAR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//执行&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//取出结果&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDouble&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;job&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;\t&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;\t&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;JDBCUtils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/*
 * create or replace function queryempincome(eno in number)
return number
 */&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;testFunction&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//{?= call &amp;lt;procedure-name&amp;gt;[(&amp;lt;arg1&amp;gt;,&amp;lt;arg2&amp;gt;, ...)]}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;{?=call queryempincome(?)}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;CallableStatement&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;JDBCUtils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getConnection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;prepareCall&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//第一个是out参数&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerOutParameter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OracleTypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;NUMBER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//第二个是in参数&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7839&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//取出年收入&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;income&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDouble&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;income&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;JDBCUtils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;       
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;


    &lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;testCursor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;{call MYPAKCAGE.queryEmpList(?,?)}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;CallableStatement&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;ResultSet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;JDBCUtils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getConnection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;prepareCall&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//对于in参数，赋值&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//对于out参数  申明&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerOutParameter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OracleTypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;CURSOR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//取出结果&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OracleCallableStatement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCursor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()){&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//取出一个员工&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ename&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDouble&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sal&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;\t&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;JDBCUtils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-25-Oracle02"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-25-Oracle02</id>
   <content type="html">&lt;p&gt;查询10和20号部门的员工&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;集合运算&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
     &lt;span class=&quot;err&quot;&gt;加上&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;union&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rollup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;err&quot;&gt;注意的问题：&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;参与运算的各个集合必须列数相同且类型一致&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;采用第一个集合作为最后的表头&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;永远在最后&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;括号&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;union&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;union&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;break&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;SQL 优化 5. 尽量不要使用集合运算 SQL执行时间&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timing&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rollup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;union&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;union&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;rownum 行号&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;关于行号(rownum只能使用 &amp;lt; &amp;lt;=; 不能使用&amp;gt; &amp;gt;=)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;永远按照默认的顺序生成&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;只能使用&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;不能使用&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第一题&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;分页&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e1&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;临时表&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;err&quot;&gt;临时表&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;temporary&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*****&lt;/span&gt;
       &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;自动创建&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;特点：当事务或者会话结束的时候，表中的数据自动删除&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;temporary&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test2&lt;/span&gt;
         &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
         &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;commit&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第二题&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avgsal&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;avgsal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avgsal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;相关子查询：将主查询中的值 作为参数传递给子查询&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;avgsal&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第三题&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

       &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;是&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;81&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;年&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;1981&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;行转列 wm_concat(varchar2) 组函数&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wm_concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nameslist&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;col&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nameslist&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a60&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wm_concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nameslist&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;查询工资比SCOTT高的员工信息&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SCOTT&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;的工资&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'SCOTT'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;比&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;高的员工&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linesize&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;子查询所要解决的问题： 不能一步求解&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;               &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;               &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'SCOTT'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;注意的问题：&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
1. 括号
2. 合理的书写风格
3. 可以在where  select having from后面 都可以使用子查询
4. 不可以在group by后面使用子查询
5. 强调from后面的子查询
6. 主查询和子查询可以不是同一张表；只要子查询返回的结果 主查询可以使用 即可
7. 一般不在子查询中排序；但在top-n分析问题中，必须对子查询排序
8. 一般先执行子查询，再执行主查询；但相关子查询例外
9. 单行子查询只能使用单行操作符；多行子查询只能使用多行操作符
10.子查询中的null
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在where  select having from后面 都可以使用子查询&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;job&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7839&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;第四列&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;强调from后面的子查询(查询员工信息：员工号  姓名 月薪)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;查询员工信息：员工号  姓名 月薪 年薪&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;annsal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;子查询和单表查询性能&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;思考:
select empno,ename,sal,sal*12 annsal from emp;
select * from (select empno,ename,sal,sal*12 annsal from emp);
性能一样
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;主查询和子查询可以不是同一张表；只要子查询返回的结果 主查询可以使用 即可--查询部门名称是SALES的员工&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'SALES'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'SALES'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;SQL 优化 4. 尽量使用多表查询&lt;/p&gt;

&lt;p&gt;in 在集合中--查询部门名称是SALES和ACCOUNTING的员工&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'SALES'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ACCOUNTING'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;any: 和集合中的任意一个值比较--查询工资比30号部门任意一个员工高的员工信息&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;any&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;all 和集合中的所有值比较--查询工资比30号部门所有员工高的员工信息&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;多行子查询中的null not in (10,20,null)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;err&quot;&gt;查询不是老板的员工&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;err&quot;&gt;未选定行&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;查询是老板的员工&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
   &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;分页--oracle·ÖÒ³(Pageing Query)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e1&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;         &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1980'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;1980&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1981'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;1981&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;         &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1982'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;1982&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;         &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'1987'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;1987&quot;&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;SQL 的类型&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;DML（data manipulation Language 数据操作语言）: insert  update delete select&lt;/li&gt;
&lt;li&gt;DDL(Data Definition Language 数据定义语言): create table,alter table,drop table,truncate table
                                           create/drop view,sequence(序列),index,synonym(同义词)&lt;/li&gt;
&lt;li&gt;DCL(Data Control Language 数据控制语言): grant(授权) revoke（撤销权限）&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;插入 insert&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;地址符 &amp;amp; (PreparedStatement pst = &amp;quot;insert into emp(empno,ename,sal,deptno) values(?,?,?,?)&amp;quot;)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;输入&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;的值&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;1002&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;输入&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;的值&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;'Mary'&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;输入&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;的值&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;输入&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;的值&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;原值&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;新值&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1002&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Mary'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一次性将emp中，所有10号部门的员工插入到emp10中&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp10&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;海量拷贝数据&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;1. 数据泵(datapump) ---&amp;gt; plsql
2. SQL*Loader
3. (数据仓库)外部表
4. 可传输的表空间
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;delete和truncate的区别:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;逐条删除；&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;先摧毁表，再重建&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;根本&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;是&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DML&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;，&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;是&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DDL&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;（可以回滚）&lt;/span&gt;          &lt;span class=&quot;err&quot;&gt;（不可以回滚）&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;不会释放空间&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;会&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;可以闪回&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;不可以&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flashback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;会产生碎片；&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;不会&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;执行时间&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;feedback&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;off&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timing&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testdelete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;err&quot;&gt;已用时间&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;06&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testdelete&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;purge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;testdelete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sql&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;truncate&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testdelete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;已用时间&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;undo&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;数据（还原数据）&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;事务的标致&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;1. 起始标志：事务中第一条DML语句
2. 结束标志：提交： 显式 commit
                    隐式 正常退出（exit），DDL，DCL
             回滚:   显式 rollback
                     隐式 非正常退出，掉电，宕机
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;savepoint&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testsavepoint&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

   &lt;span class=&quot;n&quot;&gt;savepoint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testsavepoint&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Maake'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;rollback&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;savepoint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testsavepoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;事务处理集。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transaction&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;行地址 rowid&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rowid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rowid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'AAAMfPAAEAAAAAgAAK'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;创建表，保存20号部门的员工&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp20&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;创建表，员工号 姓名  月薪 年薪 部门名称&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empinfo&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;annsal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empinfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;修改表：追加新列，修改列，删除列，重命名列，重命名表&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;alter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;photo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blob&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;alter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;modify&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;alter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;column&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;photo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;alter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;column&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;rename&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Oracle的回收站 (注意：管理员没有回收站)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;show&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recyclebin&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;purge&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recyclebin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;回收站已清空&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;查询所有表&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tab&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;回收站查询&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;BIN$+0nemp5PSe2adQphqd6t4A==$0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;闪回删除&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;n&quot;&gt;flashback&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TESTSAVEPOINT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;show&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recyclebin&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TESTSAVEPOINT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;check&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test5&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;gender&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;check&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gender&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'男'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'女'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;check&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'男'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Mike'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'啊'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Mike'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'啊'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;err&quot;&gt;违反检查约束条件&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SCOTT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SYS_C005393&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;约束 constraint&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;sid&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;constraint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student_pk&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;primary&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;sname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;constraint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student_name_notnull&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;gender&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;constraint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student_gender&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;check&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gender&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'男'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'女'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;constraint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student_email_unique&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unique&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;                       &lt;span class=&quot;k&quot;&gt;constraint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student_email_notnull&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;constraint&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student_fk&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;references&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'男'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tom@126.com'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'男'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tom@126.com'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

 &lt;span class=&quot;err&quot;&gt;违反唯一约束条件&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SCOTT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;STUDENT_EMAIL_UNIQUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;视图 (物化视图可以缓存数据提高效率)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empinfoview&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;annsal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empinfoview&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;err&quot;&gt;需要管理员授权&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scott&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;创建或替换视图 create or replace view&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empinfoview&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;annsal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;序列&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sequence&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myseq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testseq&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myseq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;currval&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;序列&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MYSEQ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CURRVAL&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;尚未在此会话中定义&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myseq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nextval&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myseq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;currval&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testseq&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myseq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nextval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'aaa'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;rollback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;会产生裂缝&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testseq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;同义词 （别名）提高安全性 为emp表起别名&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;synonym&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myemp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ORA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;01031&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;权限不足&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;需要管理员授权&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;synonym&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scott&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;synonym&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myemp1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;employees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;需要管理员授权&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;employees&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scott&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;employees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myemp1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-2-Spring03"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-2-Spring03</id>
   <content type="html">&lt;h2 id=&quot;事务管理介绍&quot;&gt;事务管理介绍&lt;/h2&gt;

&lt;h6 id=&quot;导入jar包&quot;&gt;导入jar包&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;transaction  --&amp;gt;  tx&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;三个顶级接口&quot;&gt;三个顶级接口&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;PlatformTransactionManager  平台事务管理器，spring要管理事务，必须使用事务管理器&lt;br&gt;
    进行事务配置时，必须配置事务管理器。&lt;br&gt;
TransactionDefinition：事务详情（事务定义、事务属性），spring用于确定事务具体详情，&lt;br&gt;
    例如：隔离级别、是否只读、超时时间 等&lt;br&gt;
    进行事务配置时，必须配置详情。spring将配置项封装到该对象实例。&lt;br&gt;
TransactionStatus：事务状态，spring用于记录当前事务运行状态。例如：是否有保存点，事务是否完成。&lt;br&gt;
    spring底层根据状态进行相应操作。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;PlatformTransactionManager  事务管理器&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;导入jar包：需要时平台事务管理器的实现类&lt;/p&gt;

&lt;p&gt;常见的事务管理器&lt;br&gt;
    DataSourceTransactionManager  ，jdbc开发时事务管理器，采用JdbcTemplate&lt;br&gt;
    HibernateTransactionManager，hibernate开发时事务管理器，整合hibernate&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h6 id=&quot;api详解&quot;&gt;api详解&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;TransactionStatus getTransaction(TransactionDefinition definition) ，事务管理器 通过“事务详情”，获得“事务状态”，从而管理事务。&lt;br&gt;
void commit(TransactionStatus status)  根据状态提交&lt;br&gt;
void rollback(TransactionStatus status) 根据状态回滚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;transactiondefinition&quot;&gt;TransactionDefinition&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;传播行为：在两个业务之间如何共享事务。&lt;/p&gt;

&lt;p&gt;PROPAGATION_REQUIRED , required , 必须  【默认值】&lt;br&gt;
    支持当前事务，A如果有事务，B将使用该事务。&lt;br&gt;
    如果A没有事务，B将创建一个新的事务。&lt;br&gt;
PROPAGATION_SUPPORTS ，supports ，支持&lt;br&gt;
    支持当前事务，A如果有事务，B将使用该事务。&lt;br&gt;
    如果A没有事务，B将以非事务执行。&lt;br&gt;
PROPAGATION_MANDATORY，mandatory ，强制&lt;br&gt;
    支持当前事务，A如果有事务，B将使用该事务。&lt;br&gt;
    如果A没有事务，B将抛异常。&lt;br&gt;
PROPAGATION_REQUIRES_NEW ， requires_new ，必须新的&lt;br&gt;
    如果A有事务，将A的事务挂起，B创建一个新的事务&lt;br&gt;
    如果A没有事务，B创建一个新的事务&lt;br&gt;
PROPAGATION_NOT_SUPPORTED ，not_supported ,不支持&lt;br&gt;
    如果A有事务，将A的事务挂起，B将以非事务执行&lt;br&gt;
    如果A没有事务，B将以非事务执行&lt;br&gt;
PROPAGATION_NEVER ，never，从不&lt;br&gt;
    如果A有事务，B将抛异常&lt;br&gt;
    如果A没有事务，B将以非事务执行&lt;br&gt;
PROPAGATION_NESTED ，nested ，嵌套&lt;br&gt;
    A和B底层采用保存点机制，形成嵌套事务。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;掌握：PROPAGATION_REQUIRED、PROPAGATION_REQUIRES_NEW、PROPAGATION_NESTED&lt;/p&gt;

&lt;h2 id=&quot;案例：转账&quot;&gt;案例：转账&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public interface AccountService {
    //转账
    public void transfer(String outer, String inner, int money);
}

public interface AccountDao {
    //汇款
    void out(String outer, int money);
    //收款
    void in(String in, int money);
}

//applicationContext.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
       xsi:schemaLocation=&quot;
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd&quot;&amp;gt;
    &amp;lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&amp;gt;
        &amp;lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&amp;gt;
        &amp;lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/ee19_spring_day03?characterEncoding=utf-8&quot;/&amp;gt;
        &amp;lt;property name=&quot;user&quot; value=&quot;root&quot;/&amp;gt;
        &amp;lt;property name=&quot;password&quot; value=&quot;root&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;accountDao&quot; class=&quot;com.itheima.dao.impl.AccountDaoImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;accountService&quot; class=&quot;com.itheima.service.impl.AccountServiceImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;dao&quot; ref=&quot;accountDao&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;

public class TestApp {
    @Test
    public void demo01(){
        String path=&quot;applicationContext.xml&quot;;
        ApplicationContext appcontext = new ClassPathXmlApplicationContext(path);
        AccountService service= (AccountService) appcontext.getBean(&quot;accountService&quot;);
        service.transfer(&quot;jack&quot;,&quot;rose&quot;,1000);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;手动管理事&quot;&gt;手动管理事&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;spring底层使用 TransactionTemplate 事务模板进行操作。&lt;br&gt;
操作&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;1.service 需要获得 TransactionTemplate
2.spring 配置模板，并注入给service
3.模板需要注入事务管理器
4.配置事务管理器：DataSourceTransactionManager ，需要注入DataSource
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class AccountDaoImpl extends JdbcDaoSupport implements AccountDao {
    @Override
    public void out(String outer, int money) {
        this.getJdbcTemplate().update(&quot;update account set money = money - ? where username = ?&quot;,money,outer);
    }

    @Override
    public void in(String in, int money) {
        this.getJdbcTemplate().update(&quot;update account set money = money + ? where username = ?&quot;,money,in);
    }
}




//applicationContext.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
       xsi:schemaLocation=&quot;
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd&quot;&amp;gt;
    &amp;lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&amp;gt;
        &amp;lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&amp;gt;
        &amp;lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/ee19_spring_day03?characterEncoding=utf-8&quot;/&amp;gt;
        &amp;lt;property name=&quot;user&quot; value=&quot;root&quot;/&amp;gt;
        &amp;lt;property name=&quot;password&quot; value=&quot;root&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;accountDao&quot; class=&quot;com.itheima.dao.impl.AccountDaoImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;accountService&quot; class=&quot;com.itheima.service.impl.AccountServiceImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;dao&quot; ref=&quot;accountDao&quot;/&amp;gt;
        &amp;lt;property name=&quot;transactionTemplate&quot; ref=&quot;transactionTemplate&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--创建模板--&amp;gt;
    &amp;lt;bean id=&quot;transactionTemplate&quot; class=&quot;org.springframework.transaction.support.TransactionTemplate&quot;&amp;gt;
        &amp;lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--配置事务管理器 事务从Connection获得，连接从连接池获取--&amp;gt;
    &amp;lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;工厂bean-生成代理：半自动&quot;&gt;工厂bean 生成代理：半自动&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;spring提供 管理事务的代理工厂bean TransactionProxyFactoryBean&lt;br&gt;
getBean() 获得代理对象&lt;br&gt;
spring 配置一个代理&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class AccountDaoImpl extends JdbcDaoSupport implements AccountDao {
    @Override
    public void out(String outer, int money) {
        this.getJdbcTemplate().update(&quot;update account set money = money - ? where username = ?&quot;,money,outer);
    }
    @Override
    public void in(String in, int money) {
        this.getJdbcTemplate().update(&quot;update account set money = money + ? where username = ?&quot;,money,in);
    }
}


public class AccountServiceImpl implements AccountService {
    private AccountDao dao;

    public void setDao(AccountDao dao) {
        this.dao = dao;
    }

    @Override
    public void transfer(String outer, String inner, int money) {
        dao.out(outer,money);
        int i=10/0;
        dao.in(inner,money);
    }
}


public class TestApp {
    @Test
    public void demo01(){
        String path=&quot;applicationContext.xml&quot;;
        ApplicationContext appcontext = new ClassPathXmlApplicationContext(path);
        AccountService service= (AccountService) appcontext.getBean(&quot;proxyAccountService&quot;);
        service.transfer(&quot;jack&quot;,&quot;ross&quot;,1000);
    }
}


//beans.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
       xsi:schemaLocation=&quot;
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd&quot;&amp;gt;
    &amp;lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&amp;gt;
        &amp;lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&amp;gt;
        &amp;lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/ee19_spring_day03?characterEncoding=utf-8&quot;/&amp;gt;
        &amp;lt;property name=&quot;user&quot; value=&quot;root&quot;/&amp;gt;
        &amp;lt;property name=&quot;password&quot; value=&quot;root&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;accountDao&quot; class=&quot;com.itheima.dao.impl.AccountDaoImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;accountService&quot; class=&quot;com.itheima.service.impl.AccountServiceImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;dao&quot; ref=&quot;accountDao&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!--service代理对象
    target:目标类
    proxyInterfaces:接口
    transactionAttributes:事务属性(事务详情)
    prop key:那些方法使用当前事务
    prop text:用于事务详情
    格式:PROPAGATION,ISOLATION,readOnly,-Exception,+Exception
         传播行为       事务级别   是否只读   异常回滚   异常提交
    --&amp;gt;
    &amp;lt;bean id=&quot;proxyAccountService&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&amp;gt;
        &amp;lt;property name=&quot;target&quot; ref=&quot;accountService&quot;/&amp;gt;
        &amp;lt;property name=&quot;proxyInterfaces&quot; value=&quot;com.itheima.service.AccountService&quot;/&amp;gt;
        &amp;lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;/&amp;gt;
        &amp;lt;property name=&quot;transactionAttributes&quot;&amp;gt;
            &amp;lt;props&amp;gt;
                &amp;lt;prop key=&quot;transfer&quot;&amp;gt;PROPAGATION_REQUIRED,ISOLATION_DEFAULT,+ java.lang.ArithmeticException&amp;lt;/prop&amp;gt;
            &amp;lt;/props&amp;gt;
        &amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;aop配置事务&quot;&gt;AOP配置事务&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;beans&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;
       &lt;span class=&quot;na&quot;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
       &lt;span class=&quot;na&quot;&gt;xmlns:context=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.springframework.org/schema/context&quot;&lt;/span&gt;
       &lt;span class=&quot;na&quot;&gt;xmlns:tx=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.springframework.org/schema/tx&quot;&lt;/span&gt;
       &lt;span class=&quot;na&quot;&gt;xmlns:aop=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.springframework.org/schema/aop&quot;&lt;/span&gt;
       &lt;span class=&quot;na&quot;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/beans&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/context&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/context/spring-context.xsd&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/aop&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/aop/spring-aop.xsd&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/tx&lt;/span&gt;
       &lt;span class=&quot;err&quot;&gt;http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;dataSource&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;driverClass&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;com.mysql.jdbc.Driver&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdbcUrl&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdbc:mysql://localhost:3306/ee19_spring_day03?characterEncoding=utf-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;password&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;accountDao&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;com.itheima.dao.impl.AccountDaoImpl&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;dataSource&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;dataSource&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;accountService&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;com.itheima.service.impl.AccountServiceImpl&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;dao&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;accountDao&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;txManager&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;dataSource&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;dataSource&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;&amp;lt;!--事务通知 在aop筛选基础上，对ABC三个确定使用什么样的事务，列如:AC读写，B只读
       &amp;lt;tx:attributes&amp;gt; 用于配置事务详情(属性)
       &amp;lt;tx:method name=&quot;&quot;/&amp;gt; 详情具体配置
       propagation:传播行为
       isolation:隔离级别
   --&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;tx:advice&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;txAdvice&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;transaction-manager=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;txManager&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;tx:attributes&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;tx:method&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;transfer&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;propagation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;REQUIRED&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;isolation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DEFAULT&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/tx:attributes&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/tx:advice&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;aop:config&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;aop:advisor&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;advice-ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;txAdvice&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;pointcut=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;execution(* com.itheima.service..*.*(..))&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/aop:config&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;aop配置基于注解【掌握】&quot;&gt;AOP配置基于注解【掌握】&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;1.配置事务管理器，将并事务管理器交予spring&lt;br&gt;
2.在目标类或目标方法添加注解即可 @Transactional&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&amp;lt;!-- 4 事务管理 --&amp;gt;
    &amp;lt;!-- 4.1 事务管理器 --&amp;gt;
    &amp;lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!-- 4.2 将管理器交予spring
        * transaction-manager 配置事务管理器
        * proxy-target-class
            true ： 底层强制使用cglib 代理
    --&amp;gt;
    &amp;lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&amp;gt;

2.3.5.2 service 层
@Transactional
public class AccountServiceImpl implements AccountService {

2.3.5.3 事务详情配置


@Transactional(propagation=Propagation.REQUIRED , isolation = Isolation.DEFAULT)
public class AccountServiceImpl implements AccountService {

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;整合junit&quot;&gt;整合Junit&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;导入jar包&lt;br&gt;
    基本 ：4+1&lt;br&gt;
    测试：spring-test...jar&lt;/p&gt;

&lt;p&gt;1.让Junit通知spring加载配置文件&lt;br&gt;
2.让spring容器自动进行注入&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = &quot;classpath:applicationContext.xml&quot;)
public class TestApp {
    @Autowired
    private AccountService accountService;//与junit整合，不需要spring xml扫描配置
    @Test
    public void demo01(){
        accountService.transfer(&quot;jack&quot;,&quot;ross&quot;,1000);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;整合web&quot;&gt;整合web&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
0.导入jar包
    spring-web.jar

1.tomcat启动加载配置文件
    servlet --&amp;gt; init(ServletConfig) --&amp;gt; &amp;lt;load-on-startup&amp;gt;2
    filter --&amp;gt; init(FilterConfig)  --&amp;gt; web.xml注册过滤器自动调用初始化
    listener --&amp;gt; ServletContextListener --&amp;gt; servletContext对象监听【】
    spring提供监听器 ContextLoaderListener  --&amp;gt; web.xml  &amp;lt;listener&amp;gt;&amp;lt;listener-class&amp;gt;....
        如果只配置监听器，默认加载xml位置：/WEB-INF/applicationContext.xml

2.确定配置文件位置，通过系统初始化参数
    ServletContext 初始化参数 web.xml  
        &amp;lt;context-param&amp;gt;
            &amp;lt;param-name&amp;gt;contextConfigLocation
            &amp;lt;param-value&amp;gt;classpath:applicationContext.xml

  &amp;lt;!-- 确定配置文件位置 --&amp;gt;
  &amp;lt;context-param&amp;gt;
    &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
    &amp;lt;param-value&amp;gt;classpath:applicationContext.xml&amp;lt;/param-value&amp;gt;
  &amp;lt;/context-param&amp;gt;

  &amp;lt;!-- 配置spring 监听器，加载xml配置文件 --&amp;gt;
  &amp;lt;listener&amp;gt;
    &amp;lt;listener-class&amp;gt;org.springframework.web.context.ContextLoaderListener&amp;lt;/listener-class&amp;gt;
  &amp;lt;/listener&amp;gt;

3.从servletContext作用域 获得spring容器 （了解）
    // 从application作用域（ServletContext）获得spring容器
        //方式1： 手动从作用域获取
        ApplicationContext applicationContext =
                (ApplicationContext) this.getServletContext().getAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE);
        //方式2：通过工具获取
        ApplicationContext apppApplicationContext2 =
                WebApplicationContextUtils.getWebApplicationContext(this.getServletContext());      

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;ssh整合&quot;&gt;SSH整合&lt;/h2&gt;

&lt;h6 id=&quot;jar整合&quot;&gt;jar整合&lt;/h6&gt;

&lt;p&gt;struts：2.3.15.3&lt;br&gt;
hibernate : 3.6.10&lt;br&gt;
spring: 3.2.0&lt;/p&gt;

&lt;h6 id=&quot;struts&quot;&gt;struts&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;struts-2.3.15.3\apps\struts2-blank\WEB-INF\lib
模板技术  ，一般用于页面静态化
freemarker：扩展名：*.ftl
velocity ：扩展名  *.vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;spring&quot;&gt;spring&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;基础：4+1 ， beans、core、context、expression ， commons-logging (struts已经导入)
AOP：aop联盟、spring aop 、aspect规范、spring aspect
db：jdbc、tx
测试：test
web开发：spring web

驱动：mysql
连接池：c3p0

整合hibernate：spring orm

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;hibernate&quot;&gt;hibernate&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;hibernate3.jar          核心
 \lib\required          必须

\lib\jpa                jpa规范 （java persistent api 持久api），hibernate注解开发 @Entity @Id 等

整合log4j
    导入 log4j...jar (struts已经导入)
    整合（过渡）：slf4j-log4j12-1.7.5.jar

二级缓存
    核心：ehcache-1.5.0.jar
    依赖：
        backport-util-concurrent-2.1.jar
        commons-logging  (存在)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;整合包&quot;&gt;整合包&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;spring整合hibernate： spring orm
struts 整合spring：struts2-spring-plugin-2.3.15.3.jar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;删除重复jar包&lt;/p&gt;

&lt;p&gt;5.2 spring整合hibernate：有hibernate.cfg.xml&lt;br&gt;
5.2.1   创建表&lt;br&gt;
create table t_user(&lt;br&gt;
  id int primary key auto_increment,&lt;br&gt;
  username varchar(50),&lt;br&gt;
  password varchar(32),&lt;br&gt;
  age int&lt;br&gt;
);&lt;/p&gt;

&lt;h2 id=&quot;po-类&quot;&gt;PO 类&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
//javabean
public class User {
    private Integer id;
    private String username;
    private String password;
    private Integer age;
//映射文件
&amp;lt;!DOCTYPE hibernate-mapping PUBLIC
    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;
    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&amp;gt;
&amp;lt;hibernate-mapping&amp;gt;
    &amp;lt;class name=&quot;com.itheima.domain.User&quot; table=&quot;t_user&quot;&amp;gt;
        &amp;lt;id name=&quot;id&quot;&amp;gt;
            &amp;lt;generator class=&quot;native&quot;&amp;gt;&amp;lt;/generator&amp;gt;
        &amp;lt;/id&amp;gt;
        &amp;lt;property name=&quot;username&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;password&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;age&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/class&amp;gt;

&amp;lt;/hibernate-mapping&amp;gt;

//dao层
//spring提供 HibernateTemplate 用于操作PO对象，类似Hibernate Session对象。

public class UserDaoImpl implements UserDao {

    //需要spring注入模板
    private HibernateTemplate hibernateTemplate;
    public void setHibernateTemplate(HibernateTemplate hibernateTemplate) {
        this.hibernateTemplate = hibernateTemplate;
    }

    @Override
    public void save(User user) {
        this.hibernateTemplate.save(user);
    }

}

//service层

public class UserServiceImpl implements UserService {

    private UserDao userDao;
    public void setUserDao(UserDao userDao) {
        this.userDao = userDao;
    }
    @Override
    public void register(User user) {
        userDao.save(user);
    }

}



// hibernate.cfg.xml
&amp;lt;session-factory&amp;gt;
        &amp;lt;!-- 1基本4项 --&amp;gt;
        &amp;lt;property name=&quot;hibernate.connection.driver_class&quot;&amp;gt;com.mysql.jdbc.Driver&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;hibernate.connection.url&quot;&amp;gt;jdbc:mysql:///ee19_spring_day03&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;hibernate.connection.username&quot;&amp;gt;root&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;hibernate.connection.password&quot;&amp;gt;1234&amp;lt;/property&amp;gt;

        &amp;lt;!-- 2 配置方言 --&amp;gt;
        &amp;lt;property name=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.MySQL5Dialect&amp;lt;/property&amp;gt;

        &amp;lt;!-- 3 sql语句 --&amp;gt;
        &amp;lt;property name=&quot;hibernate.show_sql&quot;&amp;gt;true&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;hibernate.format_sql&quot;&amp;gt;true&amp;lt;/property&amp;gt;

        &amp;lt;!-- 4 自动生成表(一般没用) --&amp;gt;
        &amp;lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&amp;gt;update&amp;lt;/property&amp;gt;

        &amp;lt;!-- 5本地线程绑定 --&amp;gt;
        &amp;lt;property name=&quot;hibernate.current_session_context_class&quot;&amp;gt;thread&amp;lt;/property&amp;gt;

        &amp;lt;!-- 导入映射文件 --&amp;gt;
        &amp;lt;mapping resource=&quot;com/itheima/domain/User.hbm.xml&quot;/&amp;gt;

    &amp;lt;/session-factory&amp;gt;

//applicationContext.xml
//  添加命名空间
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/tx
                           http://www.springframework.org/schema/tx/spring-tx.xsd
                           http://www.springframework.org/schema/aop
                           http://www.springframework.org/schema/aop/spring-aop.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd&quot;&amp;gt;

//加载hibernate配置文件
&amp;lt;!-- 1 加载hibenrate.cfg.xml 获得SessionFactory
        * configLocation确定配置文件位置
    --&amp;gt;
    &amp;lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&amp;gt;
        &amp;lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!-- 2创建模板
        * 底层使用session，session 有sessionFactory获得
    --&amp;gt;
    &amp;lt;bean id=&quot;hibernateTemplate&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTemplate&quot;&amp;gt;
        &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

//dao和service
&amp;lt;!-- 3 dao --&amp;gt;
    &amp;lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;hibernateTemplate&quot; ref=&quot;hibernateTemplate&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!-- 4 service --&amp;gt;
    &amp;lt;bean id=&quot;userService&quot; class=&quot;com.itheima.service.impl.UserServiceImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

&amp;lt;!-- 5 事务管理 --&amp;gt;
    &amp;lt;!-- 5.1 事务管理器 ：HibernateTransactionManager --&amp;gt;
    &amp;lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot; &amp;gt;
        &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!-- 5.2 事务详情 ，给ABC进行具体事务设置 --&amp;gt;
    &amp;lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;txManager&quot;&amp;gt;
        &amp;lt;tx:attributes&amp;gt;
            &amp;lt;tx:method name=&quot;register&quot;/&amp;gt;
        &amp;lt;/tx:attributes&amp;gt;
    &amp;lt;/tx:advice&amp;gt;
    &amp;lt;!-- 5.3 AOP编程，ABCD 筛选 ＡＢＣ  --&amp;gt;
    &amp;lt;aop:config&amp;gt;
        &amp;lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut=&quot;execution(* com.itheima.service..*.*(..))&quot;/&amp;gt;
    &amp;lt;/aop:config&amp;gt;

// 测试
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations=&quot;classpath:applicationContext.xml&quot;)
public class TestApp {

    @Autowired
    private UserService userService;

    @Test
    public void demo01(){
        User user = new User();
        user.setUsername(&quot;jack&quot;);
        user.setPassword(&quot;1234&quot;);
        user.setAge(18);

        userService.register(user);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;spring整合hibernate：没有hibernate-cfg-xml-【】&quot;&gt;spring整合hibernate：没有hibernate.cfg.xml 【】&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;删除hibernate.cfg.xml文件，但需要保存文件内容，将其配置spring中&lt;br&gt;
修改dao层，继承HibernateDaoSupport&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;// 修改spring，配置SessionFactory
&amp;lt;!-- 1.1加载properties文件 --&amp;gt;
    &amp;lt;!-- 1.2 配置数据源 --&amp;gt;
    &amp;lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&amp;gt;
        &amp;lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql:///ee19_spring_day03&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;user&quot; value=&quot;root&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;password&quot; value=&quot;1234&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!-- 1.3配置 LocalSessionFactoryBean，获得SessionFactory
        * configLocation确定配置文件位置
            &amp;lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot;&amp;gt;&amp;lt;/property&amp;gt;
        1)dataSource 数据源
        2)hibernateProperties hibernate其他配置项
        3) 导入映射文件
            mappingLocations ，确定映射文件位置，需要“classpath:” ,支持通配符 【】
                &amp;lt;property name=&quot;mappingLocations&quot; value=&quot;classpath:com/itheima/domain/User.hbm.xml&quot;&amp;gt;&amp;lt;/property&amp;gt;
                &amp;lt;property name=&quot;mappingLocations&quot; value=&quot;classpath:com/itheima/domain/*.hbm.xml&quot;&amp;gt;&amp;lt;/property&amp;gt;
            mappingResources ，加载执行映射文件，从src下开始 。不支持通配符*
                &amp;lt;property name=&quot;mappingResources&quot; value=&quot;com/itheima/domain/User.hbm.xml&quot;&amp;gt;&amp;lt;/property&amp;gt;
            mappingDirectoryLocations ，加载指定目录下的，所有配置文件
                &amp;lt;property name=&quot;mappingDirectoryLocations&quot; value=&quot;classpath:com/itheima/domain/&quot;&amp;gt;&amp;lt;/property&amp;gt;
            mappingJarLocations ， 从jar包中获得映射文件
    --&amp;gt;
    &amp;lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;hibernateProperties&quot;&amp;gt;
            &amp;lt;props&amp;gt;
                &amp;lt;prop key=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.MySQL5Dialect&amp;lt;/prop&amp;gt;
                &amp;lt;prop key=&quot;hibernate.show_sql&quot;&amp;gt;true&amp;lt;/prop&amp;gt;
                &amp;lt;prop key=&quot;hibernate.format_sql&quot;&amp;gt;true&amp;lt;/prop&amp;gt;
                &amp;lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&amp;gt;update&amp;lt;/prop&amp;gt;
                &amp;lt;prop key=&quot;hibernate.current_session_context_class&quot;&amp;gt;thread&amp;lt;/prop&amp;gt;
            &amp;lt;/props&amp;gt;
        &amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;mappingLocations&quot; value=&quot;classpath:com/itheima/domain/*.hbm.xml&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;


// 修改dao，使用HibernateDaoSupport
// 继承HibernateDaoSupport
// 底层需要SessionFactory，自动创建HibernateTemplate模板
public class UserDaoImpl extends HibernateDaoSupport implements UserDao {

    @Override
    public void save(User user) {
        this.getHibernateTemplate().save(user);
    }

}
// spring 删除模板，给dao注入SessionFactory
    &amp;lt;!-- 3 dao --&amp;gt;
    &amp;lt;bean id=&quot;userDao&quot; class=&quot;com.itheima.dao.impl.UserDaoImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;struts整合spring：spring创建action&quot;&gt;struts整合spring：spring创建action&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;1.编写action类，并将其配置给spring ，spring可以注入service
2.编写struts.xml
3.表单jsp页面
4.web.xml 配置
    1.确定配置文件contextConfigLocation
    2.配置监听器 ContextLoaderListener
    3.配置前端控制器 StrutsPrepareAndExecuteFitler

// action类
// 通用
public class UserAction extends ActionSupport implements ModelDriven&amp;lt;User&amp;gt; {

    //1 封装数据
    private User user = new User();

    @Override
    public User getModel() {
        return user;
    }

    //2 service
    private UserService userService;
    public void setUserService(UserService userService) {
        this.userService = userService;
    }

// 功能
/**
     * 注册
     * @return
     */
    public String register(){
        userService.register(user);
        return &quot;success&quot;;
    }

// spring配置
&amp;lt;!-- 6 配置action --&amp;gt;
    &amp;lt;bean id=&quot;userAction&quot; class=&quot;com.itheima.web.action.UserAction&quot; scope=&quot;prototype&quot;&amp;gt;
        &amp;lt;property name=&quot;userService&quot; ref=&quot;userService&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

//  struts配置
&amp;lt;struts&amp;gt;
    &amp;lt;!-- 开发模式 --&amp;gt;
    &amp;lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&amp;gt;

    &amp;lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&amp;gt;
        &amp;lt;!-- 底层自动从spring容器中通过名称获得内容， getBean(&quot;userAction&quot;) --&amp;gt;
        &amp;lt;action name=&quot;userAction_*&quot; class=&quot;userAction&quot; method=&quot;{1}&quot;&amp;gt;
            &amp;lt;result name=&quot;success&quot;&amp;gt;/messag.jsp&amp;lt;/result&amp;gt;
        &amp;lt;/action&amp;gt;
    &amp;lt;/package&amp;gt;
&amp;lt;/struts&amp;gt;

//  jsp表单
&amp;lt;form action=&quot;${pageContext.request.contextPath}/userAction_register&quot; method=&quot;post&quot;&amp;gt;
        用户名：&amp;lt;input type=&quot;text&quot; name=&quot;username&quot;/&amp;gt; &amp;lt;br/&amp;gt;
        密码：&amp;lt;input type=&quot;password&quot; name=&quot;password&quot;/&amp;gt; &amp;lt;br/&amp;gt;
        年龄：&amp;lt;input type=&quot;text&quot; name=&quot;age&quot;/&amp;gt; &amp;lt;br/&amp;gt;
        &amp;lt;input type=&quot;submit&quot; /&amp;gt;
    &amp;lt;/form&amp;gt;

// 配置web.xml
&amp;lt;!-- 1 确定spring xml位置 --&amp;gt;
  &amp;lt;context-param&amp;gt;
    &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
    &amp;lt;param-value&amp;gt;classpath:applicationContext.xml&amp;lt;/param-value&amp;gt;
  &amp;lt;/context-param&amp;gt;
  &amp;lt;!-- 2 spring监听器 --&amp;gt;
  &amp;lt;listener&amp;gt;
    &amp;lt;listener-class&amp;gt;org.springframework.web.context.ContextLoaderListener&amp;lt;/listener-class&amp;gt;
  &amp;lt;/listener&amp;gt;
  &amp;lt;!-- 3 struts 前端控制器 --&amp;gt;
  &amp;lt;filter&amp;gt;
    &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;
    &amp;lt;filter-class&amp;gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&amp;lt;/filter-class&amp;gt;
  &amp;lt;/filter&amp;gt;
  &amp;lt;filter-mapping&amp;gt;
    &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;
    &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
  &amp;lt;/filter-mapping&amp;gt;

//  struts整合spring：struts创建action
//  删除spring action配置
//  struts &amp;lt;action class=&quot;全限定类名&quot;&amp;gt;

&amp;lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&amp;gt;
        &amp;lt;!-- 底层自动从spring容器中通过名称获得内容， getBean(&quot;userAction&quot;) --&amp;gt;
        &amp;lt;action name=&quot;userAction_*&quot; class=&quot;com.itheima.web.action.UserAction&quot; method=&quot;{1}&quot;&amp;gt;
            &amp;lt;result name=&quot;success&quot;&amp;gt;/messag.jsp&amp;lt;/result&amp;gt;
        &amp;lt;/action&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;struts整合spring：struts创建action&quot;&gt;struts整合spring：struts创建action&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    删除spring action配置
    struts &amp;lt;action class=&quot;全限定类名&quot;&amp;gt;

&amp;lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&amp;gt;
        &amp;lt;!-- 底层自动从spring容器中通过名称获得内容， getBean(&quot;userAction&quot;) --&amp;gt;
        &amp;lt;action name=&quot;userAction_*&quot; class=&quot;com.itheima.web.action.UserAction&quot; method=&quot;{1}&quot;&amp;gt;
            &amp;lt;result name=&quot;success&quot;&amp;gt;/messag.jsp&amp;lt;/result&amp;gt;
        &amp;lt;/action&amp;gt;
    &amp;lt;/package&amp;gt;

    要求：Action类中，必须提供service名称与 spring配置文件一致。（如果名称一样，将自动注入）


分析：
1. struts 配置文件
    default.properties  ,常量配置文件
    struts-default.xml ，默认核心配置文件
    struts-plugins.xml ，插件配置文件
    struts.xml，自定义核心配置文件
    常量的使用，后面配置项，将覆盖前面的。
2.default.properties  ，此配置文件中确定 按照【名称】自动注入
    /org/apache/struts2/default.properties

3. struts-plugins.xml ,struts整合spring

        &amp;lt;constant name=&quot;struts.objectFactory&quot; value=&quot;spring&quot; /&amp;gt;
    struts的action将有spring创建

总结，之后action有spring创建，并按照名称自动注入

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-19-Oracle01"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-19-Oracle01</id>
   <content type="html">&lt;h6 id=&quot;查询10号部门的员工&quot;&gt;查询10号部门的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-SQL&quot; data-lang=&quot;SQL&quot;&gt;select * from emp where deptno=10;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;字符大小写敏感&quot;&gt;字符大小写敏感&lt;/h6&gt;

&lt;h6 id=&quot;查询名叫king的员工&quot;&gt;查询名叫KING的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-SQL&quot; data-lang=&quot;SQL&quot;&gt;select * from emp where ename='KING';
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-SQL&quot; data-lang=&quot;SQL&quot;&gt; select * from emp where ename='King'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;日期格式敏感&quot;&gt;日期格式敏感&lt;/h6&gt;

&lt;h6 id=&quot;查询入职日期是17-11月-81的员工&quot;&gt;查询入职日期是17-11月-81的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-SQL&quot; data-lang=&quot;SQL&quot;&gt;select * from emp  where hiredate='17-11月-81';
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-SQL&quot; data-lang=&quot;SQL&quot;&gt;select * from emp where hiredate='1981-11-17'
/
where hiredate='1981-11-17'
               *
第 3 行出现错误:
ORA-01861: 文字与格式字符串不匹配

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;修改日期格式&quot;&gt;修改日期格式&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-SQL&quot; data-lang=&quot;SQL&quot;&gt;select * from v$nls_parameters;
alter session set NLS_DATE_FORMAT='yyyy-mm-dd';
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;清屏&quot;&gt;清屏&lt;/h2&gt;

&lt;p&gt;host cls&lt;/p&gt;

&lt;h6 id=&quot;between-and&quot;&gt;between  and&lt;/h6&gt;

&lt;h6 id=&quot;查询薪水1000-2000之间的员工&quot;&gt;查询薪水1000~2000之间的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;between&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;between-and-1-含有边界-2-小值在前-大值在后&quot;&gt;between  and: 1. 含有边界  2. 小值在前 大值在后&lt;/h6&gt;

&lt;h6 id=&quot;in-在集合中&quot;&gt;in 在集合中&lt;/h6&gt;

&lt;h6 id=&quot;查询10和20号部门的员工&quot;&gt;查询10和20号部门的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询不是10和20号部门的员工&quot;&gt;查询不是10和20号部门的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
   &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;null-值-3-如果集合中含有null，不能使用not-in-但可以使用in&quot;&gt;null 值 3. 如果集合中含有null，不能使用not in; 但可以使用in&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
 &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;  &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;like-模糊查询&quot;&gt;like 模糊查询&lt;/h6&gt;

&lt;h6 id=&quot;查询名字以s打头的员工&quot;&gt;查询名字以S打头的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'S%'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询名字是4个字的员工&quot;&gt;查询名字是4个字的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'____'&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom_AB'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询名字中含有下划线的员工&quot;&gt;查询名字中含有下划线的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;查询的是所有&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'%_%'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;转意字符&quot;&gt;转意字符&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'%&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;%'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;escape&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;回滚&quot;&gt;回滚&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;rollback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;oracle是自动开启事务&quot;&gt;Oracle是自动开启事务&lt;/h6&gt;

&lt;h6 id=&quot;sql-优化-2-where解析顺序：-右-》-左&quot;&gt;SQL 优化 2. where解析顺序： 右--》 左&lt;/h6&gt;

&lt;h6 id=&quot;排序&quot;&gt;排序&lt;/h6&gt;

&lt;h6 id=&quot;查询员工信息-按照月薪排序&quot;&gt;查询员工信息 按照月薪排序&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;order-by后面-列，表达式，别名，序号&quot;&gt;order by后面  + 列，表达式，别名，序号&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;年薪&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;年薪&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;年薪&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rder&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;年薪&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rom&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;出现错误&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ORA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;01785&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;项必须是&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;表达式的数目&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;多个列排序&quot;&gt;多个列排序&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;order-by-作用于后面所有的列；desc只作用于离他最近的列&quot;&gt;order by 作用于后面所有的列；desc只作用于离他最近的列&lt;/h6&gt;

&lt;h6 id=&quot;查询员工信息-按照奖金排序&quot;&gt;查询员工信息  按照奖金排序&lt;/h6&gt;

&lt;h6 id=&quot;null值-4-null的排序&quot;&gt;null值  4. null的排序&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;select * from emp order by comm;
set pagesize 20
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;null值最大&quot;&gt;null值最大&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;nulls&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;last&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;清屏&quot;&gt;清屏&lt;/h6&gt;

&lt;p&gt;host cls&lt;/p&gt;

&lt;h6 id=&quot;当前用户&quot;&gt;当前用户&lt;/h6&gt;

&lt;p&gt;show user&lt;br&gt;
USER 为 &amp;quot;SCOTT&amp;quot;&lt;/p&gt;

&lt;h6 id=&quot;当前用户下的表&quot;&gt;当前用户下的表&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tab&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;员工表的结构&quot;&gt;员工表的结构&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;desc&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询所有的员工信息&quot;&gt;查询所有的员工信息&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;设置行宽&quot;&gt;设置行宽&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;show&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linesize&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;linesize&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linesize&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;设置列宽&quot;&gt;设置列宽&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;n&quot;&gt;col&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a8&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;col&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9999&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;/*&lt;br&gt;
SQL优化（数据库的优化）&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;尽量使用列名
*/
###### 查询员工信息： 员工号  姓名 月薪&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ORA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;00923&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;未找到要求的&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;关键字&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;c命令-change&quot;&gt;c命令  change&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;form&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询员工信息：-员工号-姓名-月薪-年薪&quot;&gt;查询员工信息： 员工号  姓名 月薪 年薪&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询员工信息：-员工号-姓名-月薪-年薪-奖金-年收入&quot;&gt;查询员工信息： 员工号  姓名 月薪 年薪 奖金 年收入&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;/*&lt;br&gt;
SQL中的null值:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;包含null的表达式都为null&lt;/li&gt;
&lt;li&gt;null永远!=null
*/&lt;/li&gt;
&lt;/ol&gt;

&lt;h6 id=&quot;2-null永远-null&quot;&gt;2. null永远!=null&lt;/h6&gt;

&lt;h6 id=&quot;查询奖金为null的员工&quot;&gt;查询奖金为null的员工&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;未选定行&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;正确&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;列的别名&quot;&gt;列的别名&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nvl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;员工号&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;姓名&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;月&lt;/span&gt;    &lt;span class=&quot;err&quot;&gt;薪&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nvl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;正确&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;员工号&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;姓名&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;月    薪&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nvl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;distinct去掉重复记录&quot;&gt;distinct去掉重复记录&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;job&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;job&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;job&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;distinct作用于后面所有的列&quot;&gt;distinct作用于后面所有的列&lt;/h6&gt;

&lt;h6 id=&quot;连接符&quot;&gt;连接符&lt;/h6&gt;

&lt;h6 id=&quot;concat&quot;&gt;concat&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;未找到要求的&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;关键字&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'  World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'  World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;正确&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'  World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;正确&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'  World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;dual-表：伪表&quot;&gt;dual 表：伪表&lt;/h6&gt;

&lt;p&gt;(伪列)&lt;br&gt;
/&lt;br&gt;
(伪列)&lt;br&gt;
 *&lt;br&gt;
第 1 行出现错误:&lt;br&gt;
ORA-00928: 缺失 SELECT 关键字&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Hello'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'  World'&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;字符串&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询员工信息：-的薪水是&quot;&gt;查询员工信息： &lt;strong&gt;&lt;em&gt;的薪水是&lt;/em&gt;&lt;/strong&gt;*&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'的薪水是'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;信息&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;字符串&quot;&gt;字符串&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;字符函数&quot;&gt;字符函数&lt;/h6&gt;

&lt;p&gt;```sql  select lower(&amp;#39;Hello World&amp;#39;) 转小写,upper(&amp;#39;Hello World&amp;#39;) 转大写,initcap(&amp;#39;hello world&amp;#39;) 首字母大写&lt;br&gt;
from dual;&lt;/p&gt;

&lt;h6 id=&quot;substr-a-b-从a中，第b位开始取&quot;&gt;substr(a,b) 从a中，第b位开始取&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;子串&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;substr-a-b-c-从a中，第b位开始取-取c位&quot;&gt;substr(a,b,c) 从a中，第b位开始取,取c位&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;子串&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;instr-a-b&quot;&gt;instr(a,b)&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;instr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ll'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;位置&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;length-字符数-lengthb-字节数&quot;&gt;length 字符数 lengthb 字节数&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;字符&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lengthb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;字节&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'北京'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;字符&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lengthb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'北京'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;字节&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;lpad-左填充-rpad-右填充&quot;&gt;lpad 左填充  rpad 右填充&lt;/h6&gt;

&lt;h6 id=&quot;abcd-gt-10-位&quot;&gt;abcd ---&amp;gt; 10 位&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lpad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'abcd'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'*'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;左&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rpad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'abcd'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'*'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;右&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;trim-去掉前后指定的字符&quot;&gt;trim 去掉前后指定的字符&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'H'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Hello WorldH'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;replace&quot;&gt;replace&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'l'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'*'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;四舍五入&quot;&gt;四舍五入&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;一&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;二&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;三&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;四&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;五&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;err&quot;&gt;一&lt;/span&gt;         &lt;span class=&quot;err&quot;&gt;二&lt;/span&gt;         &lt;span class=&quot;err&quot;&gt;三&lt;/span&gt;         &lt;span class=&quot;err&quot;&gt;四&lt;/span&gt;         &lt;span class=&quot;err&quot;&gt;五&lt;/span&gt;                          
&lt;span class=&quot;c1&quot;&gt;---------- ---------- ---------- ---------- ----------                          &lt;/span&gt;
     &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;93&lt;/span&gt;       &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;         &lt;span class=&quot;mi&quot;&gt;46&lt;/span&gt;         &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;          &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;截断&quot;&gt;截断&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;一&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;二&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;三&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;trunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;四&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;926&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;五&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;``&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;sql  /



###### 查询当前时间
&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;``&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sql&lt;/span&gt;  
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;--------------                                                                  &lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;月&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;to_char&quot;&gt;to_char&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy-mm-dd hh24:mi:ss'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-------------------                                                             &lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2015&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;昨天-今天-明天&quot;&gt;昨天 今天 明天&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;昨天&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;今天&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;明天&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;计算员工的工龄：天-星期-月-年&quot;&gt;计算员工的工龄：天  星期  月 年&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;天&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;星期&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;月&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;365&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;年&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;不允许日期-日期&quot;&gt;不允许日期 + 日期&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;months_between&quot;&gt;months_between&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;一&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;months_between&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hiredate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;二&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;56-个月后&quot;&gt;56 个月后&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;add_months&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;last_day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;next_day&quot;&gt;next_day&lt;/h6&gt;

&lt;h6 id=&quot;下一个星期日&quot;&gt;下一个星期日&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;next_day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'星期日'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;下一个星期一&quot;&gt;下一个星期一&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;next_day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'星期一'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'month'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'year'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;2015-11-22-15-32-12今天是星期日&quot;&gt;2015-11-22 15:32:12今天是星期日&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;日期格式无法识别&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy-mm-dd hh24:mi:ss今天是day'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy-mm-dd hh24:mi:ss今天是day'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;正确&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sysdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'yyyy-mm-dd hh24:mi:ss&quot;今天是&quot;day'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查询员工薪水：两位小数-千位符-货币代码&quot;&gt;查询员工薪水：两位小数 千位符 货币代码&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'L9,999.99'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-------------------                                                             &lt;/span&gt;
           &lt;span class=&quot;err&quot;&gt;￥&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;800&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;                                                             
         &lt;span class=&quot;err&quot;&gt;￥&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;nvl2-a-b-c-当a-null的时候，返回c；否则返回b&quot;&gt;nvl2(a,b,c) 当a=null的时候，返回c；否则返回b&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nvl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;nullif-a-b-当a-b的时候，返回null；否则返回a&quot;&gt;nullif(a,b) 当a=b的时候，返回null；否则返回a&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;nullif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'abc'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'abc'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;值&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;nullif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'abc'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'abcd'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;值&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;---                                                                             &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;abc&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;coalesce-从左到右找到第一个不为null的值&quot;&gt;coalesce 从左到右找到第一个不为null的值&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coalesce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;第一个不为null的值&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;```sql  host cls&lt;/p&gt;

&lt;h6 id=&quot;涨工资，总裁1000-经理-800-其他400&quot;&gt;涨工资，总裁1000 经理 800 其他400&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linesize&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;涨前&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;job&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'PRESIDENT'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'MANAGER'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;800&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;涨后&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;涨前&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'PRESIDENT'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;'MANAGER'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;800&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;涨后&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;工资总额&quot;&gt;工资总额&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;人数&quot;&gt;人数&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;平均工资&quot;&gt;平均工资&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;一&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;二&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;平均奖金&quot;&gt;平均奖金&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;一&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;二&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;三&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;null值-5-组函数（多行函数）自动滤空&quot;&gt;null值 5.组函数（多行函数）自动滤空&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nvl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;null值-5-组函数（多行函数）自动滤空-可以嵌套滤空函数-来屏蔽他的滤空功能&quot;&gt;null值 5.组函数（多行函数）自动滤空;可以嵌套滤空函数 来屏蔽他的滤空功能&lt;/h6&gt;

&lt;h6 id=&quot;求每个部门的平均工资&quot;&gt;求每个部门的平均工资&lt;/h6&gt;

&lt;p&gt;```sql  select deptno,avg(sal)&lt;br&gt;
from emp&lt;br&gt;
group by deptno;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;


###### 多个列的分组
```sql  
select deptno,job,sum(sal)
from emp
group by deptno,job
order by 1;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;求平均工资大于2000的部门&quot;&gt;求平均工资大于2000的部门&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;having&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;where和having的区别：where后面不能使用多行函数&quot;&gt;where和having的区别：where后面不能使用多行函数&lt;/h6&gt;

&lt;h6 id=&quot;查询10号部门的平均工资&quot;&gt;查询10号部门的平均工资&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;having&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;sql-优化原则3-尽量使用where&quot;&gt;SQL 优化原则3. 尽量使用where&lt;/h6&gt;

&lt;h6 id=&quot;group-by的增强&quot;&gt;group by的增强&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;n&quot;&gt;break&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rollup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;n&quot;&gt;break&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;等值连接&quot;&gt;等值连接&lt;/h6&gt;

&lt;h6 id=&quot;查询员工信息：-员工号-姓名-月薪-部门名称&quot;&gt;查询员工信息： 员工号 姓名 月薪 部门名称&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;set linesize 80
desc dept
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;不等值连接&quot;&gt;不等值连接&lt;/h6&gt;

&lt;h6 id=&quot;查询员工信息：-员工号-姓名-月薪-工资级别&quot;&gt;查询员工信息： 员工号 姓名 月薪 工资级别&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grade&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;salgrade&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;between&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;losal&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hisal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;外连接&quot;&gt;外连接&lt;/h6&gt;

&lt;h6 id=&quot;按部门统计员工人数：部门号-部门名称-人数&quot;&gt;按部门统计员工人数：部门号 部门名称 人数&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;部门号&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;部门名称&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;人数&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;希望： 对于某些不成立的记录，任然希望包含在最后的结果中
左外连接：当where e.deptno=d.deptno不成立的时候，等号左边的表任然被包含
写法:where e.deptno=d.deptno(+)
右外连接：当where e.deptno=d.deptno不成立的时候，等号右边的表任然被包含
写法: where e.deptno(+)=d.deptno
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;部门号&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;部门名称&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;人数&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dept&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deptno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;自连接&quot;&gt;自连接&lt;/h6&gt;

&lt;h6 id=&quot;查询员工信息：员工姓名-老板姓名&quot;&gt;查询员工信息：员工姓名 老板姓名&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;set linesize 200
select * from emp;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;自连接：-通过表的别名，将同一张表视为多张表&quot;&gt;自连接： 通过表的别名，将同一张表视为多张表&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;员工姓名&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;老板姓名&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;自连接不适合操作大表&quot;&gt;自连接不适合操作大表&lt;/h6&gt;

&lt;h6 id=&quot;层次查询&quot;&gt;层次查询&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emp&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;connect&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;prior&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mgr&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-18-JQuery02"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-18-JQuery02</id>
   <content type="html">&lt;h2 id=&quot;筛选&quot;&gt;筛选&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;选择器可以完成功能，筛选提供相同函数。
    选择器   :first
    筛选  first()
对比：
    $(&quot;div:first&quot;)  直接获得第一个div （永远只能操作第一个）
    $(&quot;div&quot;).first()    先获得所有的div，从所有的中筛选出第一个。 （可以操作第一个，也可以操作所有）
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;过滤&quot;&gt;过滤&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;eq(index&lt;/td&gt;
&lt;td&gt;-index)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;first()&lt;/td&gt;
&lt;td&gt;第一个  :first&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;last()&lt;/td&gt;
&lt;td&gt;最后一个  :last&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;is()&lt;/td&gt;
&lt;td&gt;判断&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hasClass()&lt;/td&gt;
&lt;td&gt;判断是否是指定class其实就是 is(&amp;quot;.&amp;quot; + class)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;filter()&lt;/td&gt;
&lt;td&gt;筛选出与指定表达式匹配的元素集合&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;not()&lt;/td&gt;
&lt;td&gt;将指定内容删除&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;has()&lt;/td&gt;
&lt;td&gt;子元素是否有&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;slice(start , end)&lt;/td&gt;
&lt;td&gt;截取元素 ，[2,4)  --&amp;gt; 2,3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map()&lt;/td&gt;
&lt;td&gt;jQuery对象 拆分成  jQuery对象数组&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        选择索引值等于3的元素&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#96ffb8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        选择第一个div元素&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#679755&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        选择最后一个div元素&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;last&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff6da2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        id=one div样式是否是one&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div#one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        选择class为none的所有div&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//$(&quot;div.none&quot;).css(&quot;background-color&quot;,&quot;#525f97&quot;).show()&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.none&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#525f97&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        样式为hide div 下一个兄弟是否是span&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div.hide&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;span&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        选择所有div中含有div的&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b7&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;has&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fcff58&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        选择样式为one div 子元素中没有title属性的父div&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//$(&quot;div.one&quot;).not(&quot;[title]&quot;).css(&quot;background-color&quot;,&quot;#328baa&quot;)&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//$(&quot;div.one&quot;).children().not(&quot;[title]&quot;).parent().css(&quot;background-color&quot;,&quot;#7a6bff&quot;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div.one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div.one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[title]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//        选择所有号为3,4的div&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff023a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//把所有的input的value拿来用，链接追加到p里面&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;p&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[type='hidden']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;查找&quot;&gt;查找&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;A&amp;gt;
    &amp;lt;B&amp;gt;
        &amp;lt;C&amp;gt;&amp;lt;/C&amp;gt;
        &amp;lt;D&amp;gt;&amp;lt;/D&amp;gt;
        &amp;lt;E&amp;gt;&amp;lt;/E&amp;gt;
        &amp;lt;F&amp;gt;&amp;lt;/F&amp;gt;
    &amp;lt;/B&amp;gt;
&amp;lt;/A&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;B.children([...])&lt;/td&gt;
&lt;td&gt;获得所有的子元素。CDEF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A.find(D)&lt;/td&gt;
&lt;td&gt;从指定的区域查询指定元素。D&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;D.next()&lt;/td&gt;
&lt;td&gt;下一个兄弟。E&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;D.nextAll()&lt;/td&gt;
&lt;td&gt;后面的所有兄弟。EF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E.prev()&lt;/td&gt;
&lt;td&gt;上一个兄弟。D  （previous）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E.prevAll()&lt;/td&gt;
&lt;td&gt;前面的所有兄弟。CD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E.siblings()&lt;/td&gt;
&lt;td&gt;所有兄弟。CDF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E.parent()&lt;/td&gt;
&lt;td&gt;父元素。B&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E.closest(A)&lt;/td&gt;
&lt;td&gt;向上获得指定的父元素（含自己），如果获得返回一个对象，如果没有没有对象&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;C.nextUntil(E)&lt;/td&gt;
&lt;td&gt;获得后面所有兄弟，直到指定条件位置。DE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;F.prevUntil(D)&lt;/td&gt;
&lt;td&gt;获得前面所有兄弟，直到指定条件位置。DE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E.parents()&lt;/td&gt;
&lt;td&gt;获得所有的父元素。AB&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;closest和parents的主要区别是：
1，前者从当前元素开始匹配寻找，后者从父元素开始匹配寻找；
2，前者逐级向上查找，直到发现匹配的元素后就停止了，后者一直向上查找直到根元素，然后把这些元素放进一个临时集合中，再用给定的选择器表达式去过滤；
3，前者返回0或1个元素，后者可能包含0个，1个，或者多个元素。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 所有子元素&quot;  id=&quot;b1&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#d6ffe1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 子元素title=other 元素 &quot;  id=&quot;b2&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[title='other']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#4098a9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 下一个兄弟&quot;  id=&quot;b3&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff6da2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 后面的所有兄弟&quot;  id=&quot;b4&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;nextAll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fcff58&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 上一个兄弟&quot;  id=&quot;b5&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#d6ffe1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 前面的所有兄弟&quot;  id=&quot;b6&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prevAll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 所有兄弟&quot;  id=&quot;b7&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b7&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;siblings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#90ffa1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 id=two 父元素&quot;  id=&quot;b8&quot;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff023a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//选择 title=tesst 父元素&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[title='tesst']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;closest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;¡
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;串联&quot;&gt;串联&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;将多条语句，改成一条。（得瑟代码）&lt;/p&gt;
&lt;/blockquote&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;方法&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;A.add(B)&lt;/td&gt;
&lt;td&gt;将A和B组合一个对象 。类型 $(&amp;quot;A,B&amp;quot;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;andSelf()&lt;/td&gt;
&lt;td&gt;将之前对象添加到操作集合中&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;end()&lt;/td&gt;
&lt;td&gt;回到最近的一个&amp;quot;破坏性&amp;quot;操作之前 破坏性 操作对象改变&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;contents()&lt;/td&gt;
&lt;td&gt;获得所有的子节点（子元素 和 文本）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    A.children().andSelf()  
    A   孩子    孩子和A

    A.children().children().end() .end()  
    A   孩子   孙子     孩子  A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
    $(document).ready(function () {
        //选择 id=one和two 的div&quot;  id=&quot;b1&quot;
        $(&quot;#b1&quot;).click(function () {
           // $(&quot;#one,#two&quot;).css(&quot;background-color&quot;,&quot;#ff9599&quot;)
            $(&quot;#one&quot;).add($(&quot;#two&quot;)).css(&quot;background-color&quot;,&quot;#ff9599&quot;)
        })
        //选择id=one 所有的孩子，以及one自己&quot;  id=&quot;b2&quot;
        $(&quot;#b2&quot;).click(function () {
            $(&quot;#one&quot;).children().andSelf().css(&quot;background-color&quot;,&quot;#90ffa1&quot;)
        })
        //选择id=one 所有的孩子，设置颜色为红，设置one自己为黄&quot;  id=&quot;b3&quot;
        $(&quot;#b3&quot;).click(function () {
            $(&quot;#one&quot;).children().css(&quot;background-color&quot;,&quot;red&quot;).end().css(&quot;background-color&quot;,&quot;yellow&quot;)
            //$(&quot;#one&quot;).children().css(&quot;background-color&quot;,&quot;red&quot;).parent().css(&quot;background-color&quot;,&quot;yellow&quot;)
           // $(&quot;#one&quot;).css(&quot;background-color&quot;,&quot;yellow&quot;).children().css(&quot;background-color&quot;,&quot;red&quot;)
        })
        //获得id=two 子节点个数&quot;  id=&quot;b4&quot;
        $(&quot;#b4&quot;).click(function () {
            alert($(&quot;#two&quot;).contents().length)
        })
    })
  &amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;qq分组&quot;&gt;qq分组&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//所有分组列表项默认都是隐藏&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//分组(span)可以点击 控制下面的列表项显示或隐藏&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//当前分组列表显示，其他分页要隐藏 只有一个是显示状态&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;span&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;nextAll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;siblings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&amp;gt;&lt;/span&gt;追求中&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;娇娇&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;婷婷&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;冉冉&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&amp;gt;&lt;/span&gt;已交往&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;蕊蕊&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;小雨&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;琪琪&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&amp;gt;&lt;/span&gt;已分手&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;圆圆&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;吖吖&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;洋洋&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;纯纯&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;事件&quot;&gt;事件&lt;/h2&gt;

&lt;h6 id=&quot;常见事件总结&quot;&gt;# 常见事件总结&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;方法&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;blur&lt;/td&gt;
&lt;td&gt;失去焦点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hange&lt;/td&gt;
&lt;td&gt;select 改变&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;click&lt;/td&gt;
&lt;td&gt;单击&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dblclick&lt;/td&gt;
&lt;td&gt;双击&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;页面出现错误&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;focus&lt;/td&gt;
&lt;td&gt;获得焦点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;focusin&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;focusout&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;keydown&lt;/td&gt;
&lt;td&gt;键盘按下&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;keypress&lt;/td&gt;
&lt;td&gt;键盘按&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;keyup&lt;/td&gt;
&lt;td&gt;键盘弹起&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mousedown&lt;/td&gt;
&lt;td&gt;鼠标按下&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mouseenter&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mouseleave&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mousemove&lt;/td&gt;
&lt;td&gt;鼠标移动&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mouseout&lt;/td&gt;
&lt;td&gt;鼠标移出&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mouseover&lt;/td&gt;
&lt;td&gt;鼠标移入&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mouseup&lt;/td&gt;
&lt;td&gt;鼠标弹起&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;resize&lt;/td&gt;
&lt;td&gt;改变大小&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scroll&lt;/td&gt;
&lt;td&gt;滚动&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;select&lt;/td&gt;
&lt;td&gt;选择&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;submit&lt;/td&gt;
&lt;td&gt;提交&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;upload&lt;/td&gt;
&lt;td&gt;页面卸载&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#e01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blur&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#textMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;文本框失去焦点：blur&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;focus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#textMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;文本框获得焦点：focus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keydown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#textMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;键盘按下：keydown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keypress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#textMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;键盘按下：keypress&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#textMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;键盘按下：keyup&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//支持谷歌&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sub&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;selectionStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;selectionEnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#textMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;文本内容被选中：select ， &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#e02&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mouseover&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#divMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;鼠标移上：mouseover&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mousemove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#divMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;鼠标移动：mousemove , &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mouseout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#divMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;鼠标移出：mouseout&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mousedown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#divMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;鼠标按下：mousedown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mouseup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#divMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;鼠标弹起：mouseup&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#e03&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#buttonMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;单击：click&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dblclick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#buttonMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;双击：dblclick&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;jQuery 提供额外的事件，用于完善javascript缺失的
focusin 和 focusout
    focusin 获得焦点。js focus。
        focusin事件跟focus事件区别在于，他可以在父元素上检测子元素获取焦点的情况。
    focusout 失去焦点。js blur。
        focusout事件跟blur事件区别在于，他可以在父元素上检测子元素失去焦点的情况。

mouseenter 和 mouseleave
    mouseenter 鼠标移入。js mouseover
        与 mouseover 事件不同，只有在鼠标指针穿过被选元素时，才会触发 mouseenter 事件。如果鼠标指针穿过任何子元素，同样会触发 mouseover 事件。

mouseleave 鼠标移出。js mouseout
        与 mouseout 事件不同，只有在鼠标指针离开被选元素时，才会触发 mouseleave 事件。如果鼠标指针离开任何子元素，同样会触发 mouseout 事件。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//js focus fucus父元素不能检测到子元素获得焦点&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//          $(&quot;#outerDiv&quot;).focus(function () {&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//              alert(&quot;124&quot;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//            })&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#outerDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;focusin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;outerDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;c1&quot;&gt;//          $(&quot;#outerDiv&quot;).mouseover(function () {&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//              $(&quot;#showSpan&quot;).html(i++)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//            })&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#outerDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mouseenter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#showSpan&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;页面加载&quot;&gt;页面加载&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
方式1：标准api
$(document).ready(function(){

});
等效
jQuery(document).ready( fn );

方式2：简化版
$(function(){
});
登录
jQuery(function(){
});

源码分析（了解）
步骤一：回顾js 函数创建
    方式1：function abc(){};   abc();
    方式2：var abc = function(){} ;   abc();
    $( fn )  == jQuery( fn )  == new jQuery.fn.init( fn )

步骤二： init( fn )  --&amp;gt;  rootjQuery.ready( fn )


步骤三：

    总结：
        $( fn )  --&amp;gt; init( fn )  --&amp;gt; jQuery(document).ready( fn )
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;事件绑定&quot;&gt;事件绑定&lt;/h2&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;方法&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;bind(type ,fn)&lt;/td&gt;
&lt;td&gt;给当前对象绑定一个事件。例如：A.bind(&amp;quot;click&amp;quot;, fn );  类型：A.click( fn )&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;unbind(type )&lt;/td&gt;
&lt;td&gt;解绑bind绑定事件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;one(type ,fn )&lt;/td&gt;
&lt;td&gt;给当前对象绑定一次事件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;on(events , fn)&lt;/td&gt;
&lt;td&gt;提供绑定事件处理程序所需的所有功能。完成3个方法功能.bind(), .delegate(), 和 .live()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;off(events)&lt;/td&gt;
&lt;td&gt;解绑&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;trigger(type)&lt;/td&gt;
&lt;td&gt;在每一个匹配的元素上触发某类事件。例如：A.trigger(&amp;quot;submit&amp;quot;)  ,类似 A.submit()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;triggerHandler(type) 在每一个匹配的元素上触发某类事件。但不会执行浏览器默认动作，也不会产生事件冒泡&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;live(type , fn)&lt;/td&gt;
&lt;td&gt;绑定事件，之后动态添加同样的成员，也具有相同的事件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;die(type)&lt;/td&gt;
&lt;td&gt;解绑事件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hover(over , out)&lt;/td&gt;
&lt;td&gt;简化版，鼠标移入和移出  ，A.mouseover( fn ).mouseout( fn)  简化 A.hover( fn , fn )&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;toggle( fn , fn , fn ,...) 执行click事件，每点击一次执行一个fn&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;h6 id=&quot;事件处理&quot;&gt;事件处理&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//1只能点击一次，之后失效&quot;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#h01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;one&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;你只能看到我一次&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//2可以点击多次&quot;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#h02&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click.a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;每次都能看见我&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//别名 格式 事件.别名&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#h02&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click.b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;次次都是我&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//3解绑2&quot;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#h03&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#h02&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;unbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click.b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//4 添加一个按钮，样式为myClass，且拥有相同的事件&quot; class=&quot;myClass&quot;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.myClass&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;live&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;input type='button' class='myClass'value='血脉觉醒'/&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//5 解绑4&quot;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#h05&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.myClass&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;事件处理&quot;&gt;事件处理&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#e01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;报数1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;报数2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#e02&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hover&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#divMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;over&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#divMsg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;out&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;事件案例&quot;&gt;事件案例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.tooltip&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mouseover&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$new&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;div id='tooltip'&amp;gt;&amp;lt;/div&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;c1&quot;&gt;//           .html($(this).attr(&quot;title&quot;))&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;left&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pageX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;top&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pageY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mousemove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
           &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#tooltip&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;left&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pageX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;top&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pageY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mouseout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#tooltip&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
           &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#tooltip&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tooltip&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;这是我的超链接提示1.&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;提示1.&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tooltip&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;这是我的超链接提示2.&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;提示2.&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;效果-动画&quot;&gt;效果|动画&lt;/h2&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;效果&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1.基本&lt;/td&gt;
&lt;td&gt;通过改变元素 高度和宽度 进行显示或隐藏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show(speed,fn)&lt;/td&gt;
&lt;td&gt;显示 参数1：speed速度。显示的时间，单位：毫秒。固定字符串：(&amp;quot;slow&amp;quot;,&amp;quot;normal&amp;quot;, or &amp;quot;fast&amp;quot;) 参数2：fn 回调函数。动画效果完成之后回调函数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hide()&lt;/td&gt;
&lt;td&gt;隐藏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;toggle()&lt;/td&gt;
&lt;td&gt;切换&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2.滑动&lt;/td&gt;
&lt;td&gt;通过改变元素 高度  进行显示或隐藏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;slideDown()&lt;/td&gt;
&lt;td&gt;显示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;slideUp()&lt;/td&gt;
&lt;td&gt;隐藏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;slideToggle()&lt;/td&gt;
&lt;td&gt;切换&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3.淡入淡出&lt;/td&gt;
&lt;td&gt;通过改变元素  透明度  进行显示或隐藏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fadeIn()&lt;/td&gt;
&lt;td&gt;显示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fadeOut()&lt;/td&gt;
&lt;td&gt;隐藏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fadeToggle()&lt;/td&gt;
&lt;td&gt;切换&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fadeTo(speed,opacity,fn)&lt;/td&gt;
&lt;td&gt;指定透明度 参数2：opacity 透明度，一个0至1之间表示透明度的数字&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;h6 id=&quot;淡入淡出&quot;&gt;淡入淡出&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b1Div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b2Div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slideToggle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;slow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b3Div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fadeToggle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;完成&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;ajax&quot;&gt;Ajax&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;ajax ：异步请求，浏览器地址栏不改变，进行局部刷新。&lt;/p&gt;

&lt;h6 id=&quot;ajax-流程分析&quot;&gt;ajax 流程分析&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;jQuery程序             ajax引擎          服务器&lt;br&gt;
    |                       |               |&lt;br&gt;
    |                       |               |&lt;br&gt;
    |--请求                   |               |&lt;br&gt;
    |   |--路径+参数  -----&amp;gt;   -----------&amp;gt; |--Servlet&lt;br&gt;
    |                       |                    |--获得请求方式&lt;br&gt;
    |                       |                    |--获得请求参数&lt;br&gt;
    |                       |                    |--业务相关&lt;br&gt;
    |                       |                           |&lt;br&gt;
编写回调，获得json  &amp;lt;----  回调函数  (json)  &amp;lt;------------   |--响应数据 JSON&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### jQuery 的ajax
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;|--第一层&lt;br&gt;
|    |&lt;br&gt;
|    |--$.ajax(...) 最底层ajax请求，编写最复杂，完成功能最全的。&lt;br&gt;
|&lt;br&gt;
|--第二层&lt;br&gt;
|    |&lt;br&gt;
|    |--load() 、$.get() 、$.post()  开发中常用3个&lt;br&gt;
|&lt;br&gt;
|--第三层&lt;br&gt;
|    |&lt;br&gt;
|    |--$.getJSON()  、$.getScript() 高级开发&lt;br&gt;
|           |&lt;br&gt;
|           |--$.getJSON()&lt;br&gt;
|           |       |--可以完成js“跨域”请求&lt;br&gt;
|           |       |--域名：域名+端口+项目，js默认不能跨域请求。&lt;br&gt;
|           |&lt;br&gt;
|           |--$.getScript()&lt;br&gt;
|                   |--动态加载js文件&lt;br&gt;
|                   |--之前用&amp;lt; script src=&amp;quot;&amp;quot;&amp;gt;加载页面时，一并加载js文件&lt;br&gt;
|&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### load()

```javascript
    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
        $(function(){
            $(&quot;input&quot;).click(function () {
                var url=&quot;/sendDataServlet&quot;;
                var params={&quot;username&quot;:&quot;jack&quot;,&quot;password&quot;:&quot;1234&quot;}
                /**load()函数，必须使用jquery对象
                 * 参数1:url请求路径
                 * 参数2:data请求参数
                 * 参数3:回调函数
                 * 如果没有参数 发送get
                 * 如果有请求参数 发送post
                 * load永远获得是字符串
                 */
                $(this).load(url,params,function (data) {
                    var json =eval(&quot;(&quot;+data+&quot;)&quot;)
                    alert(json.message)
                })
            })
        });
    &amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;get-post&quot;&gt;$.get(),$.post()&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/sendDataServlet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;jack&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1234&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;cm&quot;&gt;/**$.get() 全局函数,发送get请求
                 * 格式 jQuery.get(url,[params],[callback],[])
                 * get请求不适合发中文数据,存在请求的中文乱码，必须手动解决 new String(&quot;iso-8859-1&quot;,&quot;utf-8&quot;)
                 * 响应数据,如果使用application/json;charset=utf-8 jQeury自动转换成json对象
                 * 响应数据,如果是text/html;charset=utf-8 返回的是字符串
                 * 参数4:返回内容格式[xml,html,script,json,text,_default]
                 */&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//$.post(url,params,function (data) {&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//  alert(data.message)&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//},&quot;json&quot;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;ajax&quot;&gt;$.ajax()&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/sendDataServlet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;jack&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1234&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
             &lt;span class=&quot;cm&quot;&gt;/**$.ajax() 底层功能最强大
                 * 参数setting:设置所有的参数
                 * url:发送请求地址
                 * data:请求参数
                 * type:请求方法
                 * success:回调函数
                 * error:请求失败回调函数
                 * dataType:预期服务器类型 xml,html,script,json,jsonp,text
                 */&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ajax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;服务器繁忙，请稍后重试&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;dataType&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&amp;gt;          &lt;/span&gt;&lt;span class=&quot;err&quot;&gt; 
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;其他&quot;&gt;其他&lt;/h2&gt;

&lt;h6 id=&quot;表单序列化&quot;&gt;表单序列化&lt;/h6&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;serialize() &lt;br&gt;
将表单中所有选中项拼凑成一个字符串。类似get请求参数&lt;br&gt;
例如：username=jack&amp;amp;password=1234&amp;amp;gender=man&amp;amp;....&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;serializeArray()&lt;br&gt;
将表单中所有选中项拼凑一个json数组&lt;br&gt;
[{&amp;quot;name&amp;quot;:&amp;quot;username&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;zhangsan&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;password&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;12345&amp;quot;}]&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;事件冒泡&lt;br&gt;
子元素执行时，一并触发父元素相同的事件&lt;br&gt;
event.stopPropagation()&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#outerDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;outerDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#innerDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;innerDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//阻止事件冒泡&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//方式一 return false;&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//方式二&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stopPropagation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;浏览器默认动作
event.preventDefault() &lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;弹弹弹弹&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//阻止浏览器默认行为&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//方式一&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//return false&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//方式二&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;动态加载案例&quot;&gt;动态加载案例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;createDiv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//滚过的高度&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;scrollTop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//整个文档的高度&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dh&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//整个窗口的高度&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wh&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//当接近底部 添加&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wh&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dh&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                    &lt;span class=&quot;nx&quot;&gt;createDiv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#showDiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;wt: &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; , dh: &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dh&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; , wh: &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wh&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;createDiv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$div&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;div class='newDiv'&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+++&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;/div&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;抽奖案例&quot;&gt;抽奖案例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;createDiv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//第一个先隐藏&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:first&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slideUp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slideDown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;createDiv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$div&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;div class='newDiv'&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+++&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;/div&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;跨域&quot;&gt;跨域&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;2个不同的域名通信&lt;br&gt;
jquery 默认使用jsonp&lt;/p&gt;

&lt;h6 id=&quot;js跨域&quot;&gt;# js跨域&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;1.服务器一发送请求
&amp;lt;script scr=&quot;http://域名:端口/项目？callback=回调方法名&quot;&amp;gt;&amp;lt;/script&amp;gt;
2.服务器二接受请求响应数据
响应的格式为resp.getWriter.println(回调方法名+&quot;(&quot;+jsonString+&quot;)&quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;jquery跨域&quot;&gt;jQuery跨域&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;$.getJson(http://域名:端口/项目?callback=?,function(){
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;})&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-17-JQuery01"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-17-JQuery01</id>
   <content type="html">&lt;h2 id=&quot;jquery介绍&quot;&gt;jQuery介绍&lt;/h2&gt;

&lt;h6 id=&quot;js类库&quot;&gt;JS类库&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;JavaScript 库封装了很多预定义的对象和实用函数。能帮助使用者建立有高难度交互客户端页面, 并且兼容各大浏览器。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;当前流行的-javascript-库有：&quot;&gt;当前流行的 JavaScript 库有：&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-document&quot; data-lang=&quot;document&quot;&gt;jQuery ，最流行
EXT_JS，2.0开始收费
Dojo ，很多js单独文件，优化：打包。（常见：开发小图标，一张图片）
Prototype，对js扩展，框架开发。
YUI(Yahoo! User Interface) ，taobao之前使用。
淘宝UI：http://docs.kissyui.com/
Bootstrap，来自 Twitter，是目前很受欢迎的前端框架Bootstrap 是基于 HTML、CSS、JAVASCRIPT 的，它简洁灵活，使得 Web 开发更加快捷。基于jQuery 一个UI工具
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;jquery介绍&quot;&gt;jQuery介绍&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-doc&quot; data-lang=&quot;doc&quot;&gt;JQuery是继prototype之后又一个优秀的Javascript库。它是轻量级的js库 ，它兼容CSS3，还兼容各种浏览器（IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+），jQuery2.0及后续版本将不再支持IE6/7/8浏览器。jQuery使用户能更方便地处理HTML（标准通用标记语言下的一个应用）、events、实现动画效果，并且方便地为网站提供AJAX交互。jQuery还有一个比较大的优势是，它的文档说明很全，而且各种应用也说得很详细，同时还有许多成熟的插件可供选择。jQuery能够使用户的html页面保持代码和html内容分离，也就是说，不用再在html里面插入一堆js来调用命令了，只需要定义id即可。

轻量级：依赖程序少，占用的资源的少
特点：js代码和html代码分离
jQuery已经成为最流行的javascript库，在世界前10000个访问最多的网站中，有超过55%在使用jQuery。
由美国人John Resig在2006年1月发布
jQuery是免费、开源的
jQuery分类：
    WEB版本：我们主要学习研究
    UI版本：集成了UI组件
    mobile版本：针对移动端开发
    qunit版本：用于js测试的
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;优点&quot;&gt;优点&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;核心理念是write less,do more(写得更少,做得更多)
轻量级：源码1.11.js大小是286kb，压缩班1.11.min.js大小是94.1k。如果使用GZIP压缩更小。
兼容各种浏览器 (IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+）
jQuery的语法设计可以使开发者更加便捷
例如操作文档对象、选择DOM元素、制作动画效果、事件处理、使用Ajax以及其他功能
jQuery能够使用户的html页面保持代码和html内容分离
不用再在html里面插入一堆js来调用命令了，只需要定义id即可
jQuery提供API让开发者编写插件，有许多成熟的插件可供选择
文档说明很全
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;基本语法&quot;&gt;基本语法&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-JavaScript&quot; data-lang=&quot;JavaScript&quot;&gt;//jQuery语法
    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
        //js 执行时，有加载顺序

        /* jQuery获得数据
         * * 语法：$(&quot;选择器&quot;)   == jQuery(&quot;选择器&quot;)
         *
         */

        var username = $(&quot;#username&quot;);
        // * val()函数 用于获得 value属性的值
        alert(username.val());

    &amp;lt;/script&amp;gt;

// jQuery对象和dom对象转换
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
        //1 使用javascript获得value值
        var username = document.getElementById(&quot;username&quot;);
        //alert(username.value);

        //2 将 dom对象 转换 jQuery对象
        // * 语法：$(dom对象)
        // * 建议：jQuery对象变量名，建议为$开头
        var $username = $(username);
//      alert($username.val());

        //3 将 jQuery对象 转换 dom对象
        //3.1 jQuery对象内部使用【数组】存放所有的数据，可以数组的下标获取（索引）
        var username2 = $username[0];
        alert(username2.value);
        //3.2 jQuery提供函数 get() 转换成dom对象
        var username3 = $username.get(0);
        alert(username3.value);
    &amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;选择器&quot;&gt;选择器&lt;/h2&gt;

&lt;h6 id=&quot;基本选择器&quot;&gt;基本选择器&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;基本选择器
        |
        |--#id
        |       |--id选择器
        |       |--&amp;lt;xxx id=&quot;&quot;&amp;gt; 通过id值获得元素
        |
        |--element
        |       |--标签选择器，
        |       |--&amp;lt;xxx&amp;gt; 通过标签名获得元素
        |
        |--.class
        |       |--类选择器，
        |       |--&amp;lt;xxx class=&quot;&quot;&amp;gt; 通过class值获得元素
        |
        |--s1,s2,...
        |       |--多选择器
        |       |--将多个选择器的结果添加一个数组中
        |
        |-- *
        |    |--所有

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
             &lt;span class=&quot;c1&quot;&gt;//javascript 通过页面加载成功 window.onload = function (){}&lt;/span&gt;
             &lt;span class=&quot;c1&quot;&gt;//jquery onload方法&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                     &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#cc33aa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                     &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                     &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.mini&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#d6ffe1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                     &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                     &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                     &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                     &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fcff58&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                     &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                     &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;span,#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#4098a9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                     &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
             &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;层级&quot;&gt;层级&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;A  B ，获得A元素内部所有的B后代元素。（爷孙）
A &amp;gt; B ，获得A元素内部所有的B子元素。（父子）
A + B ，获得A元素后面的第一个兄弟B。（兄弟）
A ~ B ，获得A元素后面的所有的兄弟B。（兄弟）
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选择 body内的所有div元素.&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff9599&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//在body内,选择子元素是div的&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body &amp;gt; div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选择 id为one 的下一个div元素.&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#one+div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#328baa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选择 id为two的元素后面的所有div兄弟元素.&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two~div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#d6ffe1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选择 id为two的元素的所有div兄弟元素&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;siblings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fcff58&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;基本过滤&quot;&gt;基本过滤&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;过滤选择器格式 “：关键字”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;:first&lt;/td&gt;
&lt;td&gt;第一个&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:last&lt;/td&gt;
&lt;td&gt;最后一个&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:eq(index)&lt;/td&gt;
&lt;td&gt;获得指定索引&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:gt(index)&lt;/td&gt;
&lt;td&gt;大于&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:lt(index)&lt;/td&gt;
&lt;td&gt;小于&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:even&lt;/td&gt;
&lt;td&gt;偶数，从 0 开始计数。例如：查找表格的1、3、5...行（即索引值0、2、4...）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:odd&lt;/td&gt;
&lt;td&gt;奇数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:not(selector)&lt;/td&gt;
&lt;td&gt;去除所有与给定选择器匹配的元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;: header&lt;/td&gt;
&lt;td&gt;获得所有标题元素。例如&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;: &amp;lt;h1&amp;gt;...&amp;amp;lth6&amp;gt;&lt;/td&gt;
&lt;td&gt;获得标签元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:animated&lt;/td&gt;
&lt;td&gt;获得所有动画&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:focus&lt;/td&gt;
&lt;td&gt;获得焦点&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择第一个div元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:first&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fcff58&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择最后一个div元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:last&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff9599&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择class不为one的 所有div元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:not(.one)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#4098a9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择索引值为偶数 的div元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:even&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#96ffb8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择索引值为奇数 的div元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:odd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff6da2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择索引值等于3的元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:eq(3)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fdff2d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择索引值大于3的元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn7&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:gt(3)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#d6ffe1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择索引值小于3的元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:lt(3)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#525f97&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择所有的标题元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;:header&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#90fdff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//选择当前正在执行动画的所有元素&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;:animated&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#eca7ff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;input[type='text']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;blur focus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;c1&quot;&gt;//this 当前执行的对象，是一个dom对象&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;defaultValue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
              &lt;span class=&quot;c1&quot;&gt;//判断当前对象是否获得焦点&lt;/span&gt;
              &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;:focus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
                  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                      &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.4 内容过滤&lt;br&gt;
|表达式|备注|&lt;br&gt;
|-----|----|&lt;br&gt;
|:empty | 当前元素是否为空（是否有标签体--子元素、文本）|&lt;br&gt;
|:has(...) | 当前元素，是否含有指定的子元素|&lt;br&gt;
|:parent|   当前元素是否是父元素|&lt;br&gt;
|:contains( text )| 标签体是否含有指定的文本|&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选取含有文本“di”的div元素.&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:contains('di')&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#4098a9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选取不包含子元素(或者文本元素)的div空元素&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:empty&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff6da2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选取含有子元素(或者文本元素)的div元素.&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:parent&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#6eff3f&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;//选取含有class为mini元素 的div元素&lt;/span&gt;
                 &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:has('.mini')&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fcff58&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;可见性过滤&quot;&gt;可见性过滤&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;:hidden 隐藏。特指 &amp;lt;xxx style=&quot;display:none;&quot;&amp;gt;  ，获得 &amp;lt;input type=&quot;hidden&quot;&amp;gt;
:visible    可见（默认）
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//选取所有可见的div元素&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:visible&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fdff2d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//选取所有不可见的元素, 利用 jQuery 中的 show() 方法将它们显示出来&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div:hidden&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//选取所有的文本隐藏域, 并打印它们的值&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;input:hidden&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//选取所有的文本隐藏域, 并打印它们的值&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#b4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;c1&quot;&gt;//index 遍历的索引 domEle遍历的元素&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;input:hidden&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;domEle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                                &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;属性&quot;&gt;属性&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;[属性名]&lt;/td&gt;
&lt;td&gt;获得指定的属性名的元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[属性名=值]&lt;/td&gt;
&lt;td&gt;获得属性名 等于 指定值的 的元素【1】&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[属性名!=值]&lt;/td&gt;
&lt;td&gt;获得属性名 不等于 指定值的 的元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[属性名^=值]&lt;/td&gt;
&lt;td&gt;获得以属性值 开头 的元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[属性名$=值]&lt;/td&gt;
&lt;td&gt;获得以属性值 结尾 的元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[属性名*=值]&lt;/td&gt;
&lt;td&gt;获得 含有属性值  的元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[as1][as2][as3]....&lt;/td&gt;
&lt;td&gt;复合选择器，多个条件同时成立。类似 where ...and...and【2】&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;c1&quot;&gt;//选取含有 属性title 的div元素&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[title]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
         &lt;span class=&quot;c1&quot;&gt;//选取 属性title值等于“test”的div元素&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[title='test']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#96ffb8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
         &lt;span class=&quot;c1&quot;&gt;//选取 属性title值不等于“test”的div元素(没有属性title的也将被选中).&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[title!='test']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#4098a9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
         &lt;span class=&quot;c1&quot;&gt;//选取 属性title值 以“te”开始 的div元素&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[title^='te']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff6da2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
         &lt;span class=&quot;c1&quot;&gt;//选取 属性title值 以“est”结束 的div元素&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[title$=est]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fdff2d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
         &lt;span class=&quot;c1&quot;&gt;//选取 属性title值 含有“es”的div元素.&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[title*='es']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff023a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
         &lt;span class=&quot;c1&quot;&gt;//组合属性选择器,首先选取有属性id的div元素，然后在结果中 选取属性title值 含有“es”的元素.&lt;/span&gt;
         &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn7&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
             &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div[id][title*='es']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff6da2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
     &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;子元素过滤&quot;&gt;子元素过滤&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;:nth-child(index)&lt;/td&gt;
&lt;td&gt;获得第几个孩子，从1开始&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:first-child&lt;/td&gt;
&lt;td&gt;获得第一个孩子&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:last-child&lt;/td&gt;
&lt;td&gt;获得最后孩子&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:only-child&lt;/td&gt;
&lt;td&gt;获得独生子&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//选取每个class为one的div父元素下的第2个子元素&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;c1&quot;&gt;//子元素使用前提 表达式前面必须是元素 如果元素添加条件必须使用空格&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//             $(&quot;div[class='one'] :nth-child(2)&quot;).css(&quot;background-color&quot;,&quot;#ff023a&quot;)&lt;/span&gt;
                        &lt;span class=&quot;c1&quot;&gt;//div .one 所有div中后代class为one&lt;/span&gt;
                        &lt;span class=&quot;c1&quot;&gt;//div.one 所有的class的one的div&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div.one :nth-child(2)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#679755&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//选取每个class为one的div父元素下的第一个子元素&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div.one :first-child&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#7a6bff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//选取每个class为one的div父元素下的最后一个子元素&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div.one :last-child&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fdff2d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;//如果class为one的div父元素下的仅仅只有一个子元素，那么选中这个子元素.&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div.one :only-child&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;background-color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ff9599&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;表单过滤&quot;&gt;表单过滤&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;:input&lt;/td&gt;
&lt;td&gt;所有的表单元素。（input select textarea button）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:text&lt;/td&gt;
&lt;td&gt;文本框&amp;lt;input type=&amp;quot;text&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:password&lt;/td&gt;
&lt;td&gt;密码框&amp;lt;input type=&amp;quot; password &amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:radio&lt;/td&gt;
&lt;td&gt;单选&amp;lt;input type=&amp;quot;radio&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:checkbox&lt;/td&gt;
&lt;td&gt;复选框&amp;lt;input type=&amp;quot;checkbox&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:submit&lt;/td&gt;
&lt;td&gt;提交按钮&amp;lt;input type=&amp;quot;submit&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:image&lt;/td&gt;
&lt;td&gt;图片按钮&amp;lt;input type=&amp;quot;image&amp;quot; src=&amp;quot;&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:reset&lt;/td&gt;
&lt;td&gt;重置按钮&amp;lt;input type=&amp;quot;reset&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:file&lt;/td&gt;
&lt;td&gt;文件上传&amp;lt;input type=&amp;quot;file&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:hidden&lt;/td&gt;
&lt;td&gt;隐藏域&amp;lt;input type=&amp;quot;hidden&amp;quot;&amp;gt;  ,还可以获得&lt;xxx style=&quot;display:none&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;其他值：&lt;/td&gt;
&lt;td&gt;&amp;lt;br&amp;gt; &amp;lt;option&amp;gt;  ,存在浏览器兼容问题&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:button&lt;/td&gt;
&lt;td&gt;所有普通按钮。 &amp;lt;button &amp;gt;  或 &amp;lt;input type=&amp;quot;button&amp;quot;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//&amp;lt;![CDATA[&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$alltext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allpassword&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allradio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :radio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allcheckbox&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :checkbox&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allsubmit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :submit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allimage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :image&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allreset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :reset&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allbutton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :button&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &amp;lt;input type=button /&amp;gt;  和 &amp;lt;button &amp;gt;&amp;lt;/button&amp;gt;都可以匹配&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allfile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :file&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allhidden&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :hidden&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &amp;lt;input type=&quot;hidden&quot; /&amp;gt;和&amp;lt;div style=&quot;display:none&quot;&amp;gt;test&amp;lt;/div&amp;gt;都可以匹配.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allselect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 select&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$alltextarea&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 textarea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$AllInputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 :input&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$inputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#form1 input&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;表单对象属性过滤&quot;&gt;表单对象属性过滤&lt;/h6&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;:enabled&lt;/td&gt;
&lt;td&gt;可用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:disabled&lt;/td&gt;
&lt;td&gt;不可用。&lt;xxx disabled=&quot;disabled&quot;&gt; 或&lt;xxx disabled=&quot;&quot;&gt;  或  &lt;xxx disabled&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:checked&lt;/td&gt;
&lt;td&gt;选中（单选框radio、复选框 checkbox）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;:selected&lt;/td&gt;
&lt;td&gt;选择（下拉列表 select option）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//对表单内 可用input 赋值操作.&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;input:enabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;aaaaaa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//对表单内 不可用input 赋值操作.&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;input:disabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bbbbb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;//获取多选框选中的个数&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[name='newsletter']:checked&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#checkboxDivId&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

          &lt;span class=&quot;c1&quot;&gt;//获取下拉框选中的内容&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#btn4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;select :selected&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;c1&quot;&gt;//option 没有value时取text内容，有value取value的值&lt;/span&gt;
                  &lt;span class=&quot;c1&quot;&gt;//直接取text内容 $(this).html()&lt;/span&gt;
                  &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#selectDivId&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
                  &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;案例&quot;&gt;案例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//从第5个开始,不包括最后一个，控制显示或隐藏&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$allLi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;li:gt(4):not(:last)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;span&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//$allLi.toggle()&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$allLi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;:hidden&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$allLi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;显示全部品牌&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$allLi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;隐藏部分品牌&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;4   属性、CSS和HTML代码/文本/值&lt;br&gt;
|表达式|备注|&lt;br&gt;
|-----|---|&lt;br&gt;
|attr(name) |  获得指定属性名的值|&lt;br&gt;
|attr(key ,val ) |给一个指定属性名设置值|&lt;br&gt;
|attr(prop ) |给多个属性名设置值。参数：prop  json数据|&lt;br&gt;
|removeAttr(name)|  移除指定属性|&lt;br&gt;
|addClass(&amp;quot;my&amp;quot;) | 追加一个类 |&lt;br&gt;
|removeClass(&amp;quot;my&amp;quot;) | 将指定类移除|&lt;br&gt;
|toggleClass(&amp;quot;my&amp;quot;) | 如果有my将移除，如果没有将添加|&lt;br&gt;
|val()      |获得value的值|&lt;br&gt;
|val(text) | 设置value的值|&lt;br&gt;
|html() | 获得html代码，含有标签|&lt;br&gt;
|html(...) |设置html代码，如果有标签，将进行解析。|&lt;br&gt;
|text() |获得文本值，将标签进行过滤|&lt;br&gt;
|text(...) |设置文本值，如果有标签，将被转义 |&lt;br&gt;
|css(name) | 获得指定名称的css值|&lt;br&gt;
|css(name ,value) | 设置一对值| &lt;br&gt;
|css(prop) 设置一组值 |&lt;br&gt;
|offset()  |获得坐标 ， 返回JSON对象，{&amp;quot;top&amp;quot;:200, &amp;quot;left&amp;quot; : 100}|&lt;br&gt;
|offset(...) |设置坐标。例如：$(this).offset({&amp;quot;top&amp;quot;:0 , &amp;quot;left&amp;quot; : 0})|&lt;br&gt;
|scrollTop() | 垂直滚动条 滚过的距离|&lt;br&gt;
|scrollLeft() |  水平滚动条 滚过的距离|&lt;br&gt;
|height([...]) | 获得 或 设置 高度 |&lt;br&gt;
|width([...]) | 获得 或 设置 宽度 |&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;jQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//属性&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[name='username']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;disabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;disabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[name='username']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;disabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[name='username']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;textClass&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[name='username']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;textClass&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[name='username']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toggleClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;textClass&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#buttonId&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[name='username']&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toggleClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;textClass&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//html,text&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;a href='http://www.baidu.com'&amp;gt;你点我啊&amp;lt;/a&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;a href='http://www.baidu.com'&amp;gt;你点我啊&amp;lt;/a&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;//css&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;未满18岁慎入&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;border&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1px solid #999&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;width&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;200px&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;height&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;200px&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;font-size&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;60px&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#90ffa1&quot;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;文档处理&quot;&gt;文档处理&lt;/h6&gt;

&lt;ul&gt;
&lt;li&gt;内部插入
|表达式|备注|
|------|---|
|A.append(B)  | 将B插入到A的内部后面（之后的串联操作，操作A）|
|A.prepend(B) | 将B插入到A的内部前面 |
|A.appendTo(B)| 将A插入到B的内部后面 （之后的串联操作，操作A）|
|A.prependTo(B) | 将A插入到B的内部前面 |&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$tj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#tj&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$love&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#love&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$love&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$tj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$tj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$love&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                &lt;span class=&quot;nx&quot;&gt;$love&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prepend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$tj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;$tj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prependTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$love&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;外部插入
|表达式|备注|
|-----|----|
|A.after(B)  | 将B插入到A后面（同级）|
|A.before(B) | 将B插入到A前面 |
|A.insertAfter(B) | 将A插入到B后面（同级）|
|A.insertBefore(B) | 将A插入到B前面|&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#city&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$p2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#p2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertAfter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;删除&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;empty()  清空标签体&lt;br&gt;
remove() 删除当前对象。如果之后再使用，元素本身保留，绑定事件 或 绑定数据 都会被移除&lt;br&gt;
detach() 删除当前对象。如果之后再使用，元素本身保留，绑定事件 或 绑定数据 都保留&lt;/p&gt;

&lt;p&gt;绑定数据&lt;br&gt;
    data(name) 获得&lt;br&gt;
    data(name,value) 设置&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#city&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;嘿嘿&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//绑定数据&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#city&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;itheima&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;就是屌&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//移除绑定事件和绑定的数据&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//var $city = $(&quot;#city&quot;).remove();&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//保留事件和绑定的数据&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#city&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;detach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//获得绑定数据&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;itheima&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;复制&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;clone() 克隆&lt;br&gt;
    even ：指示事件处理函数是否会被复制。V1.5以上版本默认值是：false&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;替换
|表达式|备注|
|-----|----|
|A.replaceWith(B) | 使用A将B替换掉 |
|A.replaceAll(B) | 使用B将A替换掉 |&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//$(&quot;p&quot;).replaceWith(&quot;&amp;lt;a href='#'&amp;gt;点我啊&amp;lt;/a&amp;gt;&amp;lt;br/&amp;gt;&quot;)&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;a href='#'&amp;gt;点我啊&amp;lt;/a&amp;gt;&amp;lt;br/&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;p&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;包裹&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;表达式&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;A.wrap(B)&lt;/td&gt;
&lt;td&gt;使用B将每一个A进行包裹（多个B）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A.wrapAll(B)&lt;/td&gt;
&lt;td&gt;使用B将所有A进行包裹（一个B）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A.wrapInner(B)&lt;/td&gt;
&lt;td&gt;使用B将每一个A的标签体包裹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A.unwrap()&lt;/td&gt;
&lt;td&gt;将A的父元素删除，自己留着&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//$(&quot;strong&quot;).wrap(&quot;&amp;lt;div style='background-color: #96ffb8; width: 100px;height: 100px'&amp;gt;&amp;lt;/div&amp;gt;&quot;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//$(&quot;strong&quot;).wrapAll(&quot;&amp;lt;div style='background-color: #96ffb8; width: 100px;height: 100px'&amp;gt;&amp;lt;/div&amp;gt;&quot;)&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;strong&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wrapInner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;div style='background-color: #96ffb8; width: 100px;height: 100px'&amp;gt;&amp;lt;/div&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-14-crm03"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-14-crm03</id>
   <content type="html">&lt;h2 id=&quot;课程类别&quot;&gt;课程类别&lt;/h2&gt;

&lt;h6 id=&quot;jsp&quot;&gt;jsp&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;s:form namespace=&quot;/&quot; action=&quot;courseTypeAction_findAll&quot;&amp;gt;
    &amp;lt;table width=&quot;88%&quot; border=&quot;0&quot; class=&quot;emp_table&quot; style=&quot;width:80%;&quot;&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td width=&quot;10%&quot;&amp;gt;课程类别：&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;s:textfield name=&quot;courseName&quot; size=&quot;30&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td &amp;gt;课程简介：&amp;lt;/td&amp;gt;
        &amp;lt;td &amp;gt;&amp;lt;s:textfield name=&quot;remark&quot; size=&quot;30&quot; &amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
      &amp;lt;tr&amp;gt;  
        &amp;lt;td &amp;gt;总学时：&amp;lt;/td&amp;gt;
        &amp;lt;td &amp;gt;
            &amp;lt;s:textfield name=&quot;totalStart&quot; size=&quot;12&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;  
            至  
            &amp;lt;s:textfield name=&quot;totalEnd&quot; size=&quot;12&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;
        &amp;lt;/td&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;修改po类-crmcoursetype&quot;&gt;修改PO类 CrmCourseType&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    //查询条件 -- 一般查询条件都是字符串
    //1 总学时
    private String totalStart;
    private String totalEnd;
    //2课程费用
    private String courseCostStart;
    private String courseCostEnd;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;action获得条件&quot;&gt;action获得条件&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    /**
     * 查询所有
     * @return
     */
    public String findAll(){
        /*1简单查询
        List&amp;lt;CrmCourseType&amp;gt; allCourseType = this.courseTypeService.findAll();
        // * 查询结果存在值栈 , jsp 通过“#key”获得
        ActionContext.getContext().put(&quot;allCourseType&quot;, allCourseType);
        */

        /*2 条件查询
         */
        List&amp;lt;CrmCourseType&amp;gt; allCourseType = this.courseTypeService.findAll(courseType);
        ActionContext.getContext().put(&quot;allCourseType&quot;, allCourseType);

        return &quot;findAll&quot;;
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;service拼凑条件&quot;&gt;service拼凑条件&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;使用StringBuilder 拼凑字符串，所有的条件格式“ and 属性 运算符 ? ”&lt;br&gt;
    toString 转成字符串&lt;br&gt;
使用List拼凑实际参数，使用List特性：重复、有序&lt;br&gt;
    toArray 转成数组&lt;br&gt;
commons-lang3 提供 StringUtils工具类  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
    public List&amp;lt;CrmCourseType&amp;gt; findAll(CrmCourseType courseType) {
        //1.1 拼凑查询条件
        StringBuilder builder = new StringBuilder();
        //1.2 拼凑实际参数 , 可以重复，顺序 --&amp;gt; List
        List&amp;lt;Object&amp;gt; paramsList = new ArrayList&amp;lt;Object&amp;gt;();

        //2 过滤条件
        // 2.1 课程类别
        if(StringUtils.isNotBlank(courseType.getCourseName())){
            builder.append(&quot; and courseName like ?&quot;);
            paramsList.add(&quot;%&quot;+courseType.getCourseName()+&quot;%&quot;);
        }
        // 2.2 课程简介
        if(StringUtils.isNotBlank(courseType.getRemark())){
            builder.append(&quot; and remark like ?&quot;);
            paramsList.add(&quot;%&quot;+courseType.getRemark()+&quot;%&quot;);
        }
        // 2.3 总学时：
        if(StringUtils.isNotBlank(courseType.getTotalStart())){
            builder.append(&quot; and total &amp;gt;= ?&quot;);
            paramsList.add(Integer.parseInt(courseType.getTotalStart()));
        }
        if(StringUtils.isNotBlank(courseType.getTotalEnd())){
            builder.append(&quot; and total &amp;lt;= ?&quot;);
            paramsList.add(Integer.parseInt(courseType.getTotalEnd()));
        }
        // 2.4课程费用
        if(StringUtils.isNotBlank(courseType.getCourseCostStart())){
            builder.append(&quot; and courseCost &amp;gt;= ?&quot;);
            paramsList.add(Double.parseDouble(courseType.getCourseCostStart()));
        }
        if(StringUtils.isNotBlank(courseType.getCourseCostEnd())){
            builder.append(&quot; and courseCost &amp;lt;= ?&quot;);
            paramsList.add(Double.parseDouble(courseType.getCourseCostEnd()));
        }



        //3 使用
        // 条件 , 格式：&quot; and ..? and ...&quot;
        String condition = builder.toString();
        // 实际参数
        Object[] params = paramsList.toArray();

        return courseTypeDao.findAll(condition, params);
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;dao查询&quot;&gt;dao查询&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;service拼凑查询条件，dao直接使用，通过where 1=1 产生一个恒定条件&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    @Override
    public List&amp;lt;CrmCourseType&amp;gt; findAll(String condition, Object[] params) {
        String hql = &quot;from CrmCourseType where 1=1 &quot; + condition;
        return this.getHibernateTemplate().find(hql , params);
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### 分页查询







## 课程类别添加或编辑
&amp;gt; 1.dao ，hibernate 提供 saveOrUpdate()
    代理主键 uuid
        如果没有OID，值为null，底层执行save() ，及insert语句
        如果有OID，有值，底层执行update()，及update语句。
    查询详情
&amp;gt; 2.service  需要事务管理器 （add、update、delete、find）
    addOrEdit
&amp;gt;3.action 类
    addOrEditUI 显示jsp
        如果是更新，需要通过id查询详情  findById()
    addOrEdit
        直接保存或更新，注意：如果更新需要传递id值
&amp;gt; 4.jsp
    添加，直接显示jsp页面
    编辑，传递id值，通过id查询，显示jsp页面


###### dao
&amp;gt; 编辑需要查询
&amp;gt; 添加和编辑直接执行saveOrUpdate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
public CrmCourseType findById(String courseTypeId) {
    return this.getHibernateTemplate().get(CrmCourseType.class, courseTypeId);
}

@Override
public void saveOrUpdate(CrmCourseType courseType) {
    this.getHibernateTemplate().saveOrUpdate(courseType);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
public CrmCourseType findById(String courseTypeId) {
    return this.courseTypeDao.findById(courseTypeId);
}
@Override
public void addOrEdit(CrmCourseType courseType) {
    this.courseTypeDao.saveOrUpdate(courseType);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;######  action
&amp;gt;   添加需要显示jsp，不进行查询
&amp;gt;   更新需要显示jsp，进行查询，使用id进行区分。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;/**&lt;br&gt;
     * 添加或编辑显示jsp页面&lt;br&gt;
     * @return&lt;br&gt;
     */&lt;br&gt;
    public String addOrEditUI(){&lt;br&gt;
        //如果有id就是编辑，编辑需要查询详情&lt;br&gt;
        if(StringUtils.isNotBlank(this.courseType.getCourseTypeId())){&lt;br&gt;
            //将查询的详情压入到栈顶，方便标签自动的回显&lt;br&gt;
            CrmCourseType findCourseType = this.courseTypeService.findById(this.courseType.getCourseTypeId());&lt;br&gt;
            ActionContext.getContext().getValueStack().push(findCourseType);&lt;br&gt;
        }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    return &quot;addOrEditUI&quot;;
}

/**
 * 添加或编辑 功能
 * @return
 */
public String addOrEdit(){
    this.courseTypeService.addOrEdit(courseType);
    return &quot;addOrEdit&quot;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;##### jsp页面
&amp;gt; 使用标签进行回显
&amp;gt; 提供隐藏字段进行更新，添加不需要

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;s:form namespace=&quot;/&quot; action=&quot;courseTypeAction_addOrEdit&quot;&gt;&lt;br&gt;
    &amp;lt;%--隐藏域 ,如果有值，及更新时才显示--%&amp;gt;&lt;br&gt;
    &lt;s:if test=&quot;courseTypeId != null&quot;&gt;&lt;br&gt;
        &lt;s:hidden name=&quot;courseTypeId&quot; value=&quot;%{courseTypeId}&quot;&gt;&lt;a href=&quot;/s:hidden&quot;&gt;/s:hidden&lt;/a&gt;&lt;br&gt;
    &lt;a href=&quot;/s:if&quot;&gt;/s:if&lt;/a&gt;&lt;br&gt;
    &lt;table width=&quot;88%&quot; border=&quot;0&quot; class=&quot;emp_table&quot; style=&quot;width:80%;&quot;&gt;&lt;br&gt;
      &lt;tr&gt;&lt;br&gt;
        &lt;td width=&quot;10%&quot;&gt;课程类别：&lt;/td&gt;&lt;br&gt;
        &lt;td width=&quot;20%&quot;&gt;&lt;s:textfield name=&quot;courseName&quot;&gt;&lt;a href=&quot;/s:textfield&quot;&gt;/s:textfield&lt;/a&gt;&lt;/td&gt;&lt;br&gt;
        &lt;td width=&quot;8%&quot;&gt;总学时：&lt;/td&gt;&lt;br&gt;
        &lt;td width=&quot;62%&quot;&gt;&lt;s:textfield name=&quot;total&quot;&gt;&lt;a href=&quot;/s:textfield&quot;&gt;/s:textfield&lt;/a&gt;&lt;/td&gt;&lt;br&gt;
      &lt;/tr&gt;&lt;br&gt;
      &lt;tr&gt;&lt;br&gt;
        &lt;td&gt;课程费用：&lt;/td&gt;&lt;br&gt;
        &lt;td&gt;&lt;s:textfield name=&quot;courseCost&quot;&gt;&lt;a href=&quot;/s:textfield&quot;&gt;/s:textfield&lt;/a&gt;&lt;/td&gt;&lt;br&gt;
        &lt;td&gt;&lt;/td&gt;&lt;br&gt;
        &lt;td&gt;&lt;/td&gt;&lt;br&gt;
      &lt;/tr&gt;&lt;br&gt;
      &lt;tr&gt;&lt;br&gt;
        &lt;td&gt;课程简介：&lt;/td&gt;&lt;br&gt;
        &lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;br&gt;
        &lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;br&gt;
        &lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;br&gt;
      &lt;/tr&gt;&lt;br&gt;
      &lt;tr&gt;&lt;br&gt;
        &lt;td colspan=&quot;4&quot;&gt;&lt;br&gt;
            &lt;s:textarea name=&quot;remark&quot; cols=&quot;60&quot; rows=&quot;10&quot; &gt;&lt;a href=&quot;/s:textarea&quot;&gt;/s:textarea&lt;/a&gt;&lt;br&gt;
        &lt;/td&gt;&lt;br&gt;
      &lt;/tr&gt;&lt;br&gt;
    &lt;/table&gt;&lt;br&gt;
&lt;a href=&quot;/s:form&quot;&gt;/s:form&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;





## BaseAction
&amp;gt; 1.封装数据
&amp;gt; 2.所有的service
&amp;gt; 3.分页
&amp;gt; 4.值栈简化操作

####    封装数据
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class BaseAction&lt;T&gt; extends ActionSupport implements ModelDriven&lt;T&gt; {&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;//1 封装数据
private T t;
@Override
public T getModel() {
    return t;
}
// 1.1 实例化t
public BaseAction() {
    try {
        //1 获得T运行时Class
        ParameterizedType paramType = (ParameterizedType) this.getClass().getGenericSuperclass();
        Class&amp;lt;T&amp;gt; clazz = (Class&amp;lt;T&amp;gt;) paramType.getActualTypeArguments()[0];
        //2 反射创建实例
        t = clazz.newInstance();
    } catch (Exception e) {
        throw new RuntimeException(e);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;######  service注入
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//2 spring注入service，多个&lt;br&gt;
    // * 提供setter方法，让spring进行注入的&lt;br&gt;
    // * 提供getter方法，让子类可以获得spring注入的对象的。&lt;br&gt;
    //员工&lt;br&gt;
    private StaffService staffService;&lt;br&gt;
    public void setStaffService(StaffService staffService) {&lt;br&gt;
        this.staffService = staffService;&lt;br&gt;
    }&lt;br&gt;
    public StaffService getStaffService() {&lt;br&gt;
        return staffService;&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;//职务
private PostService postService;
public PostService getPostService() {
    return postService;
}
public void setPostService(PostService postService) {
    this.postService = postService;
}
//部门
private DepartmentService departmentService;
public DepartmentService getDepartmentService() {
    return departmentService;
}
public void setDepartmentService(DepartmentService departmentService) {
    this.departmentService = departmentService;
}

//课程类别
private CourseTypeService courseTypeService;
public void setCourseTypeService(CourseTypeService courseTypeService) {
    this.courseTypeService = courseTypeService;
}
public CourseTypeService getCourseTypeService() {
    return courseTypeService;
}
//班级
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;######  分页
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//3 分页数据&lt;br&gt;
    private int pageNum = 1;&lt;br&gt;
    public void setPageNum(int pageNum) {&lt;br&gt;
        this.pageNum = pageNum;&lt;br&gt;
    }&lt;br&gt;
    public int getPageNum() {&lt;br&gt;
        return pageNum;&lt;br&gt;
    }&lt;br&gt;
    private int pageSize = 2;  //固定值&lt;br&gt;
    public void setPageSize(int pageSize) {&lt;br&gt;
        this.pageSize = pageSize;&lt;br&gt;
    }&lt;br&gt;
    public int getPageSize() {&lt;br&gt;
        return pageSize;&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### 简化值栈操作
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//4 简化值栈操作&lt;br&gt;
    public void push(Object o){&lt;br&gt;
        ActionContext.getContext().getValueStack().push(o);&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public void set(String key ,Object o){
    ActionContext.getContext().getValueStack().set(key, o);
}

public void put(String key, Object value){
    ActionContext.getContext().put(key, value);
}

public void putSession(String key, Object value){
    ActionContext.getContext().getSession().put(key, value);
}

public void putApplication(String key, Object value){
    ActionContext.getContext().getApplication().put(key, value);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## 上传/下载

###### 班级查询
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;1.dao  --&amp;gt; BaseDao  / BaseDaoImpl&lt;br&gt;
2.service&lt;br&gt;
3.spring配置 , 完成BaseAction&lt;br&gt;
4.action  --&amp;gt; BaseAction&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;jsp  xml  action
```&lt;/li&gt;
&lt;/ol&gt;

&lt;h6 id=&quot;文件上传&quot;&gt;文件上传&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;0.通过id查询详情
1.表单 &amp;lt;form method=&quot;post&quot;  enctype=&quot;multipart/form-data&quot;&amp;gt;
            &amp;lt;input type=&quot;file&quot; name=&quot;schedule&quot;&amp;gt;
2.action类
    private File schedule;  // 内容
    private String scheduleFileName;    // 文件名
    private String scheduleContentType; // 类型
    提供setter方法即可
3.将课表保存到硬盘，将路径、文件名、更新时间  更新到数据库

4.拦截器设置
&amp;lt;!-- 给拦截器栈中的某一个拦截器注入内容时，
                    格式：拦截器.属性 = 值
                --&amp;gt;
                &amp;lt;interceptor-ref name=&quot;defaultStack&quot;&amp;gt;
                    &amp;lt;param name=&quot;fileUpload.allowedExtensions&quot;&amp;gt;.xls,.xlsx&amp;lt;/param&amp;gt;
                &amp;lt;/interceptor-ref&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;下载&quot;&gt;下载&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;struts.xml result 提供stream类型
    inputName  设置InputStream 获得 属性值，需要提供getter方法
    contentDisposition 设置  attachment;filename=${imageFileName} 获得文件名称
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-12-crm02"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-12-crm02</id>
   <content type="html">&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;员工编辑
8.1.1   编辑前：通过id查询
8.1.1.1 staff dao
    @Override
    public CrmStaff findById(String staffId) {
        return this.getHibernateTemplate().get(CrmStaff.class, staffId);
    }

8.1.1.2 staff service
    @Override
    public CrmStaff findById(String staffId) {
        return this.staffDao.findById(staffId);
    }

8.1.1.3 action 类
    /**
     * 编辑前操作
     * @return
     */
    public String editUI(){
        //1 通过id查询员工
        CrmStaff findStaff = this.staffService.findById(staff.getStaffId());
        ActionContext.getContext().getValueStack().push(findStaff);

8.1.2   jsp普通数据回显
&amp;lt;td&amp;gt;登录名：&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;s:textfield name=&quot;loginName&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;密码：&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;s:password name=&quot;loginPwd&quot; showPassword=&quot;true&quot;&amp;gt;&amp;lt;/s:password&amp;gt; &amp;lt;/td&amp;gt;

8.1.3   部门回显
8.1.3.1 department dao
public class DepartmentDaoImpl extends HibernateDaoSupport implements DepartmentDao {

    @Override
    public List&amp;lt;CrmDepartment&amp;gt; findAll() {
        return this.getHibernateTemplate().find(&quot;from CrmDepartment&quot;);
    }


8.1.3.2 department service
public class DepartmentServiceImpl implements DepartmentService {

    private DepartmentDao departmentDao;
    public void setDepartmentDao(DepartmentDao departmentDao) {
        this.departmentDao = departmentDao;
    }
    @Override
    public List&amp;lt;CrmDepartment&amp;gt; findAll() {
        return departmentDao.findAll();
    }

}

8.1.3.3 spring配置
λ  每一个模块单独使用xml，注意：applicationContext.xml import

&amp;lt;!-- 部门配置项：dao、service --&amp;gt;

    &amp;lt;bean id=&quot;departmentDao&quot; class=&quot;com.itheima.crm.department.dao.impl.DepartmentDaoImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;bean id=&quot;departmentService&quot; class=&quot;com.itheima.crm.department.service.impl.DepartmentServiceImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;departmentDao&quot; ref=&quot;departmentDao&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;


8.1.3.4 action类
    /**
     * 编辑前操作
     * @return
     */
    public String editUI(){
        //1 通过id查询员工
        CrmStaff findStaff = this.staffService.findById(staff.getStaffId());
        ActionContext.getContext().getValueStack().push(findStaff);

        //2 查询所有部门
        List&amp;lt;CrmDepartment&amp;gt; allDepartment = departmentService.findAll();
        // * jsp页面通过“key”获得
        ActionContext.getContext().getValueStack().set(&quot;allDepartment&quot;,allDepartment);

        return &quot;editUI&quot;;
    }

8.1.3.5 jsp显示
λ  listKey 和 listValue  获得当前列表项使用javabean某一个属性的值
λ  name ，通过name从值栈获得数据，如果listKey确定的数据一致，将回显

&amp;lt;s:select list=&quot;allDepartment&quot; name=&quot;post.department.depId&quot;
                listKey=&quot;depId&quot; listValue=&quot;depName&quot;
                headerKey=&quot;&quot; headerValue=&quot;----请--选--择----&quot;
            &amp;gt;
            &amp;lt;/s:select&amp;gt;

8.1.4   职务的回显
λ  当前员工的职务，所属的部门，此部门下的所有职务 。post.department.postSet

&amp;lt;s:select list=&quot;post != null ? post.department.postSet : {}&quot; name=&quot;post.postId&quot;
                listKey=&quot;postId&quot; listValue=&quot;postName&quot;
                headerKey=&quot;&quot; headerValue=&quot;----请--选--择----&quot;
            &amp;gt;&amp;lt;/s:select&amp;gt;

8.2 ajax二级联动
8.2.1   分析


8.2.2   查询职务
8.2.2.1 dao层
public class PostDaoImpl extends HibernateDaoSupport implements PostDao {

    @Override
    public List&amp;lt;CrmPost&amp;gt; findAll(CrmDepartment department) {
        return this.getHibernateTemplate().find(&quot;from CrmPost where department = ?&quot;, department);
    }

}

8.2.2.2 service层
public class PostServiceImpl implements PostService {
    private PostDao postDao;
    public void setPostDao(PostDao postDao) {
        this.postDao = postDao;
    }
    @Override
    public List&amp;lt;CrmPost&amp;gt; findAll(CrmDepartment department) {
        return postDao.findAll(department);
    }

}


8.2.2.3 spring配置
    &amp;lt;!-- 部门配置项：dao、service --&amp;gt;

    &amp;lt;bean id=&quot;postDao&quot; class=&quot;com.itheima.crm.post.dao.impl.PostDaoImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;bean id=&quot;postService&quot; class=&quot;com.itheima.crm.post.service.impl.PostServiceImpl&quot;&amp;gt;
        &amp;lt;property name=&quot;postDao&quot; ref=&quot;postDao&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;


8.2.2.4 action 类
λ  公共
public class PostAction extends ActionSupport implements ModelDriven&amp;lt;CrmPost&amp;gt; {
    //封装数据
    private CrmPost post = new CrmPost();
    @Override
    public CrmPost getModel() {
        return post;
    }
    // service
    private PostService postService;
    public void setPostService(PostService postService) {
        this.postService = postService;
    }
    ///////////////////////////////////////////////

λ  功能：需要排除关联对象，响应的中文乱码
/**
     * ajax 通过部门 ，查询所有的职务
     * @return
     * @throws IOException
     */
    public String findAllWithDepartment() throws IOException{
        //1 查询
        List&amp;lt;CrmPost&amp;gt; allPost = this.postService.findAll(post.getDepartment());

        //2 将java对象 转换 json数据

        //2.1 排除不需要数据
        JsonConfig jsonConfig = new JsonConfig();
        jsonConfig.setExcludes(new String[]{&quot;department&quot;,&quot;staffSet&quot;});
        //2.2 转换
        String jsonData = JSONArray.fromObject(allPost,jsonConfig).toString();

        //3 将json数据发送给浏览器
        //3.1 响应中文乱码
        ServletActionContext.getResponse().setContentType(&quot;text/html;charset=UTF-8&quot;);
        //3.2 发送
        ServletActionContext.getResponse().getWriter().print(jsonData);

        return &quot;none&quot;;
    }

8.2.2.5 struts配置
&amp;lt;!-- 员工配置 --&amp;gt;
    &amp;lt;package name=&quot;pos&quot; namespace=&quot;/&quot; extends=&quot;common&quot;&amp;gt;
        &amp;lt;action name=&quot;postAction_*&quot; class=&quot;com.itheima.crm.post.web.action.PostAction&quot; method=&quot;{1}&quot;&amp;gt;
        &amp;lt;/action&amp;gt;
    &amp;lt;/package&amp;gt;






8.2.3   json数据生成
λ  将采用json-lib 工具生成
λ  导入jar包：（注意：重复）

λ  api使用：
    JavaBean 或 Map ：JSONObject.fromObject(...).toString();
    List 或 Array：JSONArray.fromObject(...).toString();

8.2.4   发送 ajax 请求
λ  /ee19_crm/WebRoot/WEB-INF/pages/staff/editStaff.jsp
λ  步骤：
    1.获得当前选中部门
    2.发送ajax查询职务（获得引擎、设置回调、开发连接、发送请求）
    3.获得数据后，将数据添加到职务的select标签中。


&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
        function showPost(obj){
            //1 获得选中部门
            var depId = obj.value;
            //2 发送ajax，通过部门查询职务
            //2.1 获得引擎
            var xmlhttp=null;
            if (window.XMLHttpRequest){// code for all new browsers
              xmlhttp=new XMLHttpRequest();
            } else if (window.ActiveXObject) {// code for IE5 and IE6
              xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
            }

            //2.2 设置回调函数
            xmlhttp.onreadystatechange = function(){
                //请求完成，正常响应
                if(xmlhttp.readyState == 4 &amp;amp;&amp;amp; xmlhttp.status == 200){
                    //3 获得数据，并展示 ,手动ajax 获得 json数据 字符串
                    var textData = xmlhttp.responseText;
                    //3.1 将字符串 手动 转换 json对象
                    var jsonData = eval(&quot;(&quot;+textData+&quot;)&quot;);

                    // 获得select对象
                    var postSelectElement = document.getElementById(&quot;postSelectId&quot;);
                    postSelectElement.innerHTML = &quot;&amp;lt;option value=''&amp;gt;----请--选--择----&amp;lt;/option&amp;gt;&quot;;

                    //3.2 遍历
                    for(var i = 0 ; i &amp;lt; jsonData.length ; i++){
                        var postObj = jsonData[i];
                        // 获得职务id
                        var postId = postObj.postId;
                        // 获得职务名称
                        var postName = postObj.postName;

                        //3.3 将数显示到select标签
                        postSelectElement.innerHTML += &quot;&amp;lt;option value='&quot;+postId+&quot;'&amp;gt;&quot;+postName+&quot;&amp;lt;/option&amp;gt;&quot;;
                    }

                }
            };
            //2.3 创建连接
            var url = &quot;${pageContext.request.contextPath}/postAction_findAllWithDepartment?department.depId=&quot; + depId;
            xmlhttp.open(&quot;GET&quot;, url);
            //2.4 发送请求
            xmlhttp.send(null);
        }
    &amp;lt;/script&amp;gt;



8.3 更新功能
8.3.1   完善表单
λ  填写表单提交位置，添加隐藏字段
&amp;lt;s:form namespace=&quot;/&quot; action=&quot;staffAction_edit&quot;&amp;gt;
    &amp;lt;%--隐藏域，存放用户id --%&amp;gt;
    &amp;lt;s:hidden name=&quot;staffId&quot; value=&quot;%{staffId}&quot;&amp;gt;&amp;lt;/s:hidden&amp;gt;

λ  添加javascript click事件，提交表单
&amp;lt;a href=&quot;javascript:void(0)&quot; onclick=&quot;document.forms[0].submit()&quot;&amp;gt;
        &amp;lt;img src=&quot;${pageContext.request.contextPath}/images/button/save.gif&quot; /&amp;gt;
       &amp;lt;/a&amp;gt;

8.3.2   修改action
    /**
     * 编辑
     * @return
     */
    public String edit(){
        this.staffService.updateStaff(staff);
        return &quot;edit&quot;;
    }

8.3.3   编写service
λ  采用 hibernate的 快照 和一级缓存
public void updateStaff(CrmStaff staff) {
        /* 1 方法1：判断密码是否32长度，
         * * 如果是，密码没有修改，之前（加密后的）
         * * 如果不是，密码已经修改了，之后（需要加密）
         */

        /* 2 方式2：不更新密码
         * * dao.update(staff)，默认更新所有的数据
         * * CrmStaff.hbm.xml 配置密码不参加更新 , &amp;lt;property name=&quot;loginPwd&quot; update=&quot;false&quot;&amp;gt;&amp;lt;/property&amp;gt;
         */

        /* 3 方法3：先通过id查询，比较密码是否一致
         * * 如果不一致，对密码进行MD5加密
         * * 将出OID之外的数据，全部设置
         * * 原因：一级缓存被修改了，与快照不一致，默认情况下，当提交，自动执行update语句。
         */
        CrmStaff findStaff = staffDao.findById(staff.getStaffId());
        if(! findStaff.getLoginPwd().equals(staff.getLoginPwd())){
            findStaff.setLoginPwd(MyStringUtils.getMD5Value(staff.getLoginPwd()));
        }
        findStaff.setLoginName(staff.getLoginName());
        findStaff.setStaffName(staff.getStaffName());
        findStaff.setGender(staff.getGender());
        findStaff.setOnDutyDate(staff.getOnDutyDate());
        findStaff.setPost(staff.getPost());

    }

8.3.4   struts配置
&amp;lt;!-- 6 编辑成功
                * 重定向可以注入详细配置
                * 默认使用
                    &amp;lt;result name=&quot;success&quot; type=&quot;redirectAction&quot;&amp;gt;staffAction_home&amp;lt;/result&amp;gt;
                    给actionName进行注入
            --&amp;gt;
            &amp;lt;result name=&quot;edit&quot; type=&quot;redirectAction&quot;&amp;gt;
                &amp;lt;param name=&quot;namespace&quot;&amp;gt;/&amp;lt;/param&amp;gt;
                &amp;lt;param name=&quot;actionName&quot;&amp;gt;staffAction_findAll&amp;lt;/param&amp;gt;
            &amp;lt;/result&amp;gt;


9   课程类别
9.1 查询所有
1.dao
2.service
3.spring
4.action class
5.struts
6.jsp


9.2 条件查询
9.2.1   分析

9.2.2   jsp表单
  和 执行的都是findAll()查询

&amp;lt;s:form namespace=&quot;/&quot; action=&quot;courseTypeAction_findAll&quot;&amp;gt;
    &amp;lt;table width=&quot;88%&quot; border=&quot;0&quot; class=&quot;emp_table&quot; style=&quot;width:80%;&quot;&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td width=&quot;10%&quot;&amp;gt;课程类别：&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;s:textfield name=&quot;courseName&quot; size=&quot;30&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td &amp;gt;课程简介：&amp;lt;/td&amp;gt;
        &amp;lt;td &amp;gt;&amp;lt;s:textfield name=&quot;remark&quot; size=&quot;30&quot; &amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
      &amp;lt;tr&amp;gt;  
        &amp;lt;td &amp;gt;总学时：&amp;lt;/td&amp;gt;
        &amp;lt;td &amp;gt;
            &amp;lt;s:textfield name=&quot;totalStart&quot; size=&quot;12&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;  
            至  
            &amp;lt;s:textfield name=&quot;totalEnd&quot; size=&quot;12&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;
        &amp;lt;/td&amp;gt;


9.2.3   修改PO类 CrmCourseType
    //查询条件 -- 一般查询条件都是字符串
    //1 总学时
    private String totalStart;
    private String totalEnd;
    //2课程费用
    private String courseCostStart;
    private String courseCostEnd;


9.2.4   action获得条件
    /**
     * 查询所有
     * @return
     */
    public String findAll(){
        /*1简单查询
        List&amp;lt;CrmCourseType&amp;gt; allCourseType = this.courseTypeService.findAll();
        // * 查询结果存在值栈 , jsp 通过“#key”获得
        ActionContext.getContext().put(&quot;allCourseType&quot;, allCourseType);
        */

        /*2 条件查询
         */
        List&amp;lt;CrmCourseType&amp;gt; allCourseType = this.courseTypeService.findAll(courseType);
        ActionContext.getContext().put(&quot;allCourseType&quot;, allCourseType);

        return &quot;findAll&quot;;
    }

9.2.5   service拼凑条件
λ  使用StringBuilder 拼凑字符串，所有的条件格式“ and 属性 运算符 ? ”
    toString 转成字符串
λ  使用List拼凑实际参数，使用List特性：重复、有序
    toArray 转成数组
λ  commons-lang3 提供 StringUtils工具类  

@Override
    public List&amp;lt;CrmCourseType&amp;gt; findAll(CrmCourseType courseType) {
        //1.1 拼凑查询条件
        StringBuilder builder = new StringBuilder();
        //1.2 拼凑实际参数 , 可以重复，顺序 --&amp;gt; List
        List&amp;lt;Object&amp;gt; paramsList = new ArrayList&amp;lt;Object&amp;gt;();

        //2 过滤条件
        // 2.1 课程类别
        if(StringUtils.isNotBlank(courseType.getCourseName())){
            builder.append(&quot; and courseName like ?&quot;);
            paramsList.add(&quot;%&quot;+courseType.getCourseName()+&quot;%&quot;);
        }
        // 2.2 课程简介
        if(StringUtils.isNotBlank(courseType.getRemark())){
            builder.append(&quot; and remark like ?&quot;);
            paramsList.add(&quot;%&quot;+courseType.getRemark()+&quot;%&quot;);
        }
        // 2.3 总学时：
        if(StringUtils.isNotBlank(courseType.getTotalStart())){
            builder.append(&quot; and total &amp;gt;= ?&quot;);
            paramsList.add(Integer.parseInt(courseType.getTotalStart()));
        }
        if(StringUtils.isNotBlank(courseType.getTotalEnd())){
            builder.append(&quot; and total &amp;lt;= ?&quot;);
            paramsList.add(Integer.parseInt(courseType.getTotalEnd()));
        }
        // 2.4课程费用
        if(StringUtils.isNotBlank(courseType.getCourseCostStart())){
            builder.append(&quot; and courseCost &amp;gt;= ?&quot;);
            paramsList.add(Double.parseDouble(courseType.getCourseCostStart()));
        }
        if(StringUtils.isNotBlank(courseType.getCourseCostEnd())){
            builder.append(&quot; and courseCost &amp;lt;= ?&quot;);
            paramsList.add(Double.parseDouble(courseType.getCourseCostEnd()));
        }



        //3 使用
        // 条件 , 格式：&quot; and ..? and ...&quot;
        String condition = builder.toString();
        // 实际参数
        Object[] params = paramsList.toArray();

        return courseTypeDao.findAll(condition, params);
    }




9.2.6   dao查询
λ  service拼凑查询条件，dao直接使用，通过where 1=1 产生一个恒定条件
    @Override
    public List&amp;lt;CrmCourseType&amp;gt; findAll(String condition, Object[] params) {
        String hql = &quot;from CrmCourseType where 1=1 &quot; + condition;
        return this.getHibernateTemplate().find(hql , params);
    }


9.3 分页查询







9.4 课程类别添加或编辑
1.dao ，hibernate 提供 saveOrUpdate()
    代理主键 uuid
        如果没有OID，值为null，底层执行save() ，及insert语句
        如果有OID，有值，底层执行update()，及update语句。
    查询详情
2.service  需要事务管理器 （add、update、delete、find）
    addOrEdit
3.action 类
    addOrEditUI 显示jsp
        如果是更新，需要通过id查询详情  findById()
    addOrEdit
        直接保存或更新，注意：如果更新需要传递id值
4.jsp
    添加，直接显示jsp页面
    编辑，传递id值，通过id查询，显示jsp页面


9.4.1   dao
λ  编辑需要查询
λ  添加和编辑直接执行saveOrUpdate
    @Override
    public CrmCourseType findById(String courseTypeId) {
        return this.getHibernateTemplate().get(CrmCourseType.class, courseTypeId);
    }

    @Override
    public void saveOrUpdate(CrmCourseType courseType) {
        this.getHibernateTemplate().saveOrUpdate(courseType);
    }


9.4.2   service
    @Override
    public CrmCourseType findById(String courseTypeId) {
        return this.courseTypeDao.findById(courseTypeId);
    }
    @Override
    public void addOrEdit(CrmCourseType courseType) {
        this.courseTypeDao.saveOrUpdate(courseType);
    }

9.4.3   action
λ  添加需要显示jsp，不进行查询
λ  更新需要显示jsp，进行查询，使用id进行区分。
/**
     * 添加或编辑显示jsp页面
     * @return
     */
    public String addOrEditUI(){
        //如果有id就是编辑，编辑需要查询详情
        if(StringUtils.isNotBlank(this.courseType.getCourseTypeId())){
            //将查询的详情压入到栈顶，方便标签自动的回显
            CrmCourseType findCourseType = this.courseTypeService.findById(this.courseType.getCourseTypeId());
            ActionContext.getContext().getValueStack().push(findCourseType);
        }

        return &quot;addOrEditUI&quot;;
    }

    /**
     * 添加或编辑 功能
     * @return
     */
    public String addOrEdit(){
        this.courseTypeService.addOrEdit(courseType);
        return &quot;addOrEdit&quot;;
    }

9.4.4   jsp页面
λ  使用标签进行回显
λ  提供隐藏字段进行更新，添加不需要


&amp;lt;s:form namespace=&quot;/&quot; action=&quot;courseTypeAction_addOrEdit&quot;&amp;gt;
    &amp;lt;%--隐藏域 ,如果有值，及更新时才显示--%&amp;gt;
    &amp;lt;s:if test=&quot;courseTypeId != null&quot;&amp;gt;
        &amp;lt;s:hidden name=&quot;courseTypeId&quot; value=&quot;%{courseTypeId}&quot;&amp;gt;&amp;lt;/s:hidden&amp;gt;
    &amp;lt;/s:if&amp;gt;
    &amp;lt;table width=&quot;88%&quot; border=&quot;0&quot; class=&quot;emp_table&quot; style=&quot;width:80%;&quot;&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td width=&quot;10%&quot;&amp;gt;课程类别：&amp;lt;/td&amp;gt;
        &amp;lt;td width=&quot;20%&quot;&amp;gt;&amp;lt;s:textfield name=&quot;courseName&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
        &amp;lt;td width=&quot;8%&quot;&amp;gt;总学时：&amp;lt;/td&amp;gt;
        &amp;lt;td width=&quot;62%&quot;&amp;gt;&amp;lt;s:textfield name=&quot;total&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td&amp;gt;课程费用：&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;s:textfield name=&quot;courseCost&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td&amp;gt;课程简介：&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;
        &amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
      &amp;lt;tr&amp;gt;
        &amp;lt;td colspan=&quot;4&quot;&amp;gt;
            &amp;lt;s:textarea name=&quot;remark&quot; cols=&quot;60&quot; rows=&quot;10&quot; &amp;gt;&amp;lt;/s:textarea&amp;gt;
        &amp;lt;/td&amp;gt;
      &amp;lt;/tr&amp;gt;
    &amp;lt;/table&amp;gt;
&amp;lt;/s:form&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-6-11-crm01"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-6-11-crm01</id>
   <content type="html">&lt;h2 id=&quot;crm&quot;&gt;CRM&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;CRM : custom releation manager  客户关系管理系统，用于维护客户和公司之间关系
学校 和 大家 之间关系
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;目录规范&quot;&gt;目录规范&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;com.itheima.crm.子模块.分层


com.itheima.crm.staff.dao.impl      员工dao层和实现类
com.itheima.crm.staff.service.impl      员工service层和实现类
com.itheima.crm.staff.web.action        员工web
com.itheima.crm.staff.domain        员工javabean
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;源码文件夹&quot;&gt;源码文件夹&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;和src一样&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&quot;spring-配置文件位置&quot;&gt;spring 配置文件位置&lt;/h5&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    config 源码文件夹 相当于src
         |
         |--spring
                    |
                    |--applicationContext 公共配置
                    |                   |
                    |                   |--&amp;lt;import  resource=&quot;模块配置&quot;/&amp;gt;
                    |               
                    |--applicationContext-staff.xml 模块配置
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;web-xml配置&quot;&gt;web.xml配置&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;  &amp;lt;!-- 1.1 spring配置文件位置
    * 方式1： 【建议】
        &amp;lt;param-value&amp;gt;classpath:spring/applicationContext.xml&amp;lt;/param-value&amp;gt;
        需要在applicationContext.xml 配置&amp;lt;import&amp;gt; 导入其他
    * 方式2：
        &amp;lt;param-value&amp;gt;classpath:spring/applicationContext*.xml&amp;lt;/param-value&amp;gt;
        加载所有，不需要配置&amp;lt;import&amp;gt;
  --&amp;gt;
  &amp;lt;context-param&amp;gt;
    &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;
    &amp;lt;param-value&amp;gt;classpath:spring/applicationContext.xml&amp;lt;/param-value&amp;gt;
  &amp;lt;/context-param&amp;gt;
  &amp;lt;!-- 1.2 加载spring配置文件使用监听器 --&amp;gt;
  &amp;lt;listener&amp;gt;
    &amp;lt;listener-class&amp;gt;org.springframework.web.context.ContextLoaderListener&amp;lt;/listener-class&amp;gt;
  &amp;lt;/listener&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;spring配置内容&quot;&gt;spring配置内容&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;!-- 公共配置项 --&amp;gt;
    &amp;lt;!-- 1.1 加载properties文件 --&amp;gt;
    &amp;lt;context:property-placeholder location=&quot;classpath:jdbcInfo.properties&quot;/&amp;gt;

    &amp;lt;!-- 1.2 配置数据源 --&amp;gt;
    &amp;lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&amp;gt;
        &amp;lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClass}&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.jdbcUrl}&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;user&quot; value=&quot;${jdbc.user}&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!-- 2. 配置SessionFactory --&amp;gt;
    &amp;lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&amp;gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&amp;gt;&amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;hibernateProperties&quot;&amp;gt;
            &amp;lt;props&amp;gt;
                &amp;lt;prop key=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.MySQL5Dialect&amp;lt;/prop&amp;gt;
                &amp;lt;prop key=&quot;hibernate.show_sql&quot;&amp;gt;true&amp;lt;/prop&amp;gt;
                &amp;lt;prop key=&quot;hibernate.format_sql&quot;&amp;gt;true&amp;lt;/prop&amp;gt;
            &amp;lt;/props&amp;gt;
        &amp;lt;/property&amp;gt;
        &amp;lt;property name=&quot;mappingLocations&quot; value=&quot;classpath:com/itheima/crm/*/domain/*.hbm.xml&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!-- 3.事务管理 --&amp;gt;
    &amp;lt;!-- 3.1 事务管理器 --&amp;gt;
    &amp;lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&amp;gt;
        &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
    &amp;lt;!-- 3.2 事务详情  
        * 增删改：读写；查询：只读
    --&amp;gt;
    &amp;lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;txManager&quot;&amp;gt;
        &amp;lt;tx:attributes&amp;gt;
            &amp;lt;tx:method name=&quot;add*&quot;/&amp;gt;
            &amp;lt;tx:method name=&quot;update*&quot;/&amp;gt;
            &amp;lt;tx:method name=&quot;delete*&quot;/&amp;gt;
            &amp;lt;tx:method name=&quot;find*&quot; read-only=&quot;true&quot;/&amp;gt;
        &amp;lt;/tx:attributes&amp;gt;
    &amp;lt;/tx:advice&amp;gt;
    &amp;lt;!-- 3.3 aop编程  
        * 强制cglib ：  proxy-target-class=&quot;true&quot;
    --&amp;gt;
    &amp;lt;aop:config&amp;gt;
        &amp;lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut=&quot;execution(* com.itheima.crm.*.service..*.*(..))&quot;/&amp;gt;
    &amp;lt;/aop:config&amp;gt;


    &amp;lt;!-- 导入其他配置文件 --&amp;gt;
    &amp;lt;import resource=&quot;applicationContext-staff.xml&quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;struts-配置&quot;&gt;struts 配置&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;配置文件位置

struts.xml 加载其他 xml

其他xml 配置 ，继承 struts.xml配置的公共项
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;web-xml配置&quot;&gt;web.xml配置&lt;/h5&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;  &amp;lt;!-- 2 struts 前端控制器 --&amp;gt;
  &amp;lt;filter&amp;gt;
    &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;
    &amp;lt;filter-class&amp;gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&amp;lt;/filter-class&amp;gt;
  &amp;lt;/filter&amp;gt;
  &amp;lt;filter-mapping&amp;gt;
    &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;
    &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;
  &amp;lt;/filter-mapping&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&quot;dao层&quot;&gt;dao层&lt;/h5&gt;

&lt;blockquote&gt;
&lt;p&gt;之后在spring配置dao层时，需要注入SessionFactory&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class StaffDaoImpl extends HibernateDaoSupport implements StaffDao {
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
public CrmStaff find(String loginName, String loginPwd) {
    List&amp;lt;CrmStaff&amp;gt; allStaff = this.getHibernateTemplate().find(&quot;from CrmStaff where loginName=? and loginPwd = ?&quot;, loginName,loginPwd);
    if(allStaff.size() == 1){
        return allStaff.get(0);
    }
    return null;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;######  service层
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class StaffServiceImpl implements StaffService {&lt;br&gt;
    private StaffDao staffDao;&lt;br&gt;
    public void setStaffDao(StaffDao staffDao) {&lt;br&gt;
        this.staffDao = staffDao;&lt;br&gt;
    }&lt;br&gt;
    @Override&lt;br&gt;
    public CrmStaff login(CrmStaff staff) {&lt;br&gt;
        //TODO  MD5加密&lt;br&gt;
        return staffDao.find(staff.getLoginName(), staff.getLoginPwd());&lt;br&gt;
    }&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;

###### spring配置
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;!-- 员工配置项：dao、service --&amp;gt;

&amp;lt;bean id=&quot;staffDao&quot; class=&quot;com.itheima.crm.staff.dao.impl.StaffDaoImpl&quot;&amp;gt;
    &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;

&amp;lt;bean id=&quot;staffService&quot; class=&quot;com.itheima.crm.staff.service.impl.StaffServiceImpl&quot;&amp;gt;
    &amp;lt;property name=&quot;staffDao&quot; ref=&quot;staffDao&quot;&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### jsp文件位置
&amp;gt; 所有的jsp页面存在WEB-INF目录下。 （不能通过浏览器直接访问）
    WEB-INF/page/模块/*.jsp


#####修改登录表单
&amp;gt;   /ee19_crm/WebRoot/WEB-INF/pages/login.jsp
&amp;gt;   表单是否需要struts标签，取决于：是否回显。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!-- 表单 --&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;            &amp;lt;s:form namespace=&quot;/&quot; action=&quot;staffAction_login&quot; &amp;gt;
                &amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;img src=&quot;${pageContext.request.contextPath}/images/title.png&quot; width=&quot;185&quot; height=&quot;26&quot;/&amp;gt;
                &amp;lt;br/&amp;gt;
                &amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;
                &amp;lt;font color=&quot;#ff0000&quot;&amp;gt;
                    &amp;lt;s:fielderror&amp;gt;&amp;lt;/s:fielderror&amp;gt;
                &amp;lt;/font&amp;gt;
                &amp;lt;br/&amp;gt;
                用户名：&amp;lt;s:textfield name=&quot;loginName&quot; cssClass=&quot;msg&quot;&amp;gt;&amp;lt;/s:textfield&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;
                密&amp;amp;nbsp;码：&amp;lt;s:password name=&quot;loginPwd&quot; cssClass=&quot;msg&quot; showPassword=&quot;true&quot;&amp;gt;&amp;lt;/s:password&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;
                &amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;
                &amp;lt;s:submit value=&quot;登录&quot; cssClass=&quot;btn&quot;&amp;gt;&amp;lt;/s:submit&amp;gt;

            &amp;lt;/s:form&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;##### struts-staff.xml配置
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;/ee19_crm/config/struts/struts-staff.xml&lt;br&gt;
    &lt;package name=&quot;sta&quot; namespace=&quot;/&quot; extends=&quot;common&quot;&gt;&lt;br&gt;
        &lt;action name=&quot;staffAction_*&quot; class=&quot;com.itheima.crm.staff.web.action.StaffAction&quot; method=&quot;{1}&quot;&gt;&lt;br&gt;
            &amp;lt;!-- 1 登录成功 --&amp;gt;&lt;br&gt;
            &lt;result name=&quot;success&quot; type=&quot;redirectAction&quot;&gt;staffAction_home&lt;/result&gt;&lt;br&gt;
            &amp;lt;!-- 2 没有登录成，需要登录 --&amp;gt;&lt;br&gt;
            &lt;result name=&quot;login&quot;&gt;/WEB-INF/pages/login.jsp&lt;/result&gt;&lt;br&gt;
            &amp;lt;!-- 3 首页 --&amp;gt;&lt;br&gt;
            &lt;result name=&quot;home&quot;&gt;/WEB-INF/pages/frame.jsp&lt;/result&gt;&lt;br&gt;
        &lt;/action&gt;&lt;br&gt;
    &lt;/package&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### Action实现类
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;公共
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class StaffAction extends ActionSupport implements ModelDriven&lt;CrmStaff&gt; {&lt;br&gt;
    //封装数据&lt;br&gt;
    private CrmStaff staff = new CrmStaff();&lt;br&gt;
    @Override&lt;br&gt;
    public CrmStaff getModel() {&lt;br&gt;
        return staff ;&lt;br&gt;
    }&lt;br&gt;
    //默认按照名称注入&lt;br&gt;
    private StaffService staffService;&lt;br&gt;
    public void setStaffService(StaffService staffService) {&lt;br&gt;
        this.staffService = staffService;&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### 功能
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;/**
 * 员工登录
 * @return
 */
public String login(){
    //1 查询员工
    CrmStaff findStaff = staffService.login(staff);
    //2 是否成功
    if(findStaff != null){
        //成功
        // 3.1 session作用域保存数据
        ActionContext.getContext().getSession().put(&quot;loginStaff&quot;, findStaff);
        // 3.2 重定向首页 -- xml配置
        return &quot;success&quot;;
    }

    //4 不成功
    this.addFieldError(&quot;&quot;, &quot;用户名与密码不匹配&quot;);
    // * 请求转发显示
    return &quot;login&quot;;
}

/**
 * 显示首页
 * @return
 */
public String home(){
    return &quot;home&quot;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
#####   密码加密
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;/**
 * 获得md5加密后的数据
 * @param value 明文
 * @return 密文
 */
public static String getMD5Value(String value){

    try {
        //1 获得jdk提供消息摘要算法工具类
        MessageDigest messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);
        //2 加密的结果10进制
        byte[] md5ValueByteArray = messageDigest.digest(value.getBytes());
        //3将10进制 转换16进制
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//          System.out.println(Arrays.toString(md5ValueByteArray));&lt;br&gt;
            BigInteger bigInteger = new BigInteger(1 , md5ValueByteArray);&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;        return bigInteger.toString(16);
    } catch (Exception e) {
        throw new RuntimeException(e);
        //如果出现了异常，将默认值
        //return value;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### 修改service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class StaffServiceImpl implements StaffService {&lt;br&gt;
     .....&lt;br&gt;
    @Override&lt;br&gt;
    public CrmStaff login(CrmStaff staff) {&lt;br&gt;
        // MD5加密 密码&lt;br&gt;
        String logginPwd = MyStringUtils.getMD5Value(staff.getLoginPwd());&lt;br&gt;
        return staffDao.find(staff.getLoginName(), logginPwd);&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### UIAction
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!-- 2.1 配置公共 jsp访问  action
            版本1：通过自定义action实现
                &lt;action name=&quot;uiAction&quot; class=&quot;com.itheima.crm.web.action.UIAction&quot;&gt;
                    &lt;result name=&quot;success&quot;&gt;/WEB-INF/pages/frame/top.jsp&lt;/result&gt;
                &lt;/action&gt;
            版本2：通过ActionSupport
                &lt;action name=&quot;uiAction&quot; class=&quot;com.opensymphony.xwork2.ActionSupport&quot;&gt;
                    &lt;result name=&quot;success&quot;&gt;/WEB-INF/pages/frame/top.jsp&lt;/result&gt;
                &lt;/action&gt;
                能否将class删除？ class默认值“ActionSupport”
                &lt;action name=&quot;uiAction&quot;&gt;
                    &lt;result name=&quot;success&quot;&gt;/WEB-INF/pages/frame/top.jsp&lt;/result&gt;
                &lt;/action&gt;
            版本3：通配符
                result.name 默认值：success
                uiAction_*_*
                    第一个星匹配文件夹名称，通过{1}获取
                    第二个星匹配jsp文件名称，通过{2}获取
                例如：
                    uiAction_frame_top
                    /WEB-INF/pages/frame/top.jsp
            总结：
                action.class 默认值：ActionSupport
                action.method 默认值：execute
                result.name 默认值：success

        --&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    &amp;lt;action name=&quot;uiAction_*_*&quot;&amp;gt;
        &amp;lt;result&amp;gt;/WEB-INF/pages/{1}/{2}.jsp&amp;lt;/result&amp;gt;
    &amp;lt;/action&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;######  登录拦截器

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;struts配置&lt;br&gt;
    1.注册，将实现类配置给struts&lt;br&gt;
    2.使用&lt;br&gt;
        2.1 每一个action单独使用&lt;br&gt;
        2.2 将多个拦截器打包生成自定义栈，action使用栈&lt;br&gt;
        2.3 将自定义栈，把默认栈覆盖&lt;/p&gt;

&lt;p&gt;功能：判断session作用域是否有用户信息，如果有放行，如果没有拦截。&lt;/p&gt;

&lt;p&gt;public class LoginInterceptor extends MethodFilterInterceptor {&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
public String doIntercept(ActionInvocation invocation) throws Exception {

    //判断session作用域是否有用户信息，如果有放行，如果没有拦截。

    Object obj = ActionContext.getContext().getSession().get(&quot;loginStaff&quot;);
    if(obj == null){
        /**友好信息 start*/
        // 1 获得当前运行action
        Object action = invocation.getAction();
        // 2 判断运行时是否是ActionSupport
        if(action instanceof ActionSupport){
            ActionSupport actionSupport = (ActionSupport) action;
            actionSupport.addFieldError(&quot;&quot;, &quot;请登录&quot;);
        }
        /**友好信息 end*/

        // 没有登录，需要登录
        return &quot;login&quot;;
    }

    //登录，放行
    return invocation.invoke();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;配置
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!-- 2.2 拦截器配置
            * 先声明
            方法1：每一个action单独使用,需要多次引用，否则默认将被覆盖
                &lt;action name=&quot;&quot;&gt;
                    &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;
                    &lt;interceptor-ref name=&quot;loginInterceptor&quot;&gt;&lt;/interceptor-ref&gt;
                &lt;/action&gt;
            方法2：将多个拦截器打包生成自定义栈，action使用栈
                * 自定义拦截器栈
                &lt;interceptor-stack name=&quot;loginStack&quot;&gt;
                    &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;
                    &lt;interceptor-ref name=&quot;loginInterceptor&quot;&gt;&lt;/interceptor-ref&gt;
                &lt;/interceptor-stack&gt;
                * action引用
                &lt;action name=&quot;&quot;&gt;
                    &lt;interceptor-ref name=&quot;loginStack&quot;&gt;&lt;/interceptor-ref&gt;
                &lt;/action&gt;
            方法3：将自定义栈，把默认栈覆盖
                &lt;default-interceptor-ref name=&quot;loginStack&quot;&gt;&lt;/default-interceptor-ref&gt;
        --&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    &amp;lt;interceptors&amp;gt;
        &amp;lt;!-- @1)声明（注册） --&amp;gt;
        &amp;lt;interceptor name=&quot;loginInterceptor&quot; class=&quot;com.itheima.crm.web.interceptor.LoginInterceptor&quot;&amp;gt;&amp;lt;/interceptor&amp;gt;
        &amp;lt;!-- @2)自定义拦截器栈 --&amp;gt;
        &amp;lt;interceptor-stack name=&quot;loginStack&quot;&amp;gt;
            &amp;lt;interceptor-ref name=&quot;defaultStack&quot;&amp;gt;&amp;lt;/interceptor-ref&amp;gt;
            &amp;lt;!-- 自定义拦截需要进行login不进行拦截
                * excludeMethods 配置不包含的方法，多个方法使用逗号分隔
            --&amp;gt;
            &amp;lt;interceptor-ref name=&quot;loginInterceptor&quot;&amp;gt;
                &amp;lt;param name=&quot;excludeMethods&quot;&amp;gt;login&amp;lt;/param&amp;gt;
            &amp;lt;/interceptor-ref&amp;gt;
        &amp;lt;/interceptor-stack&amp;gt;
    &amp;lt;/interceptors&amp;gt;

    &amp;lt;!-- @3)声明默认 --&amp;gt;
    &amp;lt;default-interceptor-ref name=&quot;loginStack&quot;&amp;gt;&amp;lt;/default-interceptor-ref&amp;gt;

    &amp;lt;!-- @4)全局结果集 --&amp;gt;
    &amp;lt;global-results&amp;gt;
        &amp;lt;result name=&quot;login&quot;&amp;gt;/WEB-INF/pages/login.jsp&amp;lt;/result&amp;gt;
    &amp;lt;/global-results&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### 查询所有员工
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;dao层：findAll&lt;br&gt;
service层：findAllStaff()&lt;br&gt;
action类：findAll()  --&amp;gt; staffAction_findAll&lt;br&gt;
jsp页面：显示数据&lt;/p&gt;

&lt;p&gt;//dao层&lt;br&gt;
    @Override&lt;br&gt;
    public List&lt;CrmStaff&gt; findAll() {&lt;br&gt;
        return this.getHibernateTemplate().find(&amp;quot;from CrmStaff&amp;quot;);&lt;br&gt;
    }&lt;/p&gt;

&lt;p&gt;//  service层&lt;br&gt;
    @Override&lt;br&gt;
    public List&lt;CrmStaff&gt; findAllStaff() {&lt;br&gt;
        return this.staffDao.findAll();&lt;br&gt;
    }&lt;/p&gt;

&lt;p&gt;//jsp入口&lt;br&gt;
λ  /ee19_crm/WebRoot/WEB-INF/pages/frame/left.jsp&lt;/p&gt;

&lt;p&gt;//  action类&lt;br&gt;
/**&lt;br&gt;
     * 查询所有&lt;br&gt;
     * @return&lt;br&gt;
     */&lt;br&gt;
    public String findAll(){&lt;br&gt;
        // 1查询所有&lt;br&gt;
        List&lt;CrmStaff&gt; allStaff = staffService.findAllStaff();&lt;br&gt;
        // 2 将结果存放到值栈，方便jsp获得数据&lt;br&gt;
        // * 方式1：context (map)存放 put(key ,value) ，jsp页面获得 “#key” 。&lt;br&gt;
        //      ActionContext.getContext().put(key, value)&lt;br&gt;
        // * 方式2：root (值栈) ，push(obj) ，一般数据为JavaBean 或 Map ，jsp页面获得“属性名” 或“key”  。&lt;br&gt;
        //      ActionContext.getContext().getValueStack().push(o)&lt;br&gt;
        // * 方式3：root (值栈) ，set(key ,value) ,一般数据为List ，jsp页面获得“key”&lt;br&gt;
        //      set() 底层 new Map(key,value) ，将 push(map )&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    // 使用 context存放数据
    ActionContext.getContext().put(&quot;allStaff&quot;, allStaff);



    return &quot;findAll&quot;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//  jsp展示&lt;br&gt;
/ee19_crm/WebRoot/WEB-INF/pages/staff/listStaff.jsp&lt;/p&gt;

&lt;p&gt;web.xml 配置过滤器&lt;br&gt;
注意：必须配置在struts 的前端控制器之前&lt;/p&gt;

&lt;!-- spring 过滤器，延迟session关闭 --&gt;

&lt;p&gt;&lt;filter&gt;&lt;br&gt;
    &lt;filter-name&gt;openSession&lt;/filter-name&gt;&lt;br&gt;
    &lt;filter-class&gt;org.springframework.orm.hibernate3.support.OpenSessionInViewFilter&lt;/filter-class&gt;&lt;br&gt;
  &lt;/filter&gt;&lt;br&gt;
  &lt;filter-mapping&gt;&lt;br&gt;
    &lt;filter-name&gt;openSession&lt;/filter-name&gt;&lt;br&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;br&gt;
  &lt;/filter-mapping&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-5-29-Spring02"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-5-29-Spring02</id>
   <content type="html">&lt;h2 id=&quot;aop介绍&quot;&gt;AOP介绍&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;在软件业，AOP为Aspect Oriented Programming的缩写，意为：面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。&lt;br&gt;
AOP采取横向抽取机制，取代了传统纵向继承体系重复性代码&lt;br&gt;
经典应用：事务管理、性能监视、安全检查、缓存 、日志等&lt;br&gt;
pring AOP使用纯Java实现，不需要专门的编译过程和类加载器，在运行期通过代理方式向目标类织入增强代码&lt;br&gt;
AspectJ是一个基于Java语言的AOP框架，Spring2.0开始，Spring AOP引入对Aspect的支持，AspectJ扩展了Java语言，提供了一个专门的编译器，在编译时提供横向代码的织入&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;aop实现原理&quot;&gt;AOP实现原理&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;aop底层将采用代理机制进行实现。&lt;br&gt;
接口 + 实现类 ：spring采用 jdk 的动态代理Proxy。&lt;br&gt;
实现类：spring 采用 cglib字节码增强。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;aop术语&quot;&gt;AOP术语&lt;/h2&gt;

&lt;p&gt;1.target：目标类，需要被代理的类。例如：UserService&lt;br&gt;
2.Joinpoint(连接点):所谓连接点是指那些可能被拦截到的方法。例如：所有的方法&lt;br&gt;
3.PointCut 切入点：已经被增强的连接点。例如：addUser()&lt;br&gt;
4.advice 通知/增强，增强代码。例如：after、before&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Weaving(织入):是指把增强advice应用到目标对象target来创建新的代理对象proxy的过程.
6.proxy 代理类&lt;/li&gt;
&lt;li&gt;Aspect(切面): 是切入点pointcut和通知advice的结合
一个线是一个特殊的面。
一个切入点和一个通知，组成成一个特殊的面。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;手动方式&quot;&gt;手动方式&lt;/h2&gt;

&lt;h5 id=&quot;jdk动态代理&quot;&gt;JDK动态代理&lt;/h5&gt;

&lt;p&gt;JDK动态代理 对“装饰者”设计模式 简化。使用前提：必须有接口&lt;br&gt;
1.目标类：接口 + 实现类&lt;br&gt;
2.切面类：用于存通知 MyAspect&lt;br&gt;
3.工厂类：编写工厂生成代理&lt;br&gt;
4.测试&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public interface UserService {
    public void addUser();
    public void updateUser();
    public void deleteUser();
}

public class UserServiceImpl implements UserService {

    @Override
    public void addUser() {
        System.out.println(&quot;a_proxy.a_jdk addUser&quot;);
    }

    @Override
    public void updateUser() {
        System.out.println(&quot;a_proxy.a_jdk updateUser&quot;);
    }

    @Override
    public void deleteUser() {
        System.out.println(&quot;a_proxy.a_jdk deleteUser&quot;);
    }
}

public class MyAspect {
    public void before(){
        System.out.println(&quot;前方法&quot;);
    }
    public void alter(){
        System.out.println(&quot;后方法&quot;);
    }
}

public class MyBeanFactory {
    public static UserService createService(){
        UserService userService=new UserServiceImpl();
        MyAspect myAspect = new MyAspect();
        return (UserService) Proxy.newProxyInstance(userService.getClass().getClassLoader(), userService.getClass().getInterfaces(),
                new InvocationHandler() {
                    @Override
                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
                        myAspect.before();
                        Object obj = method.invoke(userService);
                        myAspect.alter();
                        return obj;
                    }
                });
    }
}


public class TestJDK {
    @Test
    public void demo01(){
        UserService service = MyBeanFactory.createService();
        service.addUser();
        service.updateUser();
        service.deleteUser();
    }
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;cglib字节码增强&quot;&gt;CGLIB字节码增强&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;没有接口，只有实现类。&lt;br&gt;
采用字节码增强框架 cglib，在运行时 创建目标类的子类，从而对目标类进行增强。&lt;br&gt;
导入jar包：&lt;br&gt;
    自己导包（了解）：&lt;br&gt;
        核心：hibernate-distribution-3.6.10.Final\lib\bytecode\cglib\cglib-2.2.jar&lt;br&gt;
        依赖：struts-2.3.15.3\apps\struts2-blank\WEB-INF\lib\asm-3.3.jar&lt;br&gt;
    spring-core..jar 已经整合以上两个内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class UserServiceImpl  {

    public void addUser() {
        System.out.println(&quot;a_proxy.b_cglib addUser&quot;);
    }

    public void updateUser() {
        System.out.println(&quot;a_proxy.b_cglib updateUser&quot;);
    }

    public void deleteUser() {
        System.out.println(&quot;a_proxy.b_cglib deleteUser&quot;);
    }
}

public class MyAspect {
    public void before(){
        System.out.println(&quot;前方法&quot;);
    }
    public void alter(){
        System.out.println(&quot;后方法&quot;);
    }
}


public class MyBeanFactory {
    public static UserServiceImpl createService(){
        UserServiceImpl userService=new UserServiceImpl();
        MyAspect myAspect = new MyAspect();
        Enhancer enhancer=new Enhancer();
        enhancer.setSuperclass(userService.getClass());
        enhancer.setCallback(new MethodInterceptor() {
            @Override
            public Object intercept(Object proxy, Method method, Object[] args, MethodProxy methodProxy) throws Throwable {
                myAspect.before();
                Object obj = method.invoke(userService, args);
                methodProxy.invokeSuper(proxy,args);
                myAspect.alter();
                return obj;
            }
        });
        UserServiceImpl proxyService= (UserServiceImpl) enhancer.create();
        return proxyService;
    }
}

public class TestCglib {
    @Test
    public void demo01(){
        UserServiceImpl service = MyBeanFactory.createService();
        service.addUser();
        service.updateUser();
        service.deleteUser();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;aop联盟通知类型&quot;&gt;AOP联盟通知类型&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;AOP联盟为通知Advice定义了org.aopalliance.aop.Advice&lt;br&gt;
Spring按照通知Advice在目标类方法的连接点位置，可以分为5类&lt;br&gt;
前置通知 org.springframework.aop.MethodBeforeAdvice&lt;br&gt;
在目标方法执行前实施增强&lt;br&gt;
后置通知 org.springframework.aop.AfterReturningAdvice&lt;br&gt;
在目标方法执行后实施增强&lt;br&gt;
环绕通知 org.aopalliance.intercept.MethodInterceptor&lt;br&gt;
异常抛出通知 org.springframework.aop.ThrowsAdvice&lt;br&gt;
在方法抛出异常后实施增强&lt;br&gt;
引介通知 org.springframework.aop.IntroductionInterceptor&lt;br&gt;
在目标类中添加一些新的方法和属性&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;环绕通知，必须手动执行目标方法
try{
   //前置通知
   //执行目标方法
   //后置通知
} catch(){
   //抛出异常通知
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;spring编写代理-半自动&quot;&gt;spring编写代理:半自动&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;让spring 创建代理对象，从spring容器中手动的获取代理对象。&lt;/li&gt;
&lt;li&gt;导入jar包：
核心：4+1
AOP：AOP联盟（规范）、spring-aop （实现）&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public interface UserService {
    public void addUser();
    public void updateUser();
    public void deleteUser();
}

public class UserServiceImpl implements UserService {
    @Override
    public void addUser() {
        System.out.println(&quot;b_factory_bean addUser&quot;);
    }
    @Override
    public void updateUser() {
        System.out.println(&quot;b_factory_bean updateUser&quot;);
    }
    @Override
    public void deleteUser() {
        System.out.println(&quot;b_factory_bean deleteUser&quot;);
    }
}

public class MyAspect implements MethodInterceptor{
    public void before(){
        System.out.println(&quot;前方法&quot;);
    }
    public void alter(){
        System.out.println(&quot;后方法&quot;);
    }

    @Override
    public Object invoke(MethodInvocation mi) throws Throwable {
        System.out.println(&quot;前&quot;);
        Object obj = mi.proceed();
        System.out.println(&quot;后&quot;);
        return obj;
    }
}

//bean.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;
&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&amp;gt;
    &amp;lt;bean id=&quot;userServiceId&quot; class=&quot;com.itheima.b_factory_bean.UserServiceImpl&quot;&amp;gt;&amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;myAspectId&quot; class=&quot;com.itheima.b_factory_bean.MyAspect&quot;&amp;gt;&amp;lt;/bean&amp;gt;
    &amp;lt;bean id=&quot;proxyServiceId&quot; class=&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;&amp;gt;
        &amp;lt;property name=&quot;interfaces&quot; value=&quot;com.itheima.b_factory_bean.UserService&quot;/&amp;gt;
        &amp;lt;property name=&quot;target&quot; ref=&quot;userServiceId&quot;/&amp;gt;
        &amp;lt;property name=&quot;interceptorNames&quot; value=&quot;myAspectId&quot;/&amp;gt;
        &amp;lt;!--强制使用cglib--&amp;gt;
        &amp;lt;property name=&quot;optimize&quot; value=&quot;true&quot;&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
&amp;lt;/beans&amp;gt;

@Test
    public void demo01(){
        String xmlPath=&quot;com/itheima/b_factory_bean/beans.xml&quot;;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);
          UserService bean = (UserService) applicationContext.getBean(&quot;proxyServiceId&quot;);
          bean.addUser();
          bean.updateUser();
          bean.deleteUser();
    }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;spring-aop编程：全自动&quot;&gt;spring aop编程：全自动&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;从spring容器获得目标类，如果配置aop，spring将自动生成代理。&lt;br&gt;
要确定目标类，aspectj 切入点表达式，导入jar包&lt;br&gt;
    spring-framework-3.0.2.RELEASE-dependencies\org.aspectj\com.springsource.org.aspectj.weaver\1.6.8.RELEASE&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public interface UserService {
    public void addUser();
    public void updateUser();
    public void deleteUser();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;public class MyAspect implements MethodInterceptor{&lt;br&gt;
    public void before(){&lt;br&gt;
        System.out.println(&amp;quot;前方法&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
    public void alter(){&lt;br&gt;
        System.out.println(&amp;quot;后方法&amp;quot;);&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
public Object invoke(MethodInvocation mi) throws Throwable {
    System.out.println(&quot;前&quot;);
    Object obj = mi.proceed();
    System.out.println(&quot;后&quot;);
    return obj;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;br&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&lt;br&gt;
                           http://www.springframework.org/schema/aop&lt;br&gt;
                           http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;&lt;br&gt;
    &amp;lt;!-- 1 创建目标类 --&amp;gt;&lt;br&gt;
    &lt;bean id=&quot;userServiceId&quot; class=&quot;com.itheima.c_spring_aop.UserServiceImpl&quot;&gt;&lt;/bean&gt;&lt;br&gt;
    &amp;lt;!-- 2 创建切面类（通知） --&amp;gt;&lt;br&gt;
    &lt;bean id=&quot;myAspectId&quot; class=&quot;com.itheima.c_spring_aop.MyAspect&quot;&gt;&lt;/bean&gt;&lt;br&gt;
    &amp;lt;!-- 3 aop编程&lt;br&gt;
        3.1 导入命名空间&lt;br&gt;
        3.2 使用 &lt;a href=&quot;aop:config&quot;&gt;aop:config&lt;/a&gt;进行配置&lt;br&gt;
                proxy-target-class=&amp;quot;true&amp;quot; 声明时使用cglib代理&lt;br&gt;
            &lt;a href=&quot;aop:pointcut&quot;&gt;aop:pointcut&lt;/a&gt; 切入点 ，从目标对象获得具体方法&lt;br&gt;
            &lt;a href=&quot;aop:advisor&quot;&gt;aop:advisor&lt;/a&gt; 特殊的切面，只有一个通知 和 一个切入点&lt;br&gt;
                advice-ref 通知引用&lt;br&gt;
                pointcut-ref 切入点引用&lt;br&gt;
        3.3 切入点表达式&lt;br&gt;
            execution(* com.itheima.c_spring_aop.&lt;em&gt;.&lt;/em&gt;(..))&lt;br&gt;
            选择方法         返回值任意   包             类名任意   方法名任意   参数任意&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;--&amp;gt;
&amp;lt;aop:config proxy-target-class=&quot;true&quot;&amp;gt;
    &amp;lt;aop:pointcut expression=&quot;execution(* com.itheima.c_spring_aop.*.*(..))&quot; id=&quot;myPointCut&quot;/&amp;gt;
    &amp;lt;aop:advisor advice-ref=&quot;myAspectId&quot; pointcut-ref=&quot;myPointCut&quot;/&amp;gt;
&amp;lt;/aop:config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;/beans&gt;&lt;/p&gt;

&lt;p&gt;public class TestSpringAOP {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/c_spring_aop/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
          UserService bean = (UserService) applicationContext.getBean(&amp;quot;userServiceId&amp;quot;);&lt;br&gt;
          bean.addUser();&lt;br&gt;
          bean.updateUser();&lt;br&gt;
          bean.deleteUser();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## AspectJ
&amp;gt; AspectJ是一个基于Java语言的AOP框架
&amp;gt; Spring2.0以后新增了对AspectJ切点表达式支持
&amp;gt; @AspectJ 是AspectJ1.5新增功能，通过JDK5注解技术，允许直接在Bean类中定义切面
新版本Spring框架，建议使用AspectJ方式来开发AOP
&amp;gt; 主要用途：自定义开发

##切入点表达式
### execution()  用于描述方法
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;语法：execution(修饰符  返回值  包.类.方法名(参数) throws异常)
    修饰符，一般省略
        public      公共方法
        *           任意
    返回值，不能省略
        void            返回没有值
        String      返回值字符串
        *           任意
    包，[省略]
        com.itheima.crm         固定包
        com.itheima.crm.*.service   crm包下面子包任意 （例如：com.itheima.crm.staff.service）
        com.itheima.crm..           crm包下面的所有子包（含自己）
        com.itheima.crm.*.service.. crm包下面任意子包，固定目录service，service目录任意包
    类，[省略]
        UserServiceImpl         指定类
        *Impl                   以Impl结尾
        User*                   以User开头
        *                       任意
    方法名，不能省略
        addUser                 固定方法
        add*                        以add开头
        *Do                     以Do结尾
        *                       任意
    (参数)
        ()                      无参
        (int)                       一个整型
        (int ,int)                  两个
        (..)                        参数任意
    throws ,可省略，一般不写。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;综合1&lt;br&gt;
    execution(* com.itheima.crm.&lt;em&gt;.service..&lt;/em&gt;.&lt;em&gt;(..))&lt;br&gt;
综合2&lt;br&gt;
    &amp;lt;aop:pointcut expression=&amp;quot;execution(&lt;/em&gt; com.itheima.&lt;em&gt;WithCommit.&lt;/em&gt;(..)) ||&lt;br&gt;
                          execution(* com.itheima.&lt;em&gt;Service.&lt;/em&gt;(..))&amp;quot; id=&amp;quot;myPointCut&amp;quot;/&amp;gt;&lt;br&gt;
2.within:匹配包或子包中的方法(了解)&lt;br&gt;
    within(com.itheima.aop..*)&lt;br&gt;
3.this:匹配实现接口的代理对象中的方法(了解)&lt;br&gt;
    this(com.itheima.aop.user.UserDAO)&lt;br&gt;
4.target:匹配实现接口的目标对象中的方法(了解)&lt;br&gt;
    target(com.itheima.aop.user.UserDAO)&lt;br&gt;
5.args:匹配参数格式符合标准的方法(了解)&lt;br&gt;
    args(int,int)&lt;br&gt;
6.bean(id)  对指定的bean所有的方法(了解)&lt;br&gt;
    bean(&amp;#39;userServiceId&amp;#39;)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## AspectJ 通知类型
&amp;gt; aop联盟定义通知类型，具有特性接口，必须实现，从而确定方法名称。
&amp;gt; aspectj 通知类型，只定义类型名称。已经方法格式。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;个数：6种&lt;br&gt;
    before:前置通知(应用：各种校验)&lt;br&gt;
        在方法执行前执行，如果通知抛出异常，阻止方法运行&lt;br&gt;
    afterReturning:后置通知(应用：常规数据处理)&lt;br&gt;
        方法正常返回后执行，如果方法中抛出异常，通知无法执行&lt;br&gt;
        必须在方法执行后才执行，所以可以获得方法的返回值。&lt;br&gt;
    around:环绕通知(应用：十分强大，可以做任何事情)&lt;br&gt;
        方法执行前后分别执行，可以阻止方法的执行&lt;br&gt;
        必须手动执行目标方法&lt;br&gt;
    afterThrowing:抛出异常通知(应用：包装异常信息)&lt;br&gt;
        方法抛出异常后执行，如果方法没有抛出异常，无法执行&lt;br&gt;
    after:最终通知(应用：清理现场)&lt;br&gt;
        方法执行完毕后执行，无论方法中是否出现异常&lt;br&gt;
环绕&lt;/p&gt;

&lt;p&gt;try{&lt;br&gt;
     //前置：before&lt;br&gt;
    //手动执行目标方法&lt;br&gt;
    //后置：afterRetruning&lt;br&gt;
} catch(){&lt;br&gt;
    //抛出异常 afterThrowing&lt;br&gt;
} finally{&lt;br&gt;
    //最终 after&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
##### 导入jar包
    4个：
    aop联盟规范
    spring aop 实现
    aspect 规范
    spring aspect 实现

## AspectJ基于xml
1.目标类：接口 + 实现
2.切面类：编写多个通知，采用aspectj 通知名称任意（方法名任意）
3.aop编程，将通知应用到目标类
4.测试

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public interface UserService {&lt;br&gt;
    public void addUser();&lt;br&gt;
    public void updateUser();&lt;br&gt;
    public void deleteUser();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class UserServiceImpl implements UserService {&lt;br&gt;
    @Override&lt;br&gt;
    public void addUser() {&lt;br&gt;
        System.out.println(&amp;quot;d_aspect.a_xml addUser&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
    @Override&lt;br&gt;
    public void updateUser() {&lt;br&gt;
        System.out.println(&amp;quot;d_aspect.a_xml updateUser&amp;quot;);&lt;br&gt;
        int i=10/0;&lt;br&gt;
    }&lt;br&gt;
    @Override&lt;br&gt;
    public void deleteUser() {&lt;br&gt;
        System.out.println(&amp;quot;d_aspect.a_xml deleteUser&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class MyAspect{&lt;br&gt;
    //前置通知&lt;br&gt;
    public void myBefore(JoinPoint joinPoint){&lt;br&gt;
        System.out.println(&amp;quot;前置通知:&amp;quot;+joinPoint.getSignature().getName());&lt;br&gt;
    }&lt;br&gt;
    //后置通知&lt;br&gt;
    public void myAfterReturning(JoinPoint joinpoint,Object ret){&lt;br&gt;
        System.out.println(&amp;quot;后置通知:&amp;quot;+joinpoint.getSignature().getName()+&amp;quot;,--&amp;gt;&amp;quot;+ret);&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;//环绕通知
public Object myAround(ProceedingJoinPoint joinPoint) throws Throwable{
    System.out.println(&quot;前置通知&quot;);
    Object obj = joinPoint.proceed();//手动执行目标方法
    System.out.println(&quot;后置通知&quot;);
    return obj;

}
//抛出异常通知
public void myAfterThrowing(JoinPoint joinPoint,Throwable e){
    System.out.println(&quot;抛出异常通知:&quot;+joinPoint.getSignature().getName()+&quot;,--&amp;gt;&quot;+e.getMessage());
}

//最终通知
public void myAfter(JoinPoint joinPoint){
    System.out.println(&quot;最终通知:&quot;+joinPoint.getSignature().getName());
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;public class TestAspectXml {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/d_aspect/a_xml/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
          UserService bean = (UserService) applicationContext.getBean(&amp;quot;userServiceId&amp;quot;);&lt;br&gt;
          bean.addUser();&lt;br&gt;
          bean.updateUser();&lt;br&gt;
          bean.deleteUser();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;&lt;br&gt;
&amp;lt;beans xmlns=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&amp;quot;&lt;br&gt;
       xmlns:xsi=&amp;quot;&lt;a href=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;http://www.w3.org/2001/XMLSchema-instance&lt;/a&gt;&amp;quot;&lt;br&gt;
       xmlns:aop=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/aop&quot;&gt;http://www.springframework.org/schema/aop&lt;/a&gt;&amp;quot;&lt;br&gt;
       xsi:schemaLocation=&amp;quot;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br&gt;
                           &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/a&gt;&lt;br&gt;
                           &lt;a href=&quot;http://www.springframework.org/schema/aop&quot;&gt;http://www.springframework.org/schema/aop&lt;/a&gt;&lt;br&gt;
                           &lt;a href=&quot;http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;http://www.springframework.org/schema/aop/spring-aop.xsd&lt;/a&gt;&amp;quot;&lt;/p&gt;

&lt;blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;bean id=&quot;userServiceId&quot; class=&quot;com.itheima.d_aspect.a_xml.UserServiceImpl&quot;&amp;gt;&amp;lt;/bean&amp;gt;
&amp;lt;bean id=&quot;myAspectId&quot; class=&quot;com.itheima.d_aspect.a_xml.MyAspect&quot;&amp;gt;&amp;lt;/bean&amp;gt;
&amp;lt;!--aop编程
    &amp;lt;aop:aspect&amp;gt;将切面类声明&quot;切面&quot;，从而获得通知方法
            ref:切面类的引用
    &amp;lt;aop:pointcut&amp;gt;声明一个切入点，所有的通知都可以使用
            expression 切入点你表达式
            id 名称，用于其他通知引用
--&amp;gt;
&amp;lt;aop:config&amp;gt;
    &amp;lt;aop:aspect ref=&quot;myAspectId&quot;&amp;gt;
        &amp;lt;aop:pointcut id=&quot;myPointcut&quot; expression=&quot;execution(* com.itheima.d_aspect.a_xml.UserServiceImpl.*(..))&quot;&amp;gt;&amp;lt;/aop:pointcut&amp;gt;
        &amp;lt;!--前置通知
            method:方法名
            pointcut:切入点表达式,此表达式当前通知使用
            pointcut-ref:切入点的引用，可以与其他通知共享通知
            通知方法可以有参数myBefore(JoinPoint joinPoint)
            参数1:org.aspectj.lang.JoinPoint 用于描述连接点(目标方法)，可以获得目标方法名等
            &amp;lt;aop:before method=&quot;myBefore&quot;  pointcut-ref=&quot;myPointcut&quot;/&amp;gt;
        --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;        &amp;lt;!--后置通知，目标方法后执行，获得返回值
            &amp;lt;aop:after-returning method=&quot;myAfterReturning&quot; pointcut-ref=&quot;myPointcut&quot;/&amp;gt;
            returning:通知方法第二个参数的名称
         通知方法格式:public void myAfterReturning(JoinPoint joinpoint,Object ret)
            参数1：连接点描述
            参数2：类型Object,参数名returning配置的

            &amp;lt;aop:after-returning method=&quot;myAfterReturning&quot; pointcut-ref=&quot;myPointcut&quot; returning=&quot;ret&quot; /&amp;gt;
        --&amp;gt;

        &amp;lt;!--环绕通知
            &amp;lt;aop:around method=&quot;&quot; pointcut-ref=&quot;&quot;/&amp;gt;
            通知方法格式public Object myAround(ProceedingJoinPoint joinPoint) throws Throwable
            返回类型:Object
            方法名:任意
            参数:org.aspectj.lang.ProceedingJoinPoint
            执行目标方法:Object obj=joinpoint.proceed(）
            例如:
            &amp;lt;aop:around method=&quot;myAround&quot; pointcut-ref=&quot;myPointcut&quot;&amp;gt;&amp;lt;/aop:around&amp;gt;
        --&amp;gt;

        &amp;lt;!--抛出异常
            &amp;lt;aop:after-throwing method=&quot;&quot; pointcut-ref=&quot;&quot;/&amp;gt;
            通知方法格式:public void myAfterThrowing(JoinPoint joinPoint)
            throwing:通知方法的第二个参数名称
            参数1:链接点描述对象
            参数2:获得异常信息，类型Throwable ,参数名称由throwing控制
            列如:
            &amp;lt;aop:after-throwing method=&quot;myAfterThrowing&quot; pointcut-ref=&quot;myPointcut&quot; throwing=&quot;e&quot;/&amp;gt;
        --&amp;gt;
        &amp;lt;!--最终通知--&amp;gt;
        &amp;lt;aop:after method=&quot;myAfter&quot; pointcut-ref=&quot;myPointcut&quot;/&amp;gt;
    &amp;lt;/aop:aspect&amp;gt;
&amp;lt;/aop:config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;/beans&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## AspectJ基于注解
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public interface UserService {&lt;br&gt;
    public void addUser();&lt;br&gt;
    public String updateUser();&lt;br&gt;
    public void deleteUser();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;@Service(&amp;quot;userServiceId&amp;quot;)&lt;br&gt;
public class UserServiceImpl implements UserService {&lt;br&gt;
    @Override&lt;br&gt;
    public void addUser() {&lt;br&gt;
        System.out.println(&amp;quot;d_aspect.b_anno addUser&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
    @Override&lt;br&gt;
    public String updateUser() {&lt;br&gt;
        System.out.println(&amp;quot;d_aspect.b_anno updateUser&amp;quot;);&lt;br&gt;
        //int i=10/0;&lt;br&gt;
        return &amp;quot;返回值&amp;quot;;&lt;br&gt;
    }&lt;br&gt;
    @Override&lt;br&gt;
    public void deleteUser() {&lt;br&gt;
        System.out.println(&amp;quot;d_aspect.b_anno deleteUser&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;@Component&lt;br&gt;
@Aspect&lt;br&gt;
public class MyAspect{&lt;br&gt;
    //切入点当前有效&lt;br&gt;
    //@Before(&amp;quot;execution(* com.itheima.d_aspect.b_anno.UserServiceImpl.&lt;em&gt;(..))&amp;quot;)&lt;br&gt;
    public void myBefore(JoinPoint joinPoint){&lt;br&gt;
        System.out.println(&amp;quot;前置通知:&amp;quot;+joinPoint.getSignature().getName());&lt;br&gt;
    }&lt;br&gt;
    //声明公共的切入点&lt;br&gt;
    @Pointcut(&amp;quot;execution(&lt;/em&gt; com.itheima.d_aspect.b_anno.UserServiceImpl.*(..))&amp;quot;)&lt;br&gt;
    private void myPointCut(){&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;}
//@AfterReturning(value = &quot;myPointCut()&quot;,returning = &quot;ret&quot;)
public void myAfterReturning(JoinPoint joinpoint,Object ret){
    System.out.println(&quot;后置通知:&quot;+joinpoint.getSignature().getName()+&quot;,--&amp;gt;&quot;+ret);
}

//@Around(value=&quot;myPointCut()&quot;)
public Object myAround(ProceedingJoinPoint joinPoint) throws Throwable{
    System.out.println(&quot;前置通知&quot;);
    Object obj = joinPoint.proceed();//手动执行目标方法
    System.out.println(&quot;后置通知&quot;);
    return obj;

}
//@AfterThrowing(value = &quot;myPointCut()&quot;,throwing = &quot;e&quot;)
public void myAfterThrowing(JoinPoint joinPoint,Throwable e){
    System.out.println(&quot;抛出异常通知:&quot;+joinPoint.getSignature().getName()+&quot;,--&amp;gt;&quot;+e.getMessage());
}

@After(&quot;myPointCut()&quot;)
public void myAfter(JoinPoint joinPoint){
    System.out.println(&quot;最终通知:&quot;+joinPoint.getSignature().getName());
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;public class TestAspectAnno {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01() {&lt;br&gt;
        String xmlPath = &amp;quot;com/itheima/d_aspect/b_anno/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserService bean = (UserService) applicationContext.getBean(&amp;quot;userServiceId&amp;quot;);&lt;br&gt;
        bean.addUser();&lt;br&gt;
        bean.updateUser();&lt;br&gt;
        bean.deleteUser();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;&lt;br&gt;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&lt;br&gt;
                           http://www.springframework.org/schema/aop&lt;br&gt;
                           http://www.springframework.org/schema/aop/spring-aop.xsd&lt;br&gt;
                           http://www.springframework.org/schema/context&lt;br&gt;
                           http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;&lt;br&gt;
    &amp;lt;!--1.扫描注解类--&amp;gt;&lt;br&gt;
    &lt;context:component-scan base-package=&quot;com.itheima.d_aspect.b_anno&quot;/&gt;&lt;br&gt;
    &amp;lt;!--2.确定AOP注解生效--&amp;gt;&lt;br&gt;
    &lt;a href=&quot;aop:aspectj-autoproxy&quot;&gt;aop:aspectj-autoproxy&lt;/a&gt;&lt;a href=&quot;/aop:aspectj-autoproxy&quot;&gt;/aop:aspectj-autoproxy&lt;/a&gt;&lt;br&gt;
&lt;/beans&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## JdbcTemplate
&amp;gt; spring 提供用于操作JDBC工具类，类似：DBUtils。
&amp;gt; 依赖 连接池DataSource （数据源）


## 导入jar包
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;spring 4+1:&lt;br&gt;
spring-beans-3.2.0.RELEASE.jar&lt;br&gt;
spring-context-3.2.0.RELEASE.jar&lt;br&gt;
spring-core-3.2.0.RELEASE.jar&lt;br&gt;
spring-expression-3.2.0.RELEASE.jar&lt;/p&gt;

&lt;p&gt;mysql驱动:&lt;br&gt;
mysql-connector-java-5.1.7-bin.jar&lt;/p&gt;

&lt;p&gt;jdbc和事务:&lt;br&gt;
spring-jdbc-3.2.0.RELEASE.jar&lt;br&gt;
spring-tx-3.2.0.RELEASE.jar&lt;/p&gt;

&lt;p&gt;c3p0连接池:&lt;br&gt;
com.springsource.com.mchange.v2.c3p0-0.9.1.2.jar&lt;/p&gt;

&lt;p&gt;dbcp连接池:&lt;br&gt;
com.springsource.org.apache.commons.dbcp-1.2.2.osgi.jar&lt;br&gt;
com.springsource.org.apache.commons.pool-1.5.3.jar&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## JDBCTemplate
###### api
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public static void main(String[] args) {&lt;br&gt;
    BasicDataSource dataSource = new BasicDataSource();&lt;br&gt;
    dataSource.setDriverClassName(&amp;quot;com.mysql.jdbc.Driver&amp;quot;);&lt;br&gt;
    dataSource.setUrl(&amp;quot;jdbc:mysql://localhost:3306/ee19_spring_day02?characterEncoding=utf-8&amp;quot;);&lt;br&gt;
    dataSource.setUsername(&amp;quot;root&amp;quot;);&lt;br&gt;
    dataSource.setPassword(&amp;quot;root&amp;quot;);&lt;br&gt;
    JdbcTemplate jdbcTemplate=new JdbcTemplate();&lt;br&gt;
    jdbcTemplate.setDataSource(dataSource);&lt;br&gt;
    jdbcTemplate.update(&amp;quot;insert into t_user(username,password) values(?,?)&amp;quot;,&amp;quot;tom&amp;quot;,998);&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### dbcp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class UserDao {&lt;br&gt;
    private JdbcTemplate jdbcTemplate;&lt;br&gt;
    public void update(User user){&lt;br&gt;
        String sql=&amp;quot;update t_user set username = ? ,password = ? where id = ?&amp;quot;;&lt;br&gt;
        Object[]args={user.getUsername(),user.getPassword(),user.getId()};&lt;br&gt;
        jdbcTemplate.update(sql,args);&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
    this.jdbcTemplate = jdbcTemplate;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;public class TestDBCP {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo1(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/c_dbcp/bean.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserDao userDao= (UserDao) applicationContext.getBean(&amp;quot;userDaoId&amp;quot;);&lt;br&gt;
        User user = new User();&lt;br&gt;
        user.setId(1);&lt;br&gt;
        user.setUsername(&amp;quot;杰克&amp;quot;);&lt;br&gt;
        user.setPassword(&amp;quot;998&amp;quot;);&lt;br&gt;
        userDao.update(user);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&lt;bean id=&quot;userDaoId&quot; class=&quot;com.itheima.c_dbcp.UserDao&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;br&gt;
&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;br&gt;
&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/ee19_spring_day02?characterEncoding=utf-8&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### C3P0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class UserDao {&lt;br&gt;
    private JdbcTemplate jdbcTemplate;&lt;br&gt;
    public void update(User user){&lt;br&gt;
        String sql=&amp;quot;update t_user set username = ? ,password = ? where id = ?&amp;quot;;&lt;br&gt;
        Object[]args={user.getUsername(),user.getPassword(),user.getId()};&lt;br&gt;
        jdbcTemplate.update(sql,args);&lt;br&gt;
    }&lt;br&gt;
    public List&lt;User&gt; findAll(){&lt;br&gt;
        return jdbcTemplate.query(&amp;quot;select * from t_user&amp;quot;,ParameterizedBeanPropertyRowMapper.newInstance(User.class));&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {
    this.jdbcTemplate = jdbcTemplate;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;public class TestC3P0 {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo1(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/d_c3p0/bean.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserDao userDao= (UserDao) applicationContext.getBean(&amp;quot;userDaoId&amp;quot;);&lt;br&gt;
        List&lt;User&gt; lists = userDao.findAll();&lt;br&gt;
        System.out.println(lists);&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;br&gt;
//bean.xml&lt;br&gt;
&lt;bean id=&quot;userDaoId&quot; class=&quot;com.itheima.d_c3p0.UserDao&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;br&gt;
&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;br&gt;
&lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/ee19_spring_day02?characterEncoding=utf-8&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;user&quot; value=&quot;root&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### jdbcDaoSupport
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class UserDao extends JdbcDaoSupport{&lt;br&gt;
    public void update(User user){&lt;br&gt;
        String sql=&amp;quot;update t_user set username = ? ,password = ? where id = ?&amp;quot;;&lt;br&gt;
        Object[]args={user.getUsername(),user.getPassword(),user.getId()};&lt;br&gt;
        this.getJdbcTemplate().update(sql,args);&lt;br&gt;
    }&lt;br&gt;
    public List&lt;User&gt; findAll(){&lt;br&gt;
        return this.getJdbcTemplate().query(&amp;quot;select * from t_user&amp;quot;,ParameterizedBeanPropertyRowMapper.newInstance(User.class));&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class TestJdbcDaoSupport {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo1(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/e_jdbcdaosupport/bean.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserDao userDao= (UserDao) applicationContext.getBean(&amp;quot;userDaoId&amp;quot;);&lt;br&gt;
        List&lt;User&gt; lists = userDao.findAll();&lt;br&gt;
        System.out.println(lists);&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&lt;bean id=&quot;userDaoId&quot; class=&quot;com.itheima.e_jdbcdaosupport.UserDao&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;br&gt;
&lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/ee19_spring_day02?characterEncoding=utf-8&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;user&quot; value=&quot;root&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### properties
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class UserDao extends JdbcDaoSupport{&lt;br&gt;
    public void update(User user){&lt;br&gt;
        String sql=&amp;quot;update t_user set username = ? ,password = ? where id = ?&amp;quot;;&lt;br&gt;
        Object[]args={user.getUsername(),user.getPassword(),user.getId()};&lt;br&gt;
        this.getJdbcTemplate().update(sql,args);&lt;br&gt;
    }&lt;br&gt;
    public List&lt;User&gt; findAll(){&lt;br&gt;
        return this.getJdbcTemplate().query(&amp;quot;select * from t_user&amp;quot;,ParameterizedBeanPropertyRowMapper.newInstance(User.class));&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public User findUserById(int id) {
    return this.getJdbcTemplate().queryForObject(&quot;select * from t_user where id = ?&quot;,ParameterizedBeanPropertyRowMapper.newInstance(User.class),id);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;public class TestProps {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo1(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/f_properties/bean.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserDao userDao= (UserDao) applicationContext.getBean(&amp;quot;userDaoId&amp;quot;);&lt;br&gt;
        User user=userDao.findUserById(1);&lt;br&gt;
        System.out.println(user);&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
   &amp;lt;!-- 加载配置文件&lt;br&gt;
   &amp;quot;classpath:&amp;quot;前缀表示 src下&lt;br&gt;
   在配置文件之后通过  ${key} 获得内容&lt;br&gt;
--&amp;gt;&lt;br&gt;
   &lt;context:property-placeholder location=&quot;classpath:com/itheima/f_properties/jdbcInfo.properties&quot;/&gt;&lt;br&gt;
   &amp;lt;bean id=&amp;quot;userDaoId&amp;quot; class=&amp;quot;com.itheima.f_properties.UserDao&amp;quot;&lt;/p&gt;

&lt;blockquote&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;   &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;/bean&gt;&lt;br&gt;
   &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;&lt;br&gt;
       &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClass}&quot;&gt;&lt;/property&gt;&lt;br&gt;
       &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;/property&gt;&lt;br&gt;
       &lt;property name=&quot;user&quot; value=&quot;${jdbc.user}&quot;&gt;&lt;/property&gt;&lt;br&gt;
       &lt;property name=&quot;password&quot;  value=&quot;${jdbc.password}&quot;&gt;&lt;/property&gt;&lt;br&gt;
   &lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;
</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-5-25-Spring01"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-5-25-Spring01</id>
   <content type="html">&lt;h2 id=&quot;什么是sping&quot;&gt;什么是Sping&lt;/h2&gt;

&lt;p&gt;Spring的核心是控制反转（IoC）和面向切面（AOP）。&lt;br&gt;
Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架。&lt;br&gt;
轻量级:依赖的资源少，消耗的资源少。&lt;br&gt;
分层:web层，service层，dao层&lt;/p&gt;

&lt;h2 id=&quot;spring优点&quot;&gt;Spring优点&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;方便解耦，简化开发&lt;/li&gt;
&lt;li&gt;AOP编程的支持&lt;/li&gt;
&lt;li&gt;声明式事务的支持&lt;/li&gt;
&lt;li&gt;方便集成各种优秀的框架&lt;/li&gt;
&lt;li&gt;降低JavaEEAPI的使用难度&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;导入jar包&quot;&gt;导入jar包&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;4+1 4个核心：Beans,Core,Context,Expression 一个依赖:Common-loggin&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;配置文件&quot;&gt;配置文件&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;位置:任意，开发中一般默认在src下&lt;br&gt;
名称:任意，开发中常用applicationContext.xml&lt;br&gt;
内容:添加约束，schame 位置:spring-framework-3.2.0.RELEASE\docs\spring-framework-reference\html\ xsd-config.html&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;什么是sping&quot;&gt;什么是Sping&lt;/h2&gt;

&lt;p&gt;Spring的核心是控制反转（IoC）和面向切面（AOP）。&lt;br&gt;
Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架。&lt;br&gt;
轻量级:依赖的资源少，消耗的资源少。&lt;br&gt;
分层:web层，service层，dao层&lt;/p&gt;

&lt;h2 id=&quot;spring优点&quot;&gt;Spring优点&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;方便解耦，简化开发&lt;/li&gt;
&lt;li&gt;AOP编程的支持&lt;/li&gt;
&lt;li&gt;声明式事务的支持&lt;/li&gt;
&lt;li&gt;方便集成各种优秀的框架&lt;/li&gt;
&lt;li&gt;降低JavaEEAPI的使用难度&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;导入jar包&quot;&gt;导入jar包&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;4+1 4个核心：Beans,Core,Context,Expression 一个依赖:Common-logging&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;配置文件&quot;&gt;配置文件&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;位置:任意，开发中一般默认在src下&lt;br&gt;
名称:任意，开发中常用applicationContext.xml&lt;br&gt;
内容:添加约束，schame 位置:spring-framework-3.2.0.RELEASE\docs\spring-framework-reference\html\ xsd-config.html&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public interface UserService {
    public void addUser();
}
public class UserServiceImpl implements UserService {
    @Override
    public void addUser() {
        System.out.println(&quot;a_ioc addUser&quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;&lt;br&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;/p&gt;

&lt;!--配置service &lt;bean&gt;配置需要创建的对象 id:用于之后从spring容易获得实例时使用的--&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&amp;lt;bean id=&quot;userServiceId&quot; class=&quot;com.itheima.a_ioc.UserServiceImpl&quot;&amp;gt;&amp;lt;/bean&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;/beans&gt;&lt;/p&gt;

&lt;p&gt;public class TestIoc {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01(){&lt;br&gt;
        UserService us=new UserServiceImpl();&lt;br&gt;
        us.addUser();&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Test
public void demo02(){
    String xmlPath=&quot;com/itheima/a_ioc/beans.xml&quot;;
    //获得容器
    ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);
    //获得内容
    UserService us= (UserService) applicationContext.getBean(&quot;userServiceId&quot;);
    us.addUser();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## DI 依赖注入
&amp;gt; is a:是一个，继承  has a:有一个成员变量，依赖
&amp;gt; 依赖:一个对象需要使用另一个对象
&amp;gt; 注入:通过setter方法进行另一个实例设置

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public interface BookService {&lt;br&gt;
    void addBook();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class BookServiceImpl implements BookService {&lt;br&gt;
    private BookDao dao;&lt;br&gt;
    @Override&lt;br&gt;
    public void addBook() {&lt;br&gt;
        dao.save();&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public void setDao(BookDao dao) {
    this.dao = dao;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;public interface BookDao {&lt;br&gt;
    void save();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class BookDaoImpl implements BookDao {&lt;br&gt;
    @Override&lt;br&gt;
    public void save() {&lt;br&gt;
        System.out.println(&amp;quot;bookDaoImpl save&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;br&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;br&gt;
    &lt;bean id=&quot;bookServiceId&quot; class=&quot;com.itheima.b_di.BookServiceImpl&quot;&gt;&lt;br&gt;
        &lt;property name=&quot;dao&quot; ref=&quot;bookDaoId&quot;/&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
    &lt;bean id=&quot;bookDaoId&quot; class=&quot;com.itheima.b_di.BookDaoImpl&quot;&gt;&lt;/bean&gt;&lt;br&gt;
&lt;/beans&gt;&lt;/p&gt;

&lt;p&gt;public class TestDI {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/b_di/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        BookService bs= (BookService) applicationContext.getBean(&amp;quot;bookServiceId&amp;quot;);&lt;br&gt;
        bs.addBook();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;

## 核心API
BeanFactory:这是一个工厂，用于生产Bean
ApplicationContext:是BeanFactory的子接口，功能更强大。当配置文件加载对象就被创建
ClassPathXmlApplicationContext:用于加载classpath(类路径,src)下的指定xml 运行时:WEB-INF/classes..
FileSystemXmlAppliationContext:用于加载指定盘符的xml 运行时:WEB-INF/...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;@Test&lt;br&gt;
public void demo02(){&lt;br&gt;
    String xmlPath=&amp;quot;com/itheima/b_di/beans.xml&amp;quot;;&lt;br&gt;
    BeanFactory factory=new XmlBeanFactory(new ClassPathResource(xmlPath));//延迟加载 第一次调用getBean实例化&lt;br&gt;
    BookService bs = (BookService) factory.getBean(&amp;quot;bookServiceId&amp;quot;);&lt;br&gt;
    bs.addBook();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
Bean的实例化方式
1. 默认构造
2. 静态工厂
3. 实例工厂

###### 静态工厂

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class MyBeanFactory {&lt;br&gt;
    //静态工厂-创建实例&lt;br&gt;
    public static UserService createService(){&lt;br&gt;
        return new UserServiceImpl();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class TestStaticFactory {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01(){//自定义工厂&lt;br&gt;
        UserService service = MyBeanFactory.createService();&lt;br&gt;
        service.addUser();&lt;br&gt;
    }&lt;br&gt;
    @Test&lt;br&gt;
    public void demo02(){//Spring工厂&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/c_inject/b_static_factory/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext appctx=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserService us = appctx.getBean(&amp;quot;userService&amp;quot;, UserService.class);&lt;br&gt;
        us.addUser();&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&lt;bean id=&quot;userService&quot; class=&quot;com.itheima.c_inject.b_static_factory.MyBeanFactory&quot; factory-method=&quot;createService&quot;&gt;&lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### 实例工厂
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class MyBeanFactory {&lt;br&gt;
    //实例工厂-创建实例&lt;br&gt;
    public UserService createService(){&lt;br&gt;
        return new UserServiceImpl();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class TestStaticFactory {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01(){//自定义工厂&lt;br&gt;
        UserService service = new MyBeanFactory().createService();&lt;br&gt;
        service.addUser();&lt;br&gt;
    }&lt;br&gt;
    @Test&lt;br&gt;
    public void demo02(){//Spring工厂&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/c_inject/c_factory/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext appctx=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserService us = appctx.getBean(&amp;quot;userService&amp;quot;, UserService.class);&lt;br&gt;
        us.addUser();&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;/p&gt;

&lt;!--创建工厂实例--&gt;

&lt;p&gt;&lt;bean id=&quot;myBeanFactory&quot; class=&quot;com.itheima.c_inject.c_factory.MyBeanFactory&quot;&gt;&lt;/bean&gt;&lt;/p&gt;

&lt;!--获得userService--&gt;

&lt;p&gt;&lt;bean id=&quot;userService&quot; factory-bean=&quot;myBeanFactory&quot; factory-method=&quot;createService&quot;&gt;&lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## Bean的种类
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bean的种类&lt;br&gt;
    |&lt;br&gt;
    |--普通bean&lt;br&gt;
    |     |&lt;br&gt;
    |     |--&lt;bean id=&quot;&quot; class=&gt; spring直接创建实例并返回&lt;br&gt;
    |&lt;br&gt;
    |&lt;br&gt;
    |&lt;br&gt;
    |--FactoryBean&lt;br&gt;
          |&lt;br&gt;
          |--是一个特殊的bean,具有工厂生产对象的能力，只能生产特定的对象&lt;br&gt;
          |&lt;br&gt;
          |--bean:实现使用FactoryBean接口，此接口提供方法getObject()用于获得特定的bean&lt;br&gt;
          |&lt;br&gt;
          |--&lt;bean id=&quot;&quot; class=&quot;FB&quot;&gt; 先创建FB实列，使用调用getObject()方法，并返回方法的返回值&lt;br&gt;
          |&lt;br&gt;
          |--BeanFactory和FactoryBean&lt;br&gt;
                    |&lt;br&gt;
                    |--BeanFactory:工厂，用于生产任意bean&lt;br&gt;
                    |&lt;br&gt;
                    |--FacotryBean:特殊bean,用于生产另一个特定的bean&lt;br&gt;
                            |&lt;br&gt;
                            |--ProxyFactoryBean,此工厂bean用于生产代&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## 作用域
&amp;gt; 用于spring创建实例的个数
|类别|说明|
|---|----|
|singleton|Bean以单例方式存在|
|prototype|每次调用getBean()都创建一个实例|
|request|每次Http请求都创建一个新的Bean|
|session|同一个session共享一个Bean|
|globalSession|一般用于protlet应用|
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//bean.xml&lt;br&gt;
&lt;bean id=&quot;userService&quot; class=&quot;com.itheima.c_inject.d_scope.UserServiceImpl&quot;&lt;br&gt;
scope=&quot;prototype&quot;&gt;&lt;/bean&gt;&lt;/p&gt;

&lt;p&gt;//Test01.java&lt;br&gt;
@Test&lt;br&gt;
public void demo02(){&lt;br&gt;
    String xmlPath=&amp;quot;com/itheima/c_inject/d_scope/beans.xml&amp;quot;;&lt;br&gt;
    ApplicationContext appctx=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
    UserService us1 = appctx.getBean(&amp;quot;userService&amp;quot;, UserService.class);&lt;br&gt;
    UserService us2 = appctx.getBean(&amp;quot;userService&amp;quot;, UserService.class);&lt;br&gt;
    System.out.println(us1);&lt;br&gt;
    System.out.println(us2);&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## 声明周期

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;生命周期&lt;br&gt;
    |&lt;br&gt;
    |--初始化和销毁方法&lt;br&gt;
            |&lt;br&gt;
            |--目标方法执行前后执行后，将执行初始化或销毁&lt;br&gt;
            |&lt;br&gt;
            |--&lt;bean id=&quot;&quot; class=&quot;&quot; init-method=&quot;初始化方法名称&quot; destory-method=&quot;销毁方法名称&quot;&gt;&lt;br&gt;
                    |&lt;br&gt;
                    |--init-method:准备资源&lt;br&gt;
                    |--destory-method:清理资源&lt;/p&gt;

&lt;p&gt;BeanPostProcessor 后处理Bean&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class UserServiceImpl implements UserService {&lt;br&gt;
    @Override&lt;br&gt;
    public void addUser() {&lt;br&gt;
        System.out.println(&amp;quot;e_cycle addUser&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
    public void myInit(){&lt;br&gt;
        System.out.println(&amp;quot;我的初始化&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
    public void myDestory(){&lt;br&gt;
        System.out.println(&amp;quot;我的销毁&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&amp;lt;bean id=&amp;quot;userService&amp;quot; class=&amp;quot;com.itheima.c_inject.e_lifecycle.UserServiceImpl&amp;quot;&lt;br&gt;
      init-method=&amp;quot;myInit&amp;quot; destroy-method=&amp;quot;myDestory&amp;quot; scope=&amp;quot;prototype&amp;quot;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;/bean&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;@Test&lt;br&gt;
public void demo02() throws Exception{&lt;br&gt;
    String xmlPath = &amp;quot;com/itheima/c_inject/e_lifecycle/beans.xml&amp;quot;;&lt;br&gt;
    ApplicationContext app = new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
    UserService service = (UserService) app.getBean(&amp;quot;userService&amp;quot;);&lt;br&gt;
    service.addUser();&lt;br&gt;
    //此方法接口没有定义，实现类定义了&lt;br&gt;
   // app.getClass().getMethod(&amp;quot;close&amp;quot;).invoke(app);&lt;br&gt;
    ((ClassPathXmlApplicationContext)app).close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## BeanPostProcessor 后处理Bean
&amp;gt; spring提供一种机制，只要实现此接口，并将实现类提供spring容器，spring容器自动执行
&amp;gt; 在初始化执行之前beofre(),只执行方法之后执行aflter()
&amp;gt; spring提供的工厂钩子，用于修改实例对象，可以生成代理对象，是AOP底层
&amp;gt; &amp;lt;bean id=&quot;&quot; class=&quot;&quot;/&amp;gt;
&amp;gt; 默认作用于所有的bean 通过alter()方法的beanName进行判断选择作用与谁  

###### 模拟

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A a=new A();&lt;br&gt;
a =B.before(a); --&amp;gt;将a的实例对象传递后处理bean,可以生成代理对象并返回&lt;br&gt;
a.init();&lt;br&gt;
a =B.aflter();&lt;br&gt;
a.addUser();--&amp;gt; 生成代理对象，目的在目标方法前后执行(事务管理)&lt;/p&gt;

&lt;p&gt;步骤&lt;br&gt;
 |&lt;br&gt;
 |--编写BeanPostProcessor的实现类&lt;br&gt;
 |&lt;br&gt;
 |--配置&lt;br&gt;
     |--&amp;lt;bean  class=&amp;quot;BeanPostProcessor的实现类&amp;quot;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class MyBeanPostProcessor implements BeanPostProcessor {&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
public Object postProcessBeforeInitialization(Object o, String s) throws BeansException {
    System.out.println(&quot;前方法: &quot;+s);
    return o;
}

@Override
public Object postProcessAfterInitialization(final Object o, String s) throws BeansException {
    System.out.println(&quot;后方法: &quot;+s);
    return Proxy.newProxyInstance(o.getClass().getClassLoader(), o.getClass().getInterfaces(), new InvocationHandler() {
        @Override
        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
            System.out.println(&quot;---------开启事务&quot;);
            Object proxyObject = method.invoke(o, args);
            System.out.println(&quot;---------提交事务&quot;);
            return proxyObject;
        }
    });
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;br&gt;
    &lt;bean id=&quot;userService&quot; class=&quot;com.itheima.c_inject.e_lifecycle.UserServiceImpl&quot;&lt;br&gt;
          init-method=&quot;myInit&quot; destroy-method=&quot;myDestory&quot; scope=&quot;prototype&quot;&lt;br&gt;
    &gt;&lt;/bean&gt;&lt;br&gt;
    &lt;bean class=&quot;com.itheima.c_inject.e_lifecycle.MyBeanPostProcessor&quot;/&gt;&lt;br&gt;
&lt;/beans&gt;&lt;/p&gt;

&lt;p&gt;public class TestCycle {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo02() throws Exception{&lt;br&gt;
        String xmlPath = &amp;quot;com/itheima/c_inject/e_lifecycle/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext app = new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        UserService service = (UserService) app.getBean(&amp;quot;userService&amp;quot;);&lt;br&gt;
        service.addUser();&lt;br&gt;
        //此方法接口没有定义，实现类定义了&lt;br&gt;
       // app.getClass().getMethod(&amp;quot;close&amp;quot;).invoke(app);&lt;br&gt;
        ((ClassPathXmlApplicationContext)app).close();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## 属性的依赖注入
&amp;gt; 依赖注入方式:手动装配和自动装配
&amp;gt; 手动装配:一般采用手动 分为:基于xml的装配 基于注解装配
&amp;gt; 自动装配:struts和spring整合可以自动装配

## 构造注入
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;构造注入&lt;br&gt;
  |&lt;br&gt;
  |--&lt;bean&gt;&lt;br&gt;
       |&lt;br&gt;
       |--&lt;constructor-arg name=&quot;&quot; value=&quot;&quot; index=&quot;&quot; type=&quot;&quot;/&gt;&lt;br&gt;
                |&lt;br&gt;
                |--name:参数名称&lt;br&gt;
                |--value:设置普通数据&lt;br&gt;
                |--rel:引用数据，一般是另一个bean id的值&lt;br&gt;
                |--index:参数的索引号,从0开始。如果只有索引，匹配到了多个构造方法，默认使用第一个&lt;br&gt;
                |--type:确定参数类型&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//User.java&lt;br&gt;
public class User {&lt;br&gt;
    private Integer uid;&lt;br&gt;
    private String username;&lt;br&gt;
    private Integer age;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public User(Integer uid, String username) {
    this.uid = uid;
    this.username = username;
}

public User(String username, Integer age) {
    this.username = username;
    this.age = age;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//TestCons.java&lt;br&gt;
@Test&lt;br&gt;
public void demo02() throws Exception{&lt;br&gt;
    String xmlPath=&amp;quot;com/itheima/c_inject/f_xml/a_constructor/beans.xml&amp;quot;;&lt;br&gt;
    ApplicationContext app=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
    User user= (User) app.getBean(&amp;quot;user&amp;quot;);&lt;br&gt;
    System.out.println(user);&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;br&gt;
    &amp;lt;!--&lt;br&gt;
       用于配置构造方法的的一个参数&lt;br&gt;
       name:参数名称&lt;br&gt;
       value:设置普通数据&lt;br&gt;
       rel:引用数据，一般是另一个bean id的值&lt;br&gt;
       index:参数的索引号,从0开始。如果只有索引，匹配到了多个构造方法，默认使用第一个&lt;br&gt;
       type:确定参数类型&lt;br&gt;
        --&amp;gt;&lt;br&gt;
    &lt;bean id=&quot;user&quot; class=&quot;com.itheima.c_inject.f_xml.a_constructor.User&quot;&gt;&lt;br&gt;
        &lt;constructor-arg index=&quot;0&quot; value=&quot;1&quot; type=&quot;java.lang.String&quot;/&gt;&lt;br&gt;
        &lt;constructor-arg index=&quot;1&quot; value=&quot;2&quot; type=&quot;int&quot;/&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
&lt;/beans&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;## Setter方法
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class Person {&lt;br&gt;
    private String pname;&lt;br&gt;
    private Integer age;&lt;br&gt;
    private Address homeAddr;&lt;br&gt;
    private Address companyAddr;&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public class Address {&lt;br&gt;
    private String addr;&lt;br&gt;
    private String tel;&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//bean.xml&lt;br&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;br&gt;
    &lt;bean id=&quot;person&quot; class=&quot;com.itheima.c_inject.f_xml.b_setter.Person&quot;&gt;&lt;br&gt;
        &lt;property name=&quot;pname&quot; value=&quot;阳志&quot;/&gt;&lt;br&gt;
        &lt;property name=&quot;age&quot;&gt;&lt;br&gt;
            &lt;value&gt;123&lt;/value&gt;&lt;br&gt;
        &lt;/property&gt;&lt;br&gt;
        &lt;property name=&quot;homeAddr&quot; ref=&quot;homeAddr&quot;/&gt;&lt;br&gt;
        &lt;property name=&quot;companyAddr&quot;&gt;&lt;br&gt;
            &lt;ref bean=&quot;companyAddr&quot;/&gt;&lt;br&gt;
        &lt;/property&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
    &lt;bean id=&quot;homeAddr&quot; class=&quot;com.itheima.c_inject.f_xml.b_setter.Address&quot;&gt;&lt;br&gt;
        &lt;property name=&quot;addr&quot; value=&quot;阜南&quot;/&gt;&lt;br&gt;
        &lt;property name=&quot;tel&quot; value=&quot;991&quot;/&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
    &lt;bean id=&quot;companyAddr&quot; class=&quot;com.itheima.c_inject.f_xml.b_setter.Address&quot;&gt;&lt;br&gt;
        &lt;property name=&quot;addr&quot; value=&quot;北京八宝山&quot;/&gt;&lt;br&gt;
        &lt;property name=&quot;tel&quot; value=&quot;120&quot;/&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
&lt;/beans&gt;&lt;/p&gt;

&lt;p&gt;public class TestSetter {&lt;br&gt;
    @Test&lt;br&gt;
    public void demo01(){&lt;br&gt;
        String xmlPath=&amp;quot;com/itheima/c_inject/f_xml/b_setter/beans.xml&amp;quot;;&lt;br&gt;
        ApplicationContext app=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
        Person p= (Person) app.getBean(&amp;quot;person&amp;quot;);&lt;br&gt;
        System.out.println(p);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## P命令空间
&amp;gt; 对setter方法进行简化,替换&amp;lt;property name=&quot;属性名&quot;&amp;gt;,而是在&amp;lt;bean p:属性名=“普通值” p:属性名-ref=&quot;引用值&quot;&amp;gt;
&amp;gt; p命名空间使用的前提,必须添加命名空间
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br&gt;
       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;&lt;br&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br&gt;
                           http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;br&gt;
    &lt;bean id=&quot;person&quot; class=&quot;com.itheima.c_inject.f_xml.c_p.Person&quot;&lt;br&gt;
          p:pname=&quot;与泰普&quot; p:age=&quot;22&quot;&lt;br&gt;
          p:homeAddr-ref=&quot;homeAddr&quot; p:companyAddr-ref=&quot;companyAddr&quot;&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
    &lt;bean id=&quot;homeAddr&quot; class=&quot;com.itheima.c_inject.f_xml.c_p.Address&quot;&lt;br&gt;
          p:addr=&quot;DG&quot; p:tel=&quot;10010&quot;&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
    &lt;bean id=&quot;companyAddr&quot; class=&quot;com.itheima.c_inject.f_xml.c_p.Address&quot;&lt;br&gt;
          p:addr=&quot;DG&quot; p:tel=&quot;10086&quot;&gt;&lt;br&gt;
    &lt;/bean&gt;&lt;br&gt;
&lt;/beans&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## SpEl
&amp;gt; 对&amp;lt;property&amp;gt;进行统一编程 所有的内容都使用value
&amp;gt; &amp;amp;lt;property name=&quot;&quot; value=&quot;#{表达式}&quot;&amp;gt;
|表达式|说明|
|-------|------|
|\#{123}|数字|
|\#{'jack'}|字符串|
|\#{beanId}|另一个bean的引用|
|\#{beanId.propName}|操作数据|
|\#{beanid.toString()|执行方法|
|\#{beanid.name?.toUpperCase()|如果属性不为空就调用|
|\#{T(静态类).字段\|方法|静态字段或方法|

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class Customer  {&lt;br&gt;
    private String cname=&amp;quot;jack&amp;quot;;&lt;br&gt;
    private Double pi;&lt;br&gt;
}&lt;br&gt;
//TestSPEL.java&lt;br&gt;
public void demo02() throws Exception{&lt;br&gt;
    String xmlPath=&amp;quot;com/itheima/c_inject/f_xml/d_spel/beans.xml&amp;quot;;&lt;br&gt;
    ApplicationContext app=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
    Customer c= (Customer) app.getBean(&amp;quot;customer&amp;quot;);&lt;br&gt;
    System.out.println(c);&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//Bean.xml&lt;br&gt;
&lt;bean id=&quot;customer&quot; class=&quot;com.itheima.c_inject.f_xml.d_spel.Customer&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;cname&quot; value=&quot;#{customer.cname?.toUpperCase()}&quot;/&gt;&lt;br&gt;
    &lt;property name=&quot;pi&quot; value=&quot;#{T(java.lang.Math).PI}&quot;/&gt;&lt;br&gt;
&lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## 集合注入
&amp;gt; 集合的注入都是给&amp;lt;property&amp;gt;添加子标签
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;bean id=&quot;collData&quot; class=&quot;com.itheima.c_inject.f_xml.e_coll.CollData&quot;&gt;&lt;br&gt;
    &lt;property name=&quot;arrData&quot;&gt;&lt;br&gt;
        &lt;array&gt;&lt;br&gt;
            &lt;value&gt;DS&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;DZD&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;屌丝&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;屌中屌&lt;/value&gt;&lt;br&gt;
        &lt;/array&gt;&lt;br&gt;
    &lt;/property&gt;&lt;br&gt;
    &lt;property name=&quot;listData&quot;&gt;&lt;br&gt;
        &lt;list&gt;&lt;br&gt;
            &lt;value&gt;孙悟空&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;猪八戒&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;沙和尚&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;白龙马&lt;/value&gt;&lt;br&gt;
        &lt;/list&gt;&lt;br&gt;
    &lt;/property&gt;&lt;br&gt;
    &lt;property name=&quot;setData&quot;&gt;&lt;br&gt;
        &lt;set&gt;&lt;br&gt;
            &lt;value&gt;鸣人&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;佐助&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;卡卡西&lt;/value&gt;&lt;br&gt;
            &lt;value&gt;我爱罗&lt;/value&gt;&lt;br&gt;
        &lt;/set&gt;&lt;br&gt;
    &lt;/property&gt;&lt;br&gt;
    &lt;property name=&quot;mapData&quot;&gt;&lt;br&gt;
        &lt;map&gt;&lt;br&gt;
            &lt;entry key=&quot;佩恩&quot; value=&quot;神罗天征&quot;&gt;&lt;/entry&gt;&lt;br&gt;
            &lt;entry&gt;&lt;br&gt;
                &lt;key&gt;&lt;br&gt;
                    &lt;value&gt;三代火影&lt;/value&gt;&lt;br&gt;
                &lt;/key&gt;&lt;br&gt;
                &lt;value&gt;尸鬼封尽&lt;/value&gt;&lt;br&gt;
            &lt;/entry&gt;&lt;br&gt;
            &lt;entry key=&quot;大蛇丸&quot; value=&quot;碎土转生&quot;&gt;&lt;/entry&gt;&lt;br&gt;
            &lt;entry key=&quot;宇智波鼬&quot; value=&quot;须佐之男&quot;&gt;&lt;/entry&gt;&lt;br&gt;
        &lt;/map&gt;&lt;br&gt;
    &lt;/property&gt;&lt;br&gt;
    &lt;property name=&quot;propsData&quot;&gt;&lt;br&gt;
        &lt;props&gt;&lt;br&gt;
            &lt;prop key=&quot;碎蜂&quot;&gt;尽敌螯杀&lt;/prop&gt;&lt;br&gt;
            &lt;prop key=&quot;蓝染&quot;&gt;镜花水月&lt;/prop&gt;&lt;br&gt;
            &lt;prop key=&quot;白哉&quot;&gt;千本樱&lt;/prop&gt;&lt;br&gt;
            &lt;prop key=&quot;山本元柳斎重国&quot;&gt;流刃若火&lt;/prop&gt;&lt;br&gt;
        &lt;/props&gt;&lt;br&gt;
    &lt;/property&gt;&lt;br&gt;
&lt;/bean&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## 装配Bean基于注解
&amp;gt; 注解:就是一个类，使用@注解名称
&amp;gt; 使用注解取代xml配置文件
&amp;gt; 注解使用前提，添加命名空间，让spring扫描含有注解的类
|注解|说明|
|---|----|
|@Component|取代&amp;amp;ltg;bean class=&quot;&quot;&amp;gt;|
|@Component(&quot;id&quot;)|取代&amp;amp;ltg;bean id=&quot;id&quot; class=&quot;&quot;&amp;gt;|
|web开发||
|@Repository|web开发:dao层,取代&amp;amp;ltg;bean id=&quot;id&quot; class=&quot;&quot;&amp;gt;|
|@Service|web开发:service层,取代&amp;amp;ltg;bean id=&quot;id&quot; class=&quot;&quot;&amp;gt;|
|@Controller|web开发:web层,取代&amp;amp;ltg;bean id=&quot;id&quot; class=&quot;&quot;&amp;gt;|
|依赖注入|给私有字段设置，也可以给setter方法设置|
|@Value(&quot;&quot;)|普通值注入|
|@AutoWired|按照类型注入|
|@AutoWired@Qualifier(&quot;名称&quot;)|按照名称注入|
|@Resource(&quot;名称&quot;)|按照名称注入|
|生命周期||
|@PostConstruct|初始化|
|@PreDestoy|销毁|
|@Scope(&quot;prototype &quot;)|作用域,多列|

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public interface UserService {&lt;br&gt;
    public void addUser();&lt;br&gt;
}&lt;br&gt;
@Component(&amp;quot;userServiceId&amp;quot;)&lt;br&gt;
public class UserServiceImpl implements UserService {&lt;br&gt;
    @Override&lt;br&gt;
    public void addUser() {&lt;br&gt;
        System.out.println(&amp;quot;a_ioc addUser&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
}&lt;br&gt;
&lt;context:component-scan base-package=&quot;com.itheima.c_inject.f_xml.g_annotation.a_ioc&quot;&gt;&lt;a href=&quot;/context:component-scan&quot;&gt;/context:component-scan&lt;/a&gt;&lt;br&gt;
@Test&lt;br&gt;
public void demo02(){&lt;br&gt;
    String xmlPath=&amp;quot;com/itheima/c_inject/f_xml/g_annotation/a_ioc/beans.xml&amp;quot;;&lt;br&gt;
    //获得容器&lt;br&gt;
    ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
    //获得内容&lt;br&gt;
    UserService us= (UserService) applicationContext.getBean(&amp;quot;userServiceId&amp;quot;);&lt;br&gt;
    us.addUser();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;@Controller(&amp;quot;studentAction&amp;quot;)&lt;br&gt;
public class StudentAction {&lt;br&gt;
    @Autowired&lt;br&gt;
    private StudentService service;&lt;br&gt;
    public void execute(){&lt;br&gt;
        System.out.println(&amp;quot;StudenAction&amp;quot;);&lt;br&gt;
        service.addStudent();&lt;br&gt;
    }&lt;br&gt;
}&lt;br&gt;
public interface StudentService  {&lt;br&gt;
    void addStudent();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;@Service&lt;br&gt;
public class StudentServiceImpl implements StudentService {&lt;br&gt;
    private StudentDao dao;&lt;br&gt;
    @Override&lt;br&gt;
    public void addStudent() {&lt;br&gt;
        System.out.println(&amp;quot;studentService&amp;quot;);&lt;br&gt;
        dao.save();&lt;br&gt;
    }&lt;br&gt;
    @Autowired&lt;br&gt;
    @Qualifier(&amp;quot;studentDaoId&amp;quot;)&lt;br&gt;
    public void setDao(StudentDao dao) {&lt;br&gt;
        this.dao = dao;&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;public interface StudentDao {&lt;br&gt;
    void save();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;@Repository(&amp;quot;studentDaoId&amp;quot;)&lt;br&gt;
public class StudentDaoImpl implements StudentDao {&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Override
public void save() {
    System.out.println(&quot;studentDao&quot;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;br&gt;
&lt;context:component-scan base-package=&quot;com.itheima.c_inject.f_xml.g_annotation.b_web&quot;&gt;&lt;a href=&quot;/context:component-scan&quot;&gt;/context:component-scan&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;@Test&lt;br&gt;
public void demo02(){&lt;br&gt;
    String xmlPath=&amp;quot;com/itheima/c_inject/f_xml/g_annotation/b_web/beans.xml&amp;quot;;&lt;br&gt;
    //获得容器&lt;br&gt;
    ApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
    //获得内容&lt;br&gt;
    StudentAction studentAction= (StudentAction) applicationContext.getBean(&amp;quot;studentAction&amp;quot;);&lt;br&gt;
    studentAction.execute();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public interface UserService {&lt;br&gt;
    public void addUser();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;@Service(&amp;quot;userServiceId&amp;quot;)&lt;br&gt;
@Scope(&amp;quot;prototype&amp;quot;)&lt;br&gt;
public class UserServiceImpl implements UserService {&lt;br&gt;
    @Override&lt;br&gt;
    public void addUser() {&lt;br&gt;
        System.out.println(&amp;quot;a_ioc addUser&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
    @PostConstruct&lt;br&gt;
    public void myInit(){&lt;br&gt;
        System.out.println(&amp;quot;初始化&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
    @PreDestroy&lt;br&gt;
    public void myDestory(){&lt;br&gt;
        System.out.println(&amp;quot;销毁&amp;quot;);&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;@Test&lt;br&gt;
public void demo02(){&lt;br&gt;
    String xmlPath=&amp;quot;com/itheima/c_inject/f_xml/g_annotation/c_other/beans.xml&amp;quot;;&lt;br&gt;
    //获得容器&lt;br&gt;
    ClassPathXmlApplicationContext applicationContext=new ClassPathXmlApplicationContext(xmlPath);&lt;br&gt;
    //获得内容&lt;br&gt;
    UserService us1= (UserService) applicationContext.getBean(&amp;quot;userServiceId&amp;quot;,UserService.class);&lt;br&gt;
    UserService us2= (UserService) applicationContext.getBean(&amp;quot;userServiceId&amp;quot;,UserService.class);&lt;br&gt;
    System.out.println(us1);&lt;br&gt;
    System.out.println(us2);&lt;br&gt;
    applicationContext.close();&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;&lt;context:component-scan base-package=&quot;com.itheima.c_inject.f_xml.g_annotation.c_other&quot;&gt;&lt;a href=&quot;/context:component-scan&quot;&gt;/context:component-scan&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;















1.将所有的bean都配置xml中


       &amp;lt;bean
id=&quot;&quot; class=&quot;&quot;&amp;gt;


2.将所有的依赖都使用注解


       @Autowired


       默认不生效。为了生效，需要在xml配置：&amp;lt;context:annotation-config&amp;gt;





总结：


注解1：&amp;lt;context:component-scan
base-package=&quot; &quot;&amp;gt;


注解2：&amp;lt;context:annotation-config&amp;gt;


1.一般情况两个注解不一起使用。


2. “注解1”扫描含有注解（@Component
等）类，注入注解自动生效。


       “注解2”只在xml和注解（注入）混合使用时，使注入注解生效。















&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-5-23-Hibernate04"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-5-23-Hibernate04</id>
   <content type="html">&lt;h2 id=&quot;hibernate中的log4j配置&quot;&gt;Hibernate中的log4j配置&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;添加jar包 slf4j-log4j12-xx.jar log4j-1.2.16.jar&lt;/li&gt;
&lt;li&gt;添加log4j.properties设置
## Hibernate中配置一对一
###### 外键的方式
```
public class Address {
private Integer id;
private String name;
private Company company;
}
//Address.hbm.xml
&amp;lt;!--unique 外键唯一--&amp;gt;
&lt;many-to-one name=&quot;company&quot; class=&quot;Company&quot; column=&quot;cid&quot; unique=&quot;true&quot;/&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;public class Company {&lt;br&gt;
    private Integer id;&lt;br&gt;
    private String name;&lt;br&gt;
    private Address address;&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//Company.hbm.xml&lt;/p&gt;

&lt;!--配置一对--&gt;

&lt;!--one to one 默认使用主键同步策略完成--&gt;

&lt;!--property-ref 指定company一对一关联时指向那个属性--&gt;

&lt;p&gt;&lt;one-to-one name=&quot;address&quot; class=&quot;Address&quot; property-ref=&quot;company&quot;&gt;&lt;/one-to-one&gt;&lt;/p&gt;

&lt;p&gt;//Demo1&lt;br&gt;
//保存一对一&lt;br&gt;
@Test&lt;br&gt;
public void fun1(){&lt;br&gt;
    Session session = HibernateUtil.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Company company = new Company();&lt;br&gt;
    company.setName(&amp;quot;传智播客&amp;quot;);&lt;br&gt;
    Address address = new Address();&lt;br&gt;
    address.setName(&amp;quot;金燕龙&amp;quot;);&lt;br&gt;
    //在一对一使用外键时，外键所在的才能维护关系，另一方无法维护关系&lt;br&gt;
    address.setCompany(company);&lt;br&gt;
    session.save(company);&lt;br&gt;
    session.save(address);&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;ts.commit();
session.close();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;br&gt;
@Test&lt;br&gt;
public void fun2(){&lt;br&gt;
    Session session = HibernateUtil.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Company c = (Company) session.get(Company.class, 1);&lt;br&gt;
    System.out.println(c);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### 主键同步
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//Address.hbm.xml&lt;br&gt;
&lt;id name=&quot;id&quot; column=&quot;id&quot; type=&quot;int&quot;&gt;&lt;br&gt;
    &amp;lt;!--foreign既是主键又是外键--&amp;gt;&lt;br&gt;
    &lt;generator class=&quot;foreign&quot;&gt;&lt;br&gt;
        &amp;lt;!--作为外键时引用那个属性--&amp;gt;&lt;br&gt;
        &lt;param name=&quot;property&quot;&gt;company&lt;/param&gt;&lt;br&gt;
    &lt;/generator&gt;&lt;br&gt;
&lt;/id&gt;&lt;/p&gt;

&lt;!--constrained主键约束--&gt;

&lt;p&gt;&lt;one-to-one name=&quot;company&quot; class=&quot;Company&quot; constrained=&quot;true&quot;&gt;&lt;/one-to-one&gt;&lt;/p&gt;

&lt;p&gt;//company.hbm.xml&lt;br&gt;
&lt;one-to-one name=&quot;address&quot; class=&quot;Address&quot; &gt;&lt;/one-to-one&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## 二级缓存
&amp;gt; 级别:transactional(事务型) read-write(读写型) nostrict-read-write(非常严格的读写型)  read-only(只读型)
&amp;gt; 应用场景:很少被修改，不是很重要，经常被读取。

## eacache
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;eacache使用步骤&lt;br&gt;
    |&lt;br&gt;
    |--导入jar包&lt;br&gt;
    |    |&lt;br&gt;
    |    |--backport-util-concurrent-2.1.jar 依赖&lt;br&gt;
    |    |--commons-loggin-1.1.1.jar 依赖&lt;br&gt;
    |    |--ehcache-1.5.0.jar 核心&lt;br&gt;
    |&lt;br&gt;
    |--开启二级缓存(hibernate.cfg.xml中)&lt;br&gt;
    |    |&lt;br&gt;
    |    |--&lt;property name=&quot;hibernate.cache.provider_class&quot;&gt;org.hibernate.cache.EhCacheProvider&lt;/property&gt;&lt;br&gt;
    |    |--&lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;&lt;br&gt;
    |&lt;br&gt;
    |&lt;br&gt;
    |--确定缓存内容(hibernate.cfg.xml中)&lt;br&gt;
         |&lt;br&gt;
         |--&lt;class-cache class=&quot;Customer&quot; usage=&quot;read-only&quot;&gt;&lt;/class-cache&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### 二级缓存:类缓存

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//hibernate.cfg.xml&lt;/p&gt;

&lt;!--配置二级缓存--&gt;

&lt;p&gt;&lt;property name=&quot;hibernate.cache.provider_class&quot;&gt;org.hibernate.cache.EhCacheProvider&lt;/property&gt;&lt;br&gt;
&lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;&lt;br&gt;
&lt;mapping resource=&quot;com/itheima/domain/Customer_hbm.xml&quot;&gt;&lt;/mapping&gt;&lt;br&gt;
&lt;mapping resource=&quot;com/itheima/domain/Order_hbm.xml&quot;&gt;&lt;/mapping&gt;&lt;br&gt;
&lt;class-cache class=&quot;com.itheima.domain.Customer&quot; usage=&quot;read-only&quot;&gt;&lt;/class-cache&gt;&lt;br&gt;
&lt;class-cache class=&quot;com.itheima.domain.Order&quot; usage=&quot;read-only&quot;&gt;&lt;/class-cache&gt;&lt;/p&gt;

&lt;p&gt;//类缓存&lt;br&gt;
@Test&lt;br&gt;
public void fun1(){&lt;br&gt;
    Session session = HibernateUtil.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Customer c1 = (Customer) session.get(Customer.class, 1);&lt;br&gt;
    session.clear();//清空一级缓存&lt;br&gt;
    Customer c2 = (Customer) session.get(Customer.class, 1);&lt;br&gt;
    System.out.println(c1==c2);//false 二级缓存数据并不是以对象形式缓存。缓存的对象的散列&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### 二级缓存:集合缓存
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//Hibernate.cfg.xml&lt;/p&gt;

&lt;!--集合缓存配置--&gt;

&lt;p&gt;&lt;collection-cache collection=&quot;com.itheima.domain.Customer.orders&quot; usage=&quot;read-only&quot;&gt;&lt;/collection-cache&gt;&lt;/p&gt;

&lt;p&gt;//集合缓存&lt;br&gt;
@Test&lt;br&gt;
public void fun1(){&lt;br&gt;
    Session session = HibernateUtil.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Customer c1 = (Customer) session.get(Customer.class, 1);&lt;br&gt;
    for(Order o:c1.getOrders()){&lt;br&gt;
        System.out.println(o.getName());&lt;br&gt;
    }&lt;br&gt;
    session.clear();&lt;br&gt;
    Customer c2 = (Customer) session.get(Customer.class, 1);&lt;br&gt;
    for(Order o:c2.getOrders()){&lt;br&gt;
        System.out.println(o.getName());&lt;br&gt;
    }&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;###### 二级缓存:查询缓存(HQL缓存)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//Hibernate.cfg.xml&lt;/p&gt;

&lt;!--开启查询缓存--&gt;

&lt;p&gt;&lt;property name=&quot;hibernate.cache.use_query_cache&quot;&gt;true&lt;/property&gt;&lt;/p&gt;

&lt;p&gt;//HQL查询缓存&lt;br&gt;
@Test&lt;br&gt;
public void fun1(){&lt;br&gt;
    Session session = HibernateUtil.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Query query = session.createQuery(&amp;quot;from Customer &amp;quot;);&lt;br&gt;
    //使用二级缓存，查询时先从二级缓存中去结果，如果取不到执行语句将结果放到二级缓存中&lt;br&gt;
    query.setCacheable(true);&lt;br&gt;
    List&lt;Customer&gt; list = query.list();&lt;br&gt;
    session.clear();&lt;br&gt;
    Query query2 = session.createQuery(&amp;quot;from Customer &amp;quot;);&lt;br&gt;
    query2.setCacheable(true);&lt;br&gt;
    List list2 = query2.list();&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### 时间戳区
&amp;gt; 记录的是表和最后操作的时间
&amp;gt; 判断二级缓存的时效性
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//时间戳区&lt;br&gt;
@Test&lt;br&gt;
public void fun1(){&lt;br&gt;
    Session session = HibernateUtil.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Customer c1 = (Customer) session.get(Customer.class, 1);&lt;br&gt;
    session.createQuery(&amp;quot;update Customer  set name =:name where id=:id&amp;quot;)&lt;br&gt;
            .setString(&amp;quot;name&amp;quot;,&amp;quot;rose&amp;quot;).setInteger(&amp;quot;id&amp;quot;,1)&lt;br&gt;
            .executeUpdate();&lt;br&gt;
    session.clear();&lt;br&gt;
    Customer c2 = (Customer) session.get(Customer.class, 1);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## ehcache二级缓存配置
&amp;gt; ehcache-1.5.0.jar 中 ehcache-failsafe.xml 复制到src下改名ehcache.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;maxElementsInMemory=&amp;quot;10000&amp;quot;  内存最大数&lt;br&gt;
eternal=&amp;quot;false&amp;quot;  是否永久（内存常驻留）&lt;br&gt;
timeToIdleSeconds=&amp;quot;120&amp;quot; 最多空闲多少秒&lt;br&gt;
timeToLiveSeconds=&amp;quot;120&amp;quot; 最多存活多少秒&lt;br&gt;
overflowToDisk=&amp;quot;true&amp;quot;  内存满了，是否写入到硬盘&lt;br&gt;
maxElementsOnDisk=&amp;quot;10000000&amp;quot;  硬盘最大数&lt;br&gt;
diskPersistent=&amp;quot;false&amp;quot;  关闭JVM，是否将内存保存硬盘中&lt;br&gt;
diskExpiryThreadIntervalSeconds=&amp;quot;120&amp;quot;  轮询&lt;br&gt;
memoryStoreEvictionPolicy=&amp;quot;LRU&amp;quot; 移出策略 LRU最近最少使用 LFU最不常用 FIFO先进先出&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;../config/ehcache.xsd&quot;&gt;&lt;br&gt;
    &amp;lt;!--缓存路径--&amp;gt;&lt;br&gt;
    &lt;diskStore path=&quot;java.io.tmpdir&quot;/&gt;&lt;br&gt;
    &lt;defaultCache&lt;br&gt;
            maxElementsInMemory=&quot;10000&quot;&lt;br&gt;
            eternal=&quot;false&quot;&lt;br&gt;
            timeToIdleSeconds=&quot;120&quot;&lt;br&gt;
            timeToLiveSeconds=&quot;120&quot;&lt;br&gt;
            overflowToDisk=&quot;true&quot;&lt;br&gt;
            maxElementsOnDisk=&quot;10000000&quot;&lt;br&gt;
            diskPersistent=&quot;false&quot;&lt;br&gt;
            diskExpiryThreadIntervalSeconds=&quot;120&quot;&lt;br&gt;
            memoryStoreEvictionPolicy=&quot;LRU&quot;&lt;br&gt;
            /&gt;&lt;/p&gt;

&lt;p&gt;&lt;/ehcache&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-5-22-Hibernate03"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-5-22-Hibernate03</id>
   <content type="html">&lt;p&gt;1.1.1Hibernate的关联关系映射:(多对多)&lt;/p&gt;

&lt;p&gt;1.1.1.1多对多的配置:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;Bean.hbm.xml
    |
    |--&amp;lt;set&amp;gt;&amp;lt;/set&amp;gt;表示集合
            |
            |--name:集合的名称
            |--table:多对多中间表名
            |--&amp;lt;key&amp;gt;&amp;lt;/key&amp;gt;
            |       |
            |       |--column:引用我的外键名称
            |
            |--&amp;lt;many-to-many&amp;gt;
                    |
                    |--class:集合引用方的类型
                    |--column:对方在中间表的外键名
inverse:我是否要放弃维护外键
cascade:是否需要级联操作
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class Student {
    private Integer id;
    private String name;
    private Set&amp;lt;Course&amp;gt; courses=new HashSet&amp;lt;&amp;gt;();
}


public class Course {
    private Integer id;
    private String name;
    private Set&amp;lt;Student&amp;gt;students=new HashSet&amp;lt;&amp;gt;();
}

//student.hbm.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;
&amp;lt;!DOCTYPE hibernate-mapping PUBLIC
        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;
        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&amp;gt;
&amp;lt;hibernate-mapping package=&quot;com.itheima.domain&quot;&amp;gt;
    &amp;lt;class name=&quot;Student&quot; table=&quot;t_student&quot;&amp;gt;
        &amp;lt;id type=&quot;int&quot; name=&quot;id&quot; column=&quot;id&quot;&amp;gt;
            &amp;lt;generator class=&quot;native&quot;/&amp;gt;
        &amp;lt;/id&amp;gt;
        &amp;lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot;/&amp;gt;
        &amp;lt;!--多对多--&amp;gt;
        &amp;lt;!--
            set 表达集合
                name:集合的名称
                table:多对多中间表名
            key:表达外键
              column:引用我的外键
            many-to-many 表达多对多
             class:集合引用方的类型
             column:对方在中间表的外键名
        --&amp;gt;
        &amp;lt;set name=&quot;courses&quot; table=&quot;t_student_course&quot; inverse=&quot;false&quot; cascade=&quot;save-update&quot;&amp;gt;
            &amp;lt;key column=&quot;sid&quot;&amp;gt;&amp;lt;/key&amp;gt;
            &amp;lt;many-to-many class=&quot;Course&quot; column=&quot;cid&quot;/&amp;gt;
        &amp;lt;/set&amp;gt;
    &amp;lt;/class&amp;gt;
&amp;lt;/hibernate-mapping&amp;gt;

//Course.hbm.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;
&amp;lt;!DOCTYPE hibernate-mapping PUBLIC
        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;
        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&amp;gt;
&amp;lt;hibernate-mapping package=&quot;com.itheima.domain&quot;&amp;gt;
    &amp;lt;class name=&quot;Course&quot; table=&quot;t_course&quot;&amp;gt;
        &amp;lt;id type=&quot;int&quot; name=&quot;id&quot; column=&quot;id&quot;&amp;gt;
            &amp;lt;generator class=&quot;native&quot;/&amp;gt;
        &amp;lt;/id&amp;gt;
        &amp;lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot;/&amp;gt;
        &amp;lt;set name=&quot;students&quot; table=&quot;t_student_course&quot; inverse=&quot;true&quot;&amp;gt;
            &amp;lt;key column=&quot;cid&quot;&amp;gt;&amp;lt;/key&amp;gt;
            &amp;lt;many-to-many class=&quot;Student&quot; column=&quot;sid&quot;/&amp;gt;
        &amp;lt;/set&amp;gt;
    &amp;lt;/class&amp;gt;
&amp;lt;/hibernate-mapping&amp;gt;

//Hibernate.cfg.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;
&amp;lt;!DOCTYPE hibernate-configuration PUBLIC
   &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;
   &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&amp;gt;

&amp;lt;hibernate-configuration&amp;gt;
   &amp;lt;session-factory &amp;gt;
      &amp;lt;property name=&quot;hibernate.connection.driver_class&quot;&amp;gt;com.mysql.jdbc.Driver&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;hibernate.connection.username&quot;&amp;gt;root&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;hibernate.connection.password&quot;&amp;gt;root&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;hibernate.connection.url&quot;&amp;gt;jdbc:mysql://localhost:3306/ee19day03?characterEncoding=utf-8&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;show_sql&quot;&amp;gt;true&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;format_sql&quot;&amp;gt;true&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;hbm2ddl.auto&quot;&amp;gt;update&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.MySQLDialect&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;hibernate.connection.autocommit&quot;&amp;gt;true&amp;lt;/property&amp;gt;
      &amp;lt;property name=&quot;hibernate.current_session_context_class&quot;&amp;gt;thread&amp;lt;/property&amp;gt;
      &amp;lt;mapping resource=&quot;com/itheima/domain/Student.hbm.xml&quot;/&amp;gt;
      &amp;lt;mapping resource=&quot;com/itheima/domain/Course.hbm.xml&quot;/&amp;gt;
   &amp;lt;/session-factory&amp;gt;
&amp;lt;/hibernate-configuration&amp;gt;

//Demo1.java
public class Demo1 {
    /**
     * 保存学生:通过学生保存课程，由学生维护外键
     * student的inverse=false;casecade=save-update
     * course的inverse=true
     */
    @Test
    public  void fun1(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Student stu1 = new Student();
        stu1.setName(&quot;tom&quot;);
        Student stu2 = new Student();
        stu2.setName(&quot;jerry&quot;);
        Course c1=new Course();
        c1.setName(&quot;Struts2&quot;);
        Course c2=new Course();
        c2.setName(&quot;Hibernate&quot;);
        Course c3=new Course();
        c3.setName(&quot;Spring&quot;);
        stu1.getCourses().add(c1);//维护关系，级联保存
        stu1.getCourses().add(c2);
        stu1.getCourses().add(c3);

        stu2.getCourses().add(c1);
        stu2.getCourses().add(c2);
        stu1.getCourses().add(c3);
        session.save(stu1);
        session.save(stu2);

        ts.commit();
        session.close();
    }
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2      抓取策略（优化查询）&lt;br&gt;
2.1加载方式&lt;/p&gt;

&lt;p&gt;l  立即加载：立即查询，在执行查询语句时，立即查询所有的数据。&lt;br&gt;
l  延迟加载：延迟查询，在执行查询语句之后，在需要时在查询。（懒加载）&lt;/p&gt;

&lt;p&gt;2.2加载策略&lt;/p&gt;

&lt;p&gt;l  类级别加载：当前的类的属性获取是否需要延迟。&lt;br&gt;
l  关联级别的加载：当前类 关联 另一个类是否需要延迟。&lt;/p&gt;

&lt;p&gt;2.3类级别加载&lt;/p&gt;

&lt;p&gt;l  get：立即检索。get方法一执行，立即查询所有字段的数据。&lt;br&gt;
l  load：延迟检索。默认情况，load方法执行后，如果只使用OID的值不进行查询，如果要使用其他属性值将查询 。 （先返回一个代理对象，使用代理对象的属性时，再加载）Customer.hbm.xml&lt;class  lazy=&quot;true | false&quot;&gt;&lt;br&gt;
              lazy 默认值true，表示延迟检索，如果设置false表示立即检索。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class Demo {
    /**
     类级别懒加载
     load方法
     class lazy属性 默认是true
     */
    @Test
    public  void fun1(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        //立即
        //Customer c = (Customer)session.get(Customer.class,1);
        //延迟
        Customer c = (Customer) session.load(Customer.class, 1);
        System.out.println(c.getName());
        System.out.println(c.getId());
        ts.commit();
        session.close();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.4关联级别懒加载&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;默认:与我关联的数据，在使用时才会加载&lt;br&gt;
2.4.1  一对多或多对多&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;2.4.1.1介绍&lt;/p&gt;

&lt;p&gt;&amp;lt;set&amp;gt;提供两个属性&lt;br&gt;
|属性|备注|&lt;br&gt;
|----|------|&lt;br&gt;
|fetch|确定使用sql格式|&lt;br&gt;
|lazy|关联对象是否延迟|&lt;br&gt;
|fetce=join|底层使用迫切左外连接|&lt;br&gt;
|fetce=select|使用多个select语句（默认值）|&lt;br&gt;
|fetce=subselect|使用子查询|&lt;br&gt;
|lazy=false|立即|&lt;br&gt;
|lazy= true |延迟（默认值）|&lt;br&gt;
|lazy= extra |极其懒惰,获取size时只会select count()|&lt;/p&gt;

&lt;p&gt;fetch和Lazy组合&lt;br&gt;
|fetch|Lazy|策略|&lt;br&gt;
|------|-----|------|&lt;br&gt;
|join|false|采用迫切左外链接查询|&lt;br&gt;
|join|true|采用迫切左外链接|&lt;br&gt;
|join|extra|采用迫切左外链接|&lt;br&gt;
|select|false|采用立即检索|&lt;br&gt;
|select|true|采用延迟检索|&lt;br&gt;
|select|extra|采用延迟检索|&lt;br&gt;
|subselect|false/true/extra|嵌套子查询，Lazy决定检索策略|&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class Demo2 {
    /**
     关联级别懒加载
     默认:与我关联的数据，在使用时才会加载
     */
    @Test
    public  void fun1(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Customer c = (Customer) session.load(Customer.class, 1);
        for(Order order:c.getOrders()){
            System.out.println(order);
        }

        ts.commit();
        session.close();
    }

    /**
     关联级别懒加载
     默认:与我关联的数据，在使用时才会加载
     &amp;lt;set&amp;gt;&amp;lt;/set&amp;gt;lazy为false 立即加载
     */
    @Test
    public  void fun2(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Customer c = (Customer) session.load(Customer.class, 1);
        for(Order order:c.getOrders()){
            System.out.println(order);
        }

        ts.commit();
        session.close();
    }
    /**
     关联级别懒加载
     默认:与我关联的数据，在使用时才会加载
     &amp;lt;set&amp;gt;&amp;lt;/set&amp;gt;lazy为false 立即加载 fetch join(使用多表链接查询)
     */
    @Test
    public  void fun3(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Customer c = (Customer) session.load(Customer.class, 1);
        for(Order order:c.getOrders()){
            System.out.println(order);
        }

        ts.commit();
        session.close();
    }
    //关联级别
    //fetch subselect
    @Test
    public void fun4(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        List&amp;lt;Customer&amp;gt; list = session.createQuery(&quot;from Customer &quot;).list();
        for(Customer c:list){
            System.out.println(c.getOrders());
        }
        ts.commit();
        session.close();
    }

    //关联级别
    //fetch extra
    @Test
    public void fun5(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Customer c = (Customer) session.get(Customer.class, 2);
        int size = c.getOrders().size();
        System.out.println(size);
        for(Order o:c.getOrders()){
            System.out.println(o.getName());
        }
        ts.commit();
        session.close();
    }

    //关联级别
    //fetch extra fetch:subselect
    @Test
    public void fun6(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        List&amp;lt;Customer&amp;gt; list = session.createQuery(&quot;from Customer &quot;).list();
        for(Customer c:list){
            System.out.println(c.getOrders().size());
            for(Order o:c.getOrders()){
                System.out.println(o.getName());
            }
        }
        ts.commit();
        session.close();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;多对一检索策略&quot;&gt;多对一检索策略&lt;/h2&gt;

&lt;p&gt;many-to-one&lt;br&gt;
|属性|备注|&lt;br&gt;
|-----|-----|&lt;br&gt;
|lazy=false|关闭懒加载|&lt;br&gt;
|lazy=proxy|看客户对象的类加载策略来决定|&lt;br&gt;
|lazy=no-proxy|不做研究|&lt;br&gt;
|fetch=select|使用普通的select加载 |&lt;br&gt;
|fetch=join|使用表连接加载数据|&lt;/p&gt;

&lt;p&gt;fetch和Lazy组合&lt;br&gt;
|fetch|Lazy|结果|&lt;br&gt;
|select|false|加载订单时，立即加载客户数据,普通select语句加载客户|&lt;br&gt;
|select|proxy|类加载策略lazy=false:同上|&lt;br&gt;
|select|proxy|类加载策略lazy=true:加载订单时，先不加载客户数据，使用时再加载|&lt;br&gt;
|join|false|使用表连接查询订单以及对应客户数据,lazy失效|&lt;br&gt;
|join|proxy|使用表连接查询订单以及对应客户数据,lazy失效|&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class Demo3 {
    /**
     关联级别懒加载 多对一
     fetch select lazy false
     */
    @Test
    public  void fun1(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Order o = (Order) session.get(Order.class, 2);
        System.out.println(o.getCustomer().getName());
        ts.commit();
        session.close();
    }

    /**
     关联级别懒加载 多对一
     fetch select lazy proxy
     customer类加载策略是flase 同上 直接select加载客户数据
     customer类加载测试是true 先不加载客户数据 使用时再加载
     */
    @Test
    public  void fun2(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Order o = (Order) session.get(Order.class, 2);
        System.out.println(o.getCustomer().getName());
        ts.commit();
        session.close();
    }

    /**
     关联级别懒加载 多对一
     fetch join lazy false/proxy
     customer类加载策略是flase 同上 直接select加载客户数据
     customer类加载测试是true 先不加载客户数据 使用时再加载
     */
    @Test
    public  void fun3(){
        Session session = HibernateUtils.openSession();
        Transaction ts = session.beginTransaction();
        Order o = (Order) session.get(Order.class, 2);
        System.out.println(o.getCustomer().getName());
        ts.commit();
        session.close();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;批量查询&quot;&gt;批量查询&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;batch-size=&amp;quot;2&amp;quot; 决定一次加载几个集合对象的数据，使用in条件加载多个关联数据&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;总结&quot;&gt;总结&lt;/h2&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;检索策略&lt;/th&gt;
&lt;th&gt;有点&lt;/th&gt;
&lt;th&gt;缺点&lt;/th&gt;
&lt;th&gt;优先考虑使用的场合&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;立即检索&lt;/td&gt;
&lt;td&gt;对应用程序完全透明，不管对象处于持久化状态还是游离状态，应用程序都可以从一个对象导航到关联的对象&lt;/td&gt;
&lt;td&gt;(1)select语句多(2)可能会加载应用程序不需要访问的对象，浪费许多内存空间。&lt;/td&gt;
&lt;td&gt;(1)类级别(2)应用程序需要立即访问的(3)使用了二级缓存&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;延迟检索&lt;/td&gt;
&lt;td&gt;由应用程序决定需要加载哪些对象，可以避免执行多余的select语句，以及避免加载应用程序不需要访问的对象。因此能提高检索性能，并节省内存空间&lt;/td&gt;
&lt;td&gt;应用程序如果希望访问游离状态的代理类实例，必须保证她在持久化状态时已经被初始化。&lt;/td&gt;
&lt;td&gt;(1)一对多或者多对多关联(2)应用程序不需要立即访问&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;表连接检索&lt;/td&gt;
&lt;td&gt;(1)对应用程序完全透明，不管对象处于持久化状态还是游离状态，都可从一个对象导航到另一个对象。(2)使用了外连接，select语句少&lt;/td&gt;
&lt;td&gt;(1)可能会加载应用程序不需要访问的对象，浪费内存。(2)复杂的数据库表连接也会影响检索性能。&lt;/td&gt;
&lt;td&gt;(1)多对一或一对一关联(2)需要立即访问的对象(3)数据库有良好的表连接性能&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;h2 id=&quot;查询总结&quot;&gt;查询总结&lt;/h2&gt;

&lt;p&gt;Hibernate查询分类:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;get/load 根据OID检索&lt;/li&gt;
&lt;li&gt;对象视图检索 c.getOrers()&lt;/li&gt;
&lt;li&gt;Sql语句 createSqlQuery()&lt;/li&gt;
&lt;li&gt;Hql语句 createQuery()&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Criteria查询 createCriteria()&lt;/p&gt;

&lt;h2 id=&quot;hql&quot;&gt;HQL&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;HQL(Hibernate Query Language) 对象操作查询语言 Hibernate特有&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public class Demo1 {
@Test
public void fun1(){
    Session session = HibernateUtils.openSession();
    Transaction ts = session.beginTransaction();
    Query query=session.createQuery(&quot;select  c from Customer c&quot;);//添加别名
    List&amp;lt;Customer&amp;gt; list = query.list();
    System.out.println(list);
    ts.commit();
    session.close();
}
@Test
public void fun2(){
    Session session = HibernateUtils.openSession();
    Transaction ts = session.beginTransaction();
    Query query = session.createQuery(&quot;select c.name from Customer  c&quot;);//对应属性的名称
    Query query2 = session.createQuery(&quot;select c.name ,c.id from Customer c&quot;);
    List&amp;lt;Object&amp;gt; list = query.list();
    List&amp;lt;Object[]&amp;gt; list2 = query2.list();
    System.out.println(&quot;list1:&quot;+list);
    for(Object[] arr:list2){
        System.out.println(&quot;list2:&quot;+Arrays.toString(arr));
    }
    ts.commit();
    session.close();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;投影查询&lt;/li&gt;
&lt;li&gt;在选择查询基础上，想把查询结果封装到对象中
*/
@Test
public void fun3(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;select new Customer(c.id,c.name) from Customer  c&amp;quot;);
List&lt;Customer&gt; list = query.list();
System.out.println(list);
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;排序
*
*/
@Test
public void fun4(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer c order by c.id desc&amp;quot;);
List&lt;Customer&gt; list = query.list();
System.out.println(list);
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;分页&lt;br&gt;
*/&lt;br&gt;
@Test&lt;br&gt;
public void fun5(){&lt;br&gt;
Session session = HibernateUtils.openSession();&lt;br&gt;
Transaction ts = session.beginTransaction();&lt;br&gt;
Query query = session.createQuery(&amp;quot;from Customer c  order by id desc &amp;quot;);&lt;br&gt;
//limit ?,? firstResult,maxResults&lt;br&gt;
query.setFirstResult(0);//从哪个索引开始取数据，包裹索引本身记录&lt;br&gt;
query.setMaxResults(1);//取多少条数据&lt;br&gt;
ts.commit();&lt;br&gt;
session.close();&lt;br&gt;
}&lt;br&gt;
//绑定参数&lt;br&gt;
@Test&lt;br&gt;
public void fun6(){&lt;br&gt;
Session session = HibernateUtils.openSession();&lt;br&gt;
Transaction ts = session.beginTransaction();&lt;br&gt;
Query query = session.createQuery(&amp;quot;from Customer c where c.id = ?&amp;quot;);&lt;br&gt;
query.setInteger(0,2);//JDBC索引从1开始,Hibernate从0开始&lt;br&gt;
Customer c = (Customer) query.uniqueResult();&lt;br&gt;
System.out.println(c);&lt;/p&gt;

&lt;p&gt;Query query2 = session.createQuery(&amp;quot;from Customer  c where  c.id = :haha&amp;quot;);//给占位符取名字&lt;br&gt;
query2.setInteger(&amp;quot;haha&amp;quot;,2);&lt;br&gt;
Customer c2 = (Customer) query2.uniqueResult();&lt;br&gt;
System.out.println(c2);&lt;/p&gt;

&lt;p&gt;ts.commit();&lt;br&gt;
session.close();&lt;br&gt;
}&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;//聚合函数&lt;br&gt;
@Test&lt;br&gt;
public void fun7(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Query query = session.createQuery(&amp;quot;select count(*) from Customer c&amp;quot;);&lt;br&gt;
    Object  count = query.uniqueResult();&lt;br&gt;
    System.out.println(count);&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;Query query2 = session.createQuery(&quot;select avg(c.id) from Customer  c&quot;);
Object avg = query2.uniqueResult();
System.out.println(avg);

Query query3 = session.createQuery(&quot;select min(c.id) from Customer  c&quot;);
Object min = query3.uniqueResult();
System.out.println(min);

Query query4 = session.createQuery(&quot;select max(c.id) from Customer  c&quot;);
Object max = query4.uniqueResult();
System.out.println(max);

ts.commit();
session.close();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;br&gt;
//分组 group by having&lt;br&gt;
@Test&lt;br&gt;
public void fun8(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Query query = session.createQuery(&amp;quot;select o.customer,count(o) from Order o group by o.customer having o.customer.id&amp;gt;1&amp;quot;);&lt;br&gt;
    List&lt;Object[]&gt; list = query.list();&lt;br&gt;
    for (Object[]arr:list){&lt;br&gt;
        System.out.println(Arrays.toString(arr));&lt;br&gt;
    }&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;## HQL表连接
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;HQL表连接&lt;/li&gt;
&lt;li&gt;交叉连接 ==&amp;gt; 笛卡尔积&lt;/li&gt;
&lt;li&gt;内连接&lt;/li&gt;
&lt;li&gt;左外连接&lt;/li&gt;
&lt;li&gt;右外连接
*/
public class Demo2 {
//笛卡尔积 开发时要避免
@Test
public void fun1(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer c,Order o&amp;quot;);
List&lt;Object[]&gt; list = query.list();
for(Object[] arr:list){
    System.out.println(Arrays.toString(arr));
}
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;内连接 隐式内连接&lt;/li&gt;
&lt;li&gt;隐式内连接：在笛卡尔积中过滤&lt;/li&gt;
&lt;li&gt;显示内连接:inner join
*/
@Test
public void fun2(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer  c ,Order  o where o.customer.id=c.id&amp;quot;);
List&lt;Object[]&gt; list = query.list();
for(Object[] arr:list){
    System.out.println(Arrays.toString(arr));
}
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;内连接 显示内连接&lt;/li&gt;
&lt;li&gt;隐式内连接：在笛卡尔积中过滤&lt;/li&gt;
&lt;li&gt;显示内连接:inner join&lt;/li&gt;
&lt;li&gt;List&lt;Object[]&gt; {Customer,Oder} 将子和父分别装入数组中
*/
@Test
public void fun3(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer  c inner join c.orders&amp;quot;);
List&lt;Object[]&gt; list = query.list();
for(Object[]arr:list){
    System.out.println(Arrays.toString(arr));
}
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;内连接 迫切显示内连接&lt;/li&gt;
&lt;li&gt;隐式内连接：在笛卡尔积中过滤&lt;/li&gt;
&lt;li&gt;显示内连接:inner join&lt;/li&gt;
&lt;li&gt;list&lt;Object&gt; 迫切会将子装入父封装成一个对象
*/
@Test
public void fun4(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer c inner join fetch c.orders&amp;quot;);
List&lt;Object&gt; list = query.list();
System.out.println(list);
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;左外连接&lt;/li&gt;
&lt;li&gt;left [outer] join
*/
@Test
public void fun5(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer c left outer join c.orders&amp;quot;);
List&lt;Object[]&gt; list = query.list();
for(Object[]arr:list){
    System.out.println(Arrays.toString(arr));
}
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;左外连接 迫切&lt;/li&gt;
&lt;li&gt;left [outer] join
*/
@Test
public void fun6(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer c left outer join fetch c.orders&amp;quot;);
List&lt;Customer&gt; list = query.list();
System.out.println(list);
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;右外连接&lt;/li&gt;
&lt;li&gt;right [outer] join
*/
@Test
public void fun7(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer c right outer join c.orders&amp;quot;);
List&lt;Object[]&gt; list = query.list();
for(Object[]arr:list){
    System.out.println(Arrays.toString(arr));
}
ts.commit();
session.close();
}&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/**&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;右外连接 迫切&lt;/li&gt;
&lt;li&gt;right [outer] join
*/
@Test
public void fun8(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
Query query = session.createQuery(&amp;quot;from Customer c right outer join fetch c.orders&amp;quot;);
List&lt;Customer&gt; list = query.list();
System.out.println(list);
ts.commit();
session.close();
}
}
&lt;code&gt;
## HQL命名查询
&amp;gt; 可以在配置文件中注册SQL语句
&amp;gt;全局 bean.hbm.xml中配置 局部 class标签里面
&lt;/code&gt;
//Customer.hbm.xml
&lt;hibernate-mapping package=&quot;com.itheima.domain&quot;&gt;
&lt;class name=&quot;Customer&quot; table=&quot;t_customer&quot; &gt;
&lt;id name=&quot;id&quot; column=&quot;id&quot; type=&quot;int&quot;&gt;
    &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;
&lt;/id&gt;
&lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot; &gt;&lt;/property&gt;
&amp;lt;!--表达一对多集合--&amp;gt;
&lt;set name=&quot;orders&quot; inverse=&quot;false&quot; batch-size=&quot;2&quot;&gt;&amp;lt;!--inverse是否将关系的维护反转给对方,true 放弃维护外键--&amp;gt;
    &lt;key column=&quot;cid&quot;&gt;&lt;/key&gt;&amp;lt;!--外键的值--&amp;gt;
    &lt;one-to-many class=&quot;Order&quot;/&gt;&amp;lt;!--对应关系--&amp;gt;
&lt;/set&gt;
&amp;lt;!--局部配置--&amp;gt;
&lt;query name=&quot;bcd&quot;&gt;&amp;lt;![CDATA[from Order]]&amp;gt; &lt;/query&gt;
&lt;/class&gt;
&amp;lt;!--全局配置--&amp;gt;
&lt;query name=&quot;abc&quot;&gt;&amp;lt;![CDATA[from Customer]]&amp;gt; &lt;/query&gt;
&lt;/hibernate-mapping&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;public class Demo3 {&lt;br&gt;
    //局部&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Query query = session.getNamedQuery(&amp;quot;com.itheima.domain.Customer.bcd&amp;quot;);&lt;br&gt;
        List list = query.list();&lt;br&gt;
        System.out.println(list);&lt;br&gt;
        ts.commit();&lt;br&gt;
        session.close();&lt;br&gt;
    }&lt;br&gt;
    //全局的&lt;br&gt;
    @Test&lt;br&gt;
    public void fun2(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Query query = session.getNamedQuery(&amp;quot;abc&amp;quot;);&lt;br&gt;
        System.out.println(query.list());&lt;br&gt;
        ts.commit();&lt;br&gt;
        session.close();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## QBC查询
&amp;gt; Query by Criteria 面向对象查询方式
&amp;gt; 离线查询 一般使用在web层或者service层拼凑
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;@Test&lt;br&gt;
public void fun1(){&lt;br&gt;
    //service层&lt;br&gt;
    DetachedCriteria dc = DetachedCriteria.forClass(Customer.class);&lt;br&gt;
    dc.add(Restrictions.eq(&amp;quot;id&amp;quot;,1));&lt;br&gt;
    //dao层&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Criteria c = dc.getExecutableCriteria(session);&lt;br&gt;
    System.out.println(c.list());&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;## 整合C3P0连接池
1. 导入c3p0 jar包   hibernate目录/optional/
1. 配置hibernate.cgf.xml  hibernate目录/product/etc/hibernate.properties中
1. 具体配置连接池属性
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//hibernate.cfg.xml&lt;br&gt;
&lt;property name=&quot;hibernate.connection.provider_class&quot;&gt;org.hibernate.connection.C3P0ConnectionProvider&lt;/property&gt;&lt;/p&gt;

&lt;!--#hibernate.c3p0.max_size 2--&gt;

&lt;!--#hibernate.c3p0.min_size 2--&gt;

&lt;!--#hibernate.c3p0.timeout 5000--&gt;

&lt;!--#hibernate.c3p0.max_statements 100--&gt;

&lt;!--#hibernate.c3p0.idle_test_period 3000--&gt;

&lt;!--#hibernate.c3p0.acquire_increment 2--&gt;

&lt;!--#hibernate.c3p0.validate false--&gt;

&lt;p&gt;&lt;property name=&quot;c3p0.max_size&quot;&gt;5&lt;/property&gt;&lt;br&gt;
&lt;property name=&quot;c3p0.min_size&quot;&gt;2&lt;/property&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;## 事务
&amp;gt; 自动提交事务，开发中不用
&amp;gt; 在hibernate中设置隔离级别 &amp;amp;lt;property name=&quot;hibernate.connection.isolation&quot;&amp;gt;4

## 数据库中的锁
&amp;gt; 悲观锁 防止别人跟我抢着修改数据
&amp;gt; 乐观锁 人为控制的锁
## 悲观锁
1. 读锁/共享锁   在读取过程中，不希望别人修改，并且自己也不会修改
&amp;gt; select * from table lock in share mode
1. 写锁/排他锁   我不仅要读还要对数据修改，为读取的数据加上写锁
&amp;gt; select * from table for update
##### 在Hibernate中的悲观锁
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//悲观锁 写锁&lt;br&gt;
@Test&lt;br&gt;
public void fun1(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    Customer c = (Customer) session.get(Customer.class, 1, LockOptions.UPGRADE);&lt;br&gt;
    System.out.println(c);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//乐观锁&lt;br&gt;
//Customer.java&lt;br&gt;
private Integer version;//javabean类添加一个版本号字段&lt;/p&gt;

&lt;p&gt;//Customer.hbm.xml&lt;/p&gt;

&lt;!--在id后面配置乐观锁版本号的属性名--&gt;

&lt;p&gt;&lt;version name=&quot;version&quot;/&gt;&lt;/p&gt;

&lt;p&gt;public class Demo3 {&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Customer c = (Customer) session.get(Customer.class, 1);&lt;br&gt;
        c.setName(&amp;quot;张三&amp;quot;);//每次版本号都会加1&lt;br&gt;
        ts.commit();&lt;br&gt;
        session.close();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-5-18-Hibernate02"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-5-18-Hibernate02</id>
   <content type="html">&lt;h2 id=&quot;对象状态&quot;&gt;对象状态&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;瞬时状态|临时态
&amp;gt; 1.没有于Hibernate产生关联 2.与数据的记录没有产生关联(有关联就是与数据库id有对应)&lt;/li&gt;
&lt;li&gt;持久态
&amp;gt; 1.于Hibernate有关联，2.与数据库有关联(对象有id对应)&lt;/li&gt;
&lt;li&gt;游离态|托管态
&amp;gt; 1.与Hibernate没有关联 2.跟数据库有关联(曾经是持久态)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;对象状态特点&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;session.evict(obj) 移除对象和数据库的关联&lt;/li&gt;
&lt;li&gt;Hibernate会自动将持久化状态对象的变化同步到数据库中&lt;/li&gt;
&lt;li&gt;持久态的id是不允许修改的
```
@Test
public void fun1(){
Session session = HibernateUtils.openSession();
Transaction ts = session.beginTransaction();
User u=new User();//瞬时态
u.setName(&amp;quot;大黄蜂&amp;quot;);//瞬时态
u.setPassword(&amp;quot;12345&amp;quot;);//瞬时态
session.save(u);//持久态
ts.commit();//持久态
session.close();
//游离态&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;}&lt;br&gt;
//瞬时==》持久&lt;br&gt;
@Test&lt;br&gt;
public void fun2(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User u=new User();&lt;br&gt;
    u.setName(&amp;quot;柯镇恶&amp;quot;);&lt;br&gt;
    u.setPassword(&amp;quot;4567&amp;quot;);&lt;br&gt;
    /***&lt;br&gt;
     * save方法会使用主键生成策略，为User指定id,插入数据 打印insert语句&lt;br&gt;
     * 如果是incrment的策略 会打印select max(id) from  语句&lt;br&gt;
     * 如果是assigned 报错,save方法之前要手动指定id&lt;br&gt;
     */&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;session.save(u);

ts.commit();
session.close();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;br&gt;
//瞬时==&amp;gt;游离&lt;br&gt;
//瞬时：没有关联，没有id&lt;br&gt;
//游离:没有关联，有id&lt;br&gt;
@Test&lt;br&gt;
public void fun3(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User u=new User();&lt;br&gt;
    u.setId(2);&lt;br&gt;
    ts.commit();&lt;br&gt;
}&lt;br&gt;
//持久==&amp;gt;瞬时&lt;br&gt;
//持久:有关联，有id&lt;br&gt;
//瞬时:无关联，无id&lt;br&gt;
public void fun4(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User user = (User) session.get(User.class, 2);&lt;br&gt;
    session.close();&lt;br&gt;
    user.setId(null);&lt;br&gt;
}&lt;br&gt;
//持久==&amp;gt;瞬时&lt;br&gt;
//持久:有关联，有id&lt;br&gt;
//瞬时:无关联，无id&lt;br&gt;
public void fun5(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User user = (User) session.get(User.class, 2);&lt;br&gt;
    session.evict(user);&lt;br&gt;
    user.setId(null);&lt;br&gt;
    session.save(user);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
//持久==》游离&lt;br&gt;
//持久:有关联，有ID&lt;br&gt;
//游离:无管理，无ID&lt;br&gt;
public void fun6(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    User u = (User) session.get(User.class, 2);&lt;br&gt;
    session.evict(u);&lt;br&gt;
}&lt;br&gt;
//游离==》瞬时&lt;br&gt;
public void fun7(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User u = (User) session.get(User.class, 2);&lt;br&gt;
    u.setId(null);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
//游离==&amp;gt;持久&lt;br&gt;
public void fun8(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User u = (User) session.get(User.class, 2);&lt;br&gt;
    session.evict(u);&lt;br&gt;
    session.update(u);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
public void fun9(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User user = (User) session.get(User.class, 2);&lt;br&gt;
    user.setName(&amp;quot;自动同步&amp;quot;);//&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;## 一级缓存
缓存:Hibernate中野村缓存，Hibernate中存在的缓存也是用来提高效率的
Hibernate中存在两种缓存
1.线程级别缓存 session缓存
2.进程级别的缓存 Hibernate 二级缓存
session缓存：就是session对象中存在的缓存，缓存中存在的持久化状态 map&amp;lt;Serializable,Object&amp;gt;
快照:get方法。数据库取得数据时一式两份 缓存和快照 将缓存返回 当update时候比对快照是否做了修改。如果自己创建的对象， 没有快照 close的时候执行update语句更新
持久化状态:本质就是存在缓存中的对象，就是持久化状态。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public void fun1(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User u1 = (User) session.get(User.class, 2);&lt;br&gt;
    User u2 = (User) session.get(User.class, 2);//再次查找不会执行语句，会从缓存中查找&lt;br&gt;
    User u3 = (User) session.get(User.class, 2);&lt;br&gt;
    System.out.println(u1==u2);&lt;br&gt;
    System.out.println(u1==u3);&lt;br&gt;
    session.getTransaction().commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
@Test&lt;br&gt;
public void fun2(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User u1 = (User) session.get(User.class, 2);&lt;br&gt;
    session.update(u1);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
@Test&lt;br&gt;
public void fun3(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User u1 = new User();&lt;br&gt;
    u1.setId(2);&lt;br&gt;
    u1.setName(&amp;quot;擎天柱&amp;quot;);&lt;br&gt;
    u1.setPassword(&amp;quot;1234&amp;quot;);&lt;br&gt;
    session.update(u1);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
public void fun4(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    User user = (User) session.get(User.class, 2);&lt;br&gt;
    user.setName(&amp;quot;张三&amp;quot;);&lt;br&gt;
    session.update(user);&lt;br&gt;
    user.setName(&amp;quot;李四&amp;quot;);&lt;br&gt;
    session.update(user);&lt;br&gt;
    user.setName(&amp;quot;赵六&amp;quot;);&lt;br&gt;
    session.update(user);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;#### 一级缓存细节
1. HQL语句批量查询时，查询结果是否进入缓存，再次查询会比对缓存对象是否需要封装成对象
1. SQL查询 如果把查询结果封装到对象中，放入缓存结果了
1. criterira 会将查询结果放入一级缓存，再次查询会比对缓存对象是否需要封装成对象
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//HQL语句批量查询时，查询结果是否进入缓存，不会使用一级缓存&lt;br&gt;
@Test&lt;br&gt;
public void fun2(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    List&lt;User&gt; list1 = session.createQuery(&amp;quot;from User&amp;quot;).list();&lt;br&gt;
    List&lt;User&gt; list2 = session.createQuery(&amp;quot;from User&amp;quot;).list();&lt;br&gt;
    List&lt;User&gt; list3 = session.createQuery(&amp;quot;from User&amp;quot;).list();&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
//HQL语句批量查询时，查询结果是否进入缓存 结果会放入缓存中&lt;br&gt;
//HQL查询是否会使用一级缓存,HQL不会使用一级缓存&lt;br&gt;
@Test&lt;br&gt;
public void fun3(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    List&lt;User&gt; list1 = session.createQuery(&amp;quot;from User&amp;quot;).list();&lt;br&gt;
    User user = (User) session.get(User.class, 2);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
//SQL查询 如果把查询结果封装到对象中，放入缓存结果了。&lt;br&gt;
@Test&lt;br&gt;
public void fun4(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    List&lt;User&gt; list1 = session.createSQLQuery(&amp;quot;select * from t_user&amp;quot;).addEntity(User.class).list();&lt;br&gt;
    User user = (User) session.get(User.class, 2);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
//不封装成对象不会放入一级缓存&lt;br&gt;
@Test&lt;br&gt;
public void fun5(){&lt;br&gt;
    Session session = HibernateUtils.openSession();&lt;br&gt;
    Transaction ts = session.beginTransaction();&lt;br&gt;
    List list1 = session.createSQLQuery(&amp;quot;select * from t_user&amp;quot;).list();&lt;br&gt;
    User user = (User) session.get(User.class, 2);&lt;br&gt;
    ts.commit();&lt;br&gt;
    session.close();&lt;br&gt;
}&lt;br&gt;
//criterira 会将查询结果放入一级缓存，但是查询不会使用一级缓存&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;## 一对多
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--表达一对多集合--&gt;

&lt;p&gt;&lt;set name=&quot;orders&quot; inverse=&quot;true&quot;&gt;&amp;lt;!--inverse是否将关系的维护反转给对方,true 放弃维护外键--&amp;gt;&lt;br&gt;
    &lt;key column=&quot;cid&quot;&gt;&lt;/key&gt;&amp;lt;!--外键的值--&amp;gt;&lt;br&gt;
    &lt;one-to-many class=&quot;Order&quot;/&gt;&amp;lt;!--对应关系--&amp;gt;&lt;br&gt;
&lt;/set&gt;&lt;/p&gt;

&lt;p&gt;&lt;many-to-one name=&quot;customer&quot; class=&quot;Customer&quot; column=&quot;cid&quot;/&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//Customer&lt;br&gt;
public class Customer implements Serializable {&lt;br&gt;
    private Integer cid;&lt;br&gt;
    private String name;&lt;br&gt;
    private Set&lt;Order&gt; orders=new HashSet&amp;lt;&amp;gt;();&lt;br&gt;
}&lt;br&gt;
//Customer.hbm.xml&lt;br&gt;
&lt;hibernate-mapping package=&quot;com.itheima.domain&quot;&gt;&lt;br&gt;
    &lt;class name=&quot;Customer&quot; table=&quot;t_customer&quot; dynamic-insert=&quot;true&quot; dynamic-update=&quot;true&quot;&gt;&lt;br&gt;
        &lt;id name=&quot;cid&quot; column=&quot;cid&quot; type=&quot;int&quot;&gt;&lt;br&gt;
            &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;&lt;br&gt;
        &lt;/id&gt;&lt;br&gt;
        &lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot;&gt;&lt;/property&gt;&lt;br&gt;
        &amp;lt;!--表达一对多集合--&amp;gt;&lt;br&gt;
        &lt;set name=&quot;orders&quot; inverse=&quot;true&quot;&gt;&amp;lt;!--inverse是否将关系的维护反转给对方,true 放弃维护外键--&amp;gt;&lt;br&gt;
            &lt;key column=&quot;cid&quot;&gt;&lt;/key&gt;&amp;lt;!--外键的值--&amp;gt;&lt;br&gt;
            &lt;one-to-many class=&quot;Order&quot;/&gt;&amp;lt;!--对应关系--&amp;gt;&lt;br&gt;
        &lt;/set&gt;&lt;br&gt;
    &lt;/class&gt;&lt;br&gt;
&lt;/hibernate-mapping&gt;&lt;/p&gt;

&lt;p&gt;//Order.java&lt;br&gt;
public class Order {&lt;br&gt;
    private Integer id;&lt;br&gt;
    private String name;&lt;br&gt;
    private Customer customer=new Customer();&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//Order.hbm.xml&lt;br&gt;
&lt;hibernate-mapping package=&quot;com.itheima.domain&quot;&gt;&lt;br&gt;
    &lt;class name=&quot;Order&quot; table=&quot;t_order&quot;&gt;&lt;br&gt;
        &lt;id name=&quot;id&quot; column=&quot;id&quot; type=&quot;int&quot;&gt;&lt;br&gt;
            &lt;generator class=&quot;native&quot; /&gt;&lt;br&gt;
        &lt;/id&gt;&lt;br&gt;
        &lt;property name=&quot;name&quot; column=&quot;name&quot; type=&quot;string&quot;/&gt;&lt;br&gt;
        &lt;many-to-one name=&quot;customer&quot; class=&quot;Customer&quot; column=&quot;cid&quot;/&gt;&lt;br&gt;
    &lt;/class&gt;&lt;br&gt;
&lt;/hibernate-mapping&gt;&lt;/p&gt;

&lt;p&gt;//demo1.java&lt;br&gt;
public class Demo1 {&lt;br&gt;
    //指定关系游其中一方来维护，另一方不维护，有外键的一方来维护&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Customer c=new Customer();&lt;br&gt;
        c.setName(&amp;quot;tom&amp;quot;);&lt;br&gt;
        Order o1=new Order();&lt;br&gt;
        o1.setName(&amp;quot;肥皂&amp;quot;);&lt;br&gt;
        Order o2=new Order();&lt;br&gt;
        o2.setName(&amp;quot;蜡烛&amp;quot;);&lt;br&gt;
//        c.getOrders().add(o1);//维护关系&lt;br&gt;
//        c.getOrders().add(o2);//维护关系&lt;br&gt;
        o1.setCustomer(c);//维护关系&lt;br&gt;
        o2.setCustomer(c);//维护关系&lt;br&gt;
        session.save(c);&lt;br&gt;
        session.save(o1);&lt;br&gt;
        session.save(o2);&lt;br&gt;
        ts.commit();&lt;br&gt;
        session.close();&lt;br&gt;
    }&lt;br&gt;
    //删除用户时，会先移除Customer中引用的外键，然后再删除customer&lt;br&gt;
    //维护一方的对象,会自动维护另一方的关系&lt;br&gt;
    @Test&lt;br&gt;
    public void fun2(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Customer c = (Customer) session.get(Customer.class, 2);&lt;br&gt;
        if(c!=null) {&lt;br&gt;
            Set&lt;Order&gt; orders = c.getOrders();&lt;br&gt;
            for (Order o : orders) {&lt;br&gt;
                o.setCustomer(null);&lt;br&gt;
            }&lt;br&gt;
            session.delete(c);&lt;br&gt;
            ts.commit();&lt;br&gt;
            session.close();&lt;br&gt;
        }&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;表达一对多关系&lt;br&gt;
    |&lt;br&gt;
    |--Bean.hbm.xml&lt;br&gt;
            |&lt;br&gt;
            |--&lt;set&gt;&lt;/set&gt;标签&lt;br&gt;
                 |&lt;br&gt;
                 |--name:关系的字段名&lt;br&gt;
                 |--inverse:是否放弃维护外键&lt;br&gt;
                 |--cascade:&lt;br&gt;
                 |      |&lt;br&gt;
                 |      |--save-update:级联保存和修改&lt;br&gt;
                 |      |--delete:级联删除&lt;br&gt;
                 |      |--delete-orphan:孤儿删除 当没有任何外键引用Order时，Order 会被删除&lt;br&gt;
                 |      |--all:save-update和delete整合&lt;br&gt;
                 |      |--all-delete-orphan:save-update,delete和delete-orphan整合&lt;br&gt;
                 |&lt;br&gt;
                 |&lt;br&gt;
                 |--&lt;key&gt;&lt;/key&gt;标签&lt;br&gt;
                 |      |&lt;br&gt;
                 |      |--cloumn:外键字段&lt;br&gt;
                 |&lt;br&gt;
                 |--&lt;one-to-many/&gt;一对多关系&lt;br&gt;
                        |&lt;br&gt;
                        |--class:对应的javaBean&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//Demo2.java&lt;br&gt;
 //增&lt;br&gt;
    //我们希望在保存Customer时,自动将未保存的Orders当中的Order保存&lt;br&gt;
    //cascade: save-update&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Customer c=new Customer();&lt;br&gt;
        c.setName(&amp;quot;tom&amp;quot;);&lt;br&gt;
        Order o1=new Order();&lt;br&gt;
        o1.setName(&amp;quot;肥皂&amp;quot;);&lt;br&gt;
        Order o2=new Order();&lt;br&gt;
        o2.setName(&amp;quot;蜡烛&amp;quot;);&lt;br&gt;
        c.getOrders().add(o1);&lt;br&gt;
        c.getOrders().add(o2);&lt;br&gt;
//        o1.setCustomer(c);//维护关系&lt;br&gt;
//        o2.setCustomer(c);//维护关系&lt;br&gt;
        session.save(c);&lt;br&gt;
        ts.commit();&lt;br&gt;
        session.close();&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;//增
//我们希望在保存Customer时,自动将未保存的Orders当中的Order保存
//cascade: save-update
@Test
public void fun2(){
    Session session = HibernateUtils.openSession();
    Transaction ts = session.beginTransaction();
    Customer c = (Customer) session.get(Customer.class, 3);
    if(c!=null){
        Set&amp;lt;Order&amp;gt; orders = c.getOrders();
        for(Order o:orders){
            o.setName(&quot;哇哈哈&quot;);
        }
    }
    ts.commit();//因为设置级联修改,自动将订单的修改保存到数据
    session.close();
}

//cascade: delete
//删除Customer时 ,会将Customer下的订单一并删除
//inverse : false   6条sql语句
//inverse : true    5条sql语句 比上面少一条维护外键
@Test
public void fun3(){
    Session session = HibernateUtils.openSession();
    Transaction ts = session.beginTransaction();
    Customer c = (Customer) session.get(Customer.class, 8);
    session.delete(c);
    ts.commit();
    session.close();
}

/**
 * cascade:delete
 * 操作的两方值都为delete
 * 需要注意:千万不要在两方都配置级删除，删除任何一方，会导致整个关系链对象全部删除
 */
@Test
public void fun4(){
    Session session = HibernateUtils.openSession();
    Transaction ts = session.beginTransaction();
    Order o = (Order) session.get(Order.class, 13);
    session.delete(o);//delete删除当前order
                      //找到所有关联的Customer 删除
                      //删除Customer会删除关联的所有的order再删除Customer
    ts.commit();
    session.close();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;//demo3.java&lt;br&gt;
public class Demo3 {&lt;br&gt;
    //cascade:delete-orphan 孤儿删除 当没有任何外键引用Order时，Order 会被删除&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Customer c = (Customer) session.get(Customer.class, 12);&lt;br&gt;
        Iterator&lt;Order&gt; it = c.getOrders().iterator();//获得所有用户下的订单,将订单移出集合 维护关系&lt;br&gt;
        while (it.hasNext()){&lt;br&gt;
            it.next();&lt;br&gt;
            it.remove();&lt;br&gt;
        }&lt;br&gt;
        ts.commit();&lt;br&gt;
        session.close();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//Demo4.java&lt;br&gt;
public class Demo4 {&lt;br&gt;
    @Test&lt;br&gt;
    //cascade:all-delete-orhan=save-update+delete+delete-orphan&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Session session = HibernateUtils.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Customer c=new Customer();&lt;br&gt;
        c.setName(&amp;quot;tom&amp;quot;);&lt;br&gt;
        Order o1=new Order();&lt;br&gt;
        o1.setName(&amp;quot;肥皂&amp;quot;);&lt;br&gt;
        Order o2=new Order();&lt;br&gt;
        o2.setName(&amp;quot;蜡烛&amp;quot;);&lt;br&gt;
        c.getOrders().add(o1);&lt;br&gt;
        c.getOrders().add(o2);&lt;br&gt;
        session.save(c);&lt;br&gt;
        ts.commit();&lt;br&gt;
        session.close();&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Test
public void fun2(){
    Session session = HibernateUtils.openSession();
    Transaction ts = session.beginTransaction();
    Customer c = (Customer) session.get(Customer.class, 14);
    session.delete(c);
    ts.commit();
    session.close();
}

@Test
public void fun3(){
    Session session = HibernateUtils.openSession();
    Transaction ts = session.beginTransaction();
    Customer c = (Customer) session.get(Customer.class, 15);
    Iterator&amp;lt;Order&amp;gt; it = c.getOrders().iterator();
    while (it.hasNext()){
        it.next();
        it.remove();
    }
    ts.commit();
    session.close();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title></title>
   <link href="/2017/07/07/2017-5-16-Hibernate01"/>
   <updated>2017-07-07T11:59:37+08:00</updated>
   <id>/2017/07/07/2017-5-16-Hibernate01</id>
   <content type="html">&lt;h2 id=&quot;hibernate&quot;&gt;hibernate&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;Hibernate是一个数据持久化层的ORM框架.(持久化把数据保存到数据库或者硬盘 orm 对象关系映射)&lt;br&gt;
orm元数据:配置文件&lt;/p&gt;

&lt;h6 id=&quot;步骤&quot;&gt;步骤&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;Hibernate3.6.10使用步骤
    |
    |--添加jar包
    |     |
    |     |--mysql-connector-xx.jar  mysql驱动
    |     |--Hibernate3.6.10目录
    |           |   
    |           |--hibernate3.jar 核心
    |           |--lib目录
    |                |--required目录所有jar
    |                |      |--antlr-xxx.jar 解析框架，hibernate用于解析HQL
    |                |      |--commons-collections-xx.jar  集合增强包
    |                |      |--dom4j-xxx.jar 解析xml
    |                |      |--javassist-xxx.jar 字节码增强(代理)
    |                |      |--jta-xx.jar java transaction api 事务规范
    |                |      |--slf4j-api-xx.jar 日志框架(整合log4j)
    |                |      
    |                |--jpa目录jar
    |                       |--hibernate-jpa-xx.jar  jap规范支持
    |
    |--添加配置文件
          |
          |--编写核心配置文件
          |     |--hibernate.cfg.xml复制到src目录下，修改配置
          |             |--hibernate.cfg.xml
          |                 |
          |                 |--Hibernate3.6.10目录
          |                         |--project
          |                              |--etc 里面          
          |                                     
          |
          |--编写JavaBean+映射配置
          |         |
          |         |--格式:JavaBean名称.hbm.xml
          |                     |
          |                     |--DTD位置
          |                         |--hibernate3.jar包名路径下
          |
          |--映射添加到核心配置文件
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;示例&quot;&gt;示例&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;//hibernate.cfg.xml
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;
&amp;lt;!DOCTYPE hibernate-configuration PUBLIC
   &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;
   &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;hibernate-configuration&gt;&lt;br&gt;
   &lt;session-factory &gt;&lt;br&gt;
      &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;&lt;br&gt;
      &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;&lt;br&gt;
      &lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;&lt;br&gt;
      &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/ee19day01?characterEncoding=utf-8&lt;/property&gt;&lt;br&gt;
      &amp;lt;!--操作数据库会向控制台打印sql语句--&amp;gt;&lt;br&gt;
      &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;&lt;br&gt;
      &amp;lt;!--打印sql前,会讲sql格式化--&amp;gt;&lt;br&gt;
      &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;&lt;br&gt;
      &amp;lt;!--hdm2ddl.auto:是否自动生成表结构--&amp;gt;&lt;br&gt;
      &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;&lt;br&gt;
      &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;&lt;br&gt;
      &lt;mapping resource=&quot;com/itheima/a_hello/User.hbm.xml&quot;/&gt;&lt;br&gt;
   &lt;/session-factory&gt;&lt;br&gt;
&lt;/hibernate-configuration&gt;&lt;/p&gt;

&lt;p&gt;//User.java&lt;br&gt;
public class User {&lt;br&gt;
    private int id;&lt;br&gt;
    private String name;&lt;br&gt;
    private String password;&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//User.hbm.xml&lt;br&gt;
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;&lt;br&gt;
&amp;lt;!DOCTYPE hibernate-mapping PUBLIC&lt;br&gt;
        &amp;quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&amp;quot;&lt;br&gt;
        &amp;quot;&lt;a href=&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd%22%3E&quot;&gt;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&amp;quot;&amp;gt;&lt;/a&gt;&lt;br&gt;
&lt;hibernate-mapping&gt;&lt;br&gt;
    &lt;class name=&quot;com.itheima.a_hello.User&quot; table=&quot;t_user&quot;&gt;&lt;br&gt;
        &lt;id name=&quot;id&quot; column=&quot;id&quot;&gt;&lt;br&gt;
            &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;&lt;br&gt;
        &lt;/id&gt;&lt;br&gt;
        &lt;property name=&quot;name&quot; column=&quot;name&quot;&gt;&lt;/property&gt;&lt;br&gt;
        &lt;property name=&quot;password&quot; column=&quot;password&quot;&gt;&lt;/property&gt;&lt;br&gt;
    &lt;/class&gt;&lt;br&gt;
&lt;/hibernate-mapping&gt;&lt;/p&gt;

&lt;p&gt;public class Test01 {&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        //1.读取配置文件&lt;br&gt;
        Configuration conf=new Configuration().configure();&lt;br&gt;
        //2.根据配置创建Factory&lt;br&gt;
        SessionFactory factory=conf.buildSessionFactory();&lt;br&gt;
        //3.通过获得操作数据的session对象&lt;br&gt;
        Session session = factory.openSession();&lt;br&gt;
        //4.操作数据库&lt;br&gt;
        User u=new User();&lt;br&gt;
        u.setName(&amp;quot;张三&amp;quot;);&lt;br&gt;
        u.setPassword(&amp;quot;1234&amp;quot;);&lt;br&gt;
        session.save(u);&lt;br&gt;
        //5.关闭资源&lt;br&gt;
        session.close();&lt;br&gt;
        factory.close();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;## api
&amp;gt;      1 load方法.返回一个代理对象,获得其内容时,会查询数据库,是每次访问属性都会查询数据库吗?
    答:不是每次都查.代理对象中有一个标识是否被初始化的boolean型变量. 记录是否被初始化过.
    2 代理都是要基于接口的,用load方法返回的代理,就没有实现任何接口?
    答: java中的动态代理是基于接口.  而 Hibernate 是使用javassist-3.12.0.GA.jar 产生代理对象的.
    该代理与被代理对象之间的关系是继承关系.与我们学的动态代理不是一种.所以不需要接口.
|方法|备注|
|------|-----|
| conf=new Configuration().configure()|加载配置文件|
|new Configuration().configure(file)|加载指定位置配置文件|
|new Configuration().configure(path)|加载指定位置配置文件|
|conf.addClass(User.class)|加载映射文件(不推荐)推荐使用hibernate.cfg.xml mapping属性引入配置文件|
|ORM文件规范|1.orm映射文件名与实体的简单名一致,2.orm映射文件和实体类同路径|
|conf.buildSessionFactory()|创建SessionFactory|
|factory.openSession()|获得全新的session|
|factory.getCurrentSession()|获得与当前线程绑定的session(ThreadLocal)|
|session.save(obj)|保存对象到数据库|
|session.get(obj.class, 1)|通过主键id查找对象|
|session.update(user)|修改对象|
|session.delete(obj)|删除对象，根据对象id删除|
|session.load(obj.class, 2)|通过主键id查找对象,反射代理延迟加载|
|session.createSQLQuery(sql)|sql语句操作|
|uery.addEntity(User.class)|指定结果封装成实体|
|session.beginTransaction()|打开事务|
|transaction.commit()|提交事务|
|transaction.rollback()|回滚事务|
|session.getTransation()|得到已经打开的事务|
|session.createQuery(&quot;from 全类名称&quot;)|获得query对象|
|query.list()|查询所有|
|query.uniqueResult()|取一个结果|
|query.setFirstResult(2)|从第几个结果取|
|query.setMaxResults(3)|取几个结果|
|session.createCriteria(obj.class)|获得criteria对象|
|criteria.list()|查询所有|
|criteria.uniqueResult()|查询单个结果|
|criteria.setFirstResult(3)|从第几个开始取|
|criteria.setMaxResults(2)|设置查询多少个|
|criteria.add(Restrictions)|添加查询条件|
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class Configuration_test {&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Configuration conf=new Configuration().configure();&lt;br&gt;
//        Configuration conf=new Configuration().configure(file);&lt;br&gt;
//        Configuration conf=new Configuration().configure(path);&lt;br&gt;
        //加载映射文件(不推荐)&lt;br&gt;
        //推荐使用hibernate.cfg.xml mapping属性引入配置文件&lt;br&gt;
        //规范orm文件 1.orm映射文件名与实体的简单名一致&lt;br&gt;
        // 2.orm映射文件和实体类同路径&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    conf.addClass(User.class);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//SeesionFactory&lt;br&gt;
public class SessionFactory_test {&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Configuration conf=new Configuration().configure();&lt;br&gt;
        SessionFactory factory = conf.buildSessionFactory();&lt;br&gt;
        factory.openSession();&lt;br&gt;
        factory.getCurrentSession();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//Session&lt;br&gt;
public class Session_test {&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1() {&lt;br&gt;
        //添加&lt;br&gt;
        Configuration conf = new Configuration().configure();&lt;br&gt;
        SessionFactory factory = conf.buildSessionFactory();&lt;br&gt;
        Session session = factory.openSession();&lt;br&gt;
        User user = new User();&lt;br&gt;
        user.setName(&amp;quot;景甜&amp;quot;);&lt;br&gt;
        user.setPassword(&amp;quot;1234&amp;quot;);&lt;br&gt;
        session.save(user);&lt;br&gt;
        session.close();&lt;br&gt;
        factory.close();&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;@Test
public void fun2() {
    Configuration conf = new Configuration().configure();
    SessionFactory factory = conf.buildSessionFactory();
    Session session = factory.openSession();
    Transaction ts = session.beginTransaction();
    User user = (User) session.get(User.class, 1);
    System.out.println(user);
    user.setName(&quot;刘亦菲&quot;);
    session.update(user);
    ts.commit();

}
@Test
public void fun3(){
    //删除
    Configuration conf = new Configuration().configure();
    SessionFactory factory = conf.buildSessionFactory();
    Session session = factory.openSession();
    Transaction ts = session.beginTransaction();
    User user = (User) session.get(User.class, 1);
    session.delete(user);
    ts.commit();
    session.close();
    factory.close();
}
@Test
public void fun4(){
    //查询
    //get: get方法被调用时立刻发送sql语句
    //load: 调用并没有查询数据库，当我们需要使用该对象的时候 查询对象
    Configuration conf = new Configuration().configure();
    SessionFactory factory = conf.buildSessionFactory();
    Session session = factory.openSession();
    Transaction ts = session.beginTransaction();
    User user = (User) session.load(User.class, 2);
    System.out.println(user);
    ts.commit();
    session.close();
    factory.close();
}
@Test
public void fun5(){
    Configuration conf = new Configuration().configure();
    SessionFactory factory = conf.buildSessionFactory();
    Session session = factory.openSession();
    Transaction ts = session.beginTransaction();
    Query query = session.createQuery(&quot;from com.itheima.a_hello.User&quot;);//传入hql语句
    List&amp;lt;User&amp;gt; list = query.list();
    System.out.println(list);
    ts.commit();
}
@Test
public void fun6(){
    Configuration conf = new Configuration().configure();
    SessionFactory factory = conf.buildSessionFactory();
    Session session = factory.openSession();
    Transaction ts = session.beginTransaction();
    Criteria criteria = session.createCriteria(User.class);
    List&amp;lt;User&amp;gt; list = criteria.list();
    System.out.println(list);
    ts.commit();
}
@Test
public void fun7(){
    Configuration conf = new Configuration().configure();
    SessionFactory factory = conf.buildSessionFactory();
    Session session = factory.openSession();
    Transaction ts = session.beginTransaction();
    SQLQuery query = session.createSQLQuery(&quot;select * from t_user&quot;);
    query.addEntity(User.class);
    List&amp;lt;User&amp;gt; list = query.list();
    System.out.println(list);
    ts.commit();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;//Query&lt;br&gt;
public class Query_test {&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Configuration config = new Configuration().configure();&lt;br&gt;
        SessionFactory factory = config.buildSessionFactory();&lt;br&gt;
        Session session = factory.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        //Query对象 封装HQL语句的对象 封装查询细节的方法&lt;br&gt;
        Query query = session.createQuery(&amp;quot;from com.itheima.a_hello.User&amp;quot;);&lt;br&gt;
        query.setFirstResult(2);&lt;br&gt;
        query.setMaxResults(3);&lt;br&gt;
        List&lt;User&gt; list = query.list();&lt;br&gt;
        User u  = (User) query.uniqueResult();&lt;br&gt;
        System.out.println(u);&lt;br&gt;
        ts.commit();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//Cretiraira&lt;br&gt;
public class Cretiraira_test {&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Configuration conf = new Configuration().configure();&lt;br&gt;
        SessionFactory factory = conf.buildSessionFactory();&lt;br&gt;
        Session session = factory.openSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        Criteria criteria = session.createCriteria(User.class);&lt;br&gt;
        criteria.setFirstResult(0);&lt;br&gt;
        criteria.setMaxResults(2);&lt;br&gt;
        List list = criteria.list();&lt;br&gt;
        System.out.println(list);&lt;br&gt;
        criteria=criteria.add(Restrictions.like(&amp;quot;name&amp;quot;,&amp;quot;%周芷若%&amp;quot;));&lt;br&gt;
        User user = (User) criteria.uniqueResult();&lt;br&gt;
        System.out.println(user);&lt;br&gt;
        ts.commit();&lt;br&gt;
    }&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;//Transaction&lt;br&gt;
public class Transaction_test {&lt;br&gt;
    //封装了事务&lt;br&gt;
    @Test&lt;br&gt;
    public void fun1(){&lt;br&gt;
        Configuration conf = new Configuration().configure();&lt;br&gt;
        SessionFactory factory = conf.buildSessionFactory();&lt;br&gt;
        Session session = factory.getCurrentSession();&lt;br&gt;
        Transaction ts = session.beginTransaction();&lt;br&gt;
        ts.commit();&lt;br&gt;
        Session session2 = factory.getCurrentSession();&lt;br&gt;
        System.out.println(session==session2);&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;    //事务关闭时，会自动把当前线程关联的session关闭，并删除

    //ts.rollback();
    //session.close();
    factory.close();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
###### HibernateUtils
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;public class HibernateUtils {&lt;br&gt;
    private static SessionFactory factory;&lt;br&gt;
    static {&lt;br&gt;
        Configuration conf=new Configuration().configure();&lt;br&gt;
        factory=conf.buildSessionFactory();&lt;br&gt;
        Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {&lt;br&gt;
            @Override&lt;br&gt;
            public void run() {&lt;br&gt;
                factory.close();&lt;br&gt;
                System.out.println(&amp;quot;虚拟机关闭 释放资源&amp;quot;);&lt;br&gt;
            }&lt;br&gt;
        }));&lt;br&gt;
    }&lt;br&gt;
    public static Session openSession(){&lt;br&gt;
        return factory.openSession();&lt;br&gt;
    }&lt;br&gt;
    public static Session getCurrentSession(){&lt;br&gt;
        return factory.getCurrentSession();&lt;br&gt;
    }&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;public static void main(String[] args) {
    System.out.println(openSession());
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
## hbm2ddl.auto
&amp;gt; 是否自动生成表结构策略

update:
1. 如果当前数据库中不存在表结构 自动创建表结构
1. 如果存在表结构，并且表结构与实体一致，那么不在修改
1. 如果存在表结构，并且表结构与实体不一致，那么修改表结构，并保留原有字段

create:
1. 无论是否存在表结构，每次启动Hibernate都会重新创建表结构(数据会丢失)

create-drop:
1.无论是否存在表结构，每次启动Hibernate都会重新创建表结构，每次Hibernate结束摧毁表

validate:
1. 不会自动创建表结构
2. 也不会自动维护表结构
3. 只负责校验表结构
4. 如果表结构不一致抛异常

## hibernate.dialect
&amp;gt; 数据库方言配置
&amp;gt; mysql 选择org.hibernate.dialect.MySQLDialect

## Hibernate 中持久类
* 提供一个无參public访问的构造方法
* 提供一个表示属性，映射数据库主键
* 所有属性提供pulbic访问控制符的 set get方法
* 标识属性尽量使用基本数据类型的包装类型
* 不要用final修饰类（将无法生成代理对象进行优化）

#### 持久化对象的唯一标识 OID
* Java按地址区分同一个的类的不同对象
* 关系数据库主键区分同一条记录
* Hibernate使用OID来建立内存中的对象和数据库中的记录的对应关系，应该让Hibernate来个OID赋值

#### 区分自然主键和代理主键
&amp;gt; 主键需要具备:不能为空/不能重复/不能改变

1. 自然主键: 在业务中，某个属性符合主键的三个要求，那么该属性可以做为主键列
2. 代理主键: 在业务中,不存在符合以上3个条件的属性。那么就添加一个没有意义的列，作为主键

## Bean.hbm.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hibernate-mapping标签&lt;br&gt;
      |     |&lt;br&gt;
      |     |--package属性&lt;br&gt;
      |         |--指定包名，class里面可以使用简单类名&lt;br&gt;
      |&lt;br&gt;
      |--class标签(配置与表的关系)&lt;br&gt;
           |        |&lt;br&gt;
           |        |--name:实体类完整名称&lt;br&gt;
           |        |--table:与实体类对应表的名称&lt;br&gt;
           |        |--dynamic-insert 动态插入 默认值是false true 如果字段为null 不参与insert&lt;br&gt;
           |        |--dynamic-update:动态更新 true:没有改动的字段 不参与update&lt;br&gt;
           |&lt;br&gt;
           |--id标签(配置主键)&lt;br&gt;
           |        |   |&lt;br&gt;
           |        |   |--name:实体类属性名&lt;br&gt;
           |        |   |--column：主键在表中的名称&lt;br&gt;
           |        |   |--length: 列的长度&lt;br&gt;
           |        |   |--unsaved-value(很少用):指定主键为什么值时当做空处理&lt;br&gt;
           |        |   |--access(强烈推荐不要用):field 通过反射找到字段，赋值。绕过get set&lt;br&gt;
           |        |&lt;br&gt;
           |        |--generator标签(主键生成策略)&lt;br&gt;
           |             |&lt;br&gt;
           |             |--increment:数据库自己生成主键，先查询最大主键id值，然后id值+1&lt;br&gt;
           |             |--identity:依赖数据的主键自增功能&lt;br&gt;
           |             |--sequence:序列，依赖于数据库中的序列功能(Oracle)&lt;br&gt;
           |             |--hilo:Hibernate自己实现序列的算法(纯了解，永远用不到)&lt;br&gt;
           |             |--native:自动根据数据库increment,sequence,hilo三选一&lt;br&gt;
           |             |--uuid:自动生成32位不重复的字符串&lt;br&gt;
           |             |--assigned:自己指定主键值，表的主键是自然主键时&lt;br&gt;
           |&lt;br&gt;
           |--property标签(实体中属性和表中列的对应)&lt;br&gt;
                    |&lt;br&gt;
                    |--name:实体属性名称&lt;br&gt;
                    |--column:表中列的名称&lt;br&gt;
                    |--length:数据长度&lt;br&gt;
                    |--scale:小数有效位数&lt;br&gt;
                    |--precision:小数点后面长度&lt;br&gt;
                    |--not-null:指定属性的约束是否使用非空&lt;br&gt;
                    |--unique:指定属性的约束是否唯一&lt;br&gt;
                    |--insert(一般不用):该属性是否加入insert语句，插入的不用该属性&lt;br&gt;
                    |--update(一般不用):update的时候不会管该属性&lt;br&gt;
                    |--type:表达该属性的类型&lt;br&gt;
                          |&lt;br&gt;
                          |--java类型 java.lang.String&lt;br&gt;
                          |--数据库类型指定 varchar&lt;br&gt;
                          |--Hibernate类型指定 string&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;
##### User.hbm.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;&lt;br&gt;
&amp;lt;!DOCTYPE hibernate-mapping PUBLIC&lt;br&gt;
        &amp;quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&amp;quot;&lt;br&gt;
        &amp;quot;&lt;a href=&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd%22%3E&quot;&gt;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&amp;quot;&amp;gt;&lt;/a&gt;&lt;br&gt;
&lt;hibernate-mapping package=&quot;com.itheima.a_hello&quot;&gt;&lt;br&gt;
    &amp;lt;!--&lt;br&gt;
    class:配置与表的关系&lt;br&gt;
    name:实体类完整名称&lt;br&gt;
    table:与实体类对应表的名称&lt;br&gt;
    dynamic-insert 动态插入 默认值是false true 如果字段为null 不参与insert&lt;br&gt;
    dynamic-update:动态更新 true:没有改动的字段 不参与update&lt;br&gt;
    --&amp;gt;&lt;br&gt;
    &lt;class name=&quot;User&quot; table=&quot;t_user&quot; dynamic-insert=&quot;true&quot; dynamic-update=&quot;true&quot;&gt;&lt;br&gt;
        &amp;lt;!--&lt;br&gt;
        id:配置主键&lt;br&gt;
        column：主键在表中的名称&lt;br&gt;
        length: 列的长度&lt;br&gt;
        unsaved-value(很少用):指定主键为什么值时当做空处理&lt;br&gt;
        access(强烈推荐不要用):field 通过反射找到字段，赋值。绕过get set&lt;br&gt;
        --&amp;gt;&lt;br&gt;
        &lt;id name=&quot;id&quot; column=&quot;id&quot; length=&quot;9&quot; unsaved-value=&quot;0&quot;&gt;&lt;br&gt;
            &amp;lt;!--&lt;br&gt;
            主键生成策略&lt;br&gt;
            1.increment:数据库自己生成主键，先查询最大主键id值，然后id值+1&lt;br&gt;
            2.identity:依赖数据的主键自增功能&lt;br&gt;
            3.sequence:序列，依赖于数据库中的序列功能(Oracle)&lt;br&gt;
            4.hilo:Hibernate自己实现序列的算法(纯了解，永远用不到)&lt;br&gt;
            5.native:自动根据数据库increment,sequence,hilo三选一&lt;br&gt;
            6.uuid:自动生成32位不重复的字符串&lt;br&gt;
            7.assigned:自己指定主键值，表的主键是自然主键时&lt;br&gt;
            --&amp;gt;&lt;br&gt;
            &lt;generator class=&quot;increment&quot;&gt;&lt;/generator&gt;&lt;br&gt;
        &lt;/id&gt;&lt;br&gt;
        &amp;lt;!--&lt;br&gt;
        name:实体属性名称&lt;br&gt;
        column:表中列的名称&lt;br&gt;
        length:数据长度&lt;br&gt;
        scale:小数有效位数&lt;br&gt;
        precision:小数点后面长度&lt;br&gt;
        insert(一般不用):该属性是否加入insert语句，插入的不用该属性&lt;br&gt;
        not-null:指定属性的约束是否使用非空&lt;br&gt;
        unique:指定属性的约束是否唯一&lt;br&gt;
        update(一般不用):update的时候不会管该属性&lt;br&gt;
        type:表达该属性的类型&lt;br&gt;
        java类型 java.lang.String&lt;br&gt;
        数据库类型指定 varchar&lt;br&gt;
        Hibernate类型指定 string&lt;br&gt;
        --&amp;gt;&lt;br&gt;
        &lt;property name=&quot;name&quot; column=&quot;name&quot; insert=&quot;true&quot; not-null=&quot;true&quot; unique=&quot;true&quot; update=&quot;true&quot; type=&quot;java.lang.String&quot;&gt;&lt;/property&gt;&lt;br&gt;
        &lt;property name=&quot;password&quot; column=&quot;password&quot;&gt;&lt;/property&gt;&lt;br&gt;
        &lt;property name=&quot;sal&quot; column=&quot;sal&quot; precision=&quot;2&quot; scale=&quot;3&quot;&gt;&lt;/property&gt;&lt;br&gt;
    &lt;/class&gt;&lt;br&gt;
&lt;/hibernate-mapping&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-&quot; data-lang=&quot;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 
</feed>
